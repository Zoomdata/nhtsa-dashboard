// bower:scss
// endbower

@font-face {
    font-family: 'AF-LED7Seg-3';
    src: url('fonts/2BB2E2_0_0.woff') format('woff'),
         url('fonts/2BB2E2_0_0.ttf') format('truetype');
}

*, *:before, *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}

html, body {
    margin:0;
    padding:0;
    height:100%;
    width: 100%;
}

body {
    background-color: #999999;
    background: url(../images/car_background@2x.jpg) no-repeat 100% 100%, url(../images/speckles_background@2x.jpg) repeat;
    background-size: 530px 325px, auto;

    color: #333;
    font-family: 'Source Sans Pro', source-sans-pro, sans-serif;
    letter-spacing: 3px;
    overflow: hidden;
    perspective: 5000px;
}

img {
    vertical-align: middle;
}
button {
  overflow: visible;
  text-transform: none;
  margin: 0;
  -webkit-appearance: button;
  border: none;
}
button[disabled] {
  cursor: default;
}
button:focus {
    outline:0;
}
button::-moz-focus-inner{
  padding: 0;
  border: 0;
}

footer {
    position: relative;
    letter-spacing: normal;
    width: 990px;
    float: left;
    margin-top: 10px;
    margin-left: 5%;
    font-size: 10px;
    font-weight: 300;

    a:visited, a {
        color: #333;
    }
}

.group:after {
  content: "";
  display: table;
  clear: both;
}

.browsehappy {
    margin: 0.2em 0;
    background: #ccc;
    color: #000;
    padding: 0.2em 0;
}

.overlay {
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    z-index: 20;
    background-color: rgba(0,0,0,0.8);
}

.overlay-description {
    color: white;
    font-size: 30px;
    font-weight: 300;
    margin-left: 20px;
    margin-top: 20px;
    position: absolute;
    z-index: 101;

    img {
        vertical-align: bottom;
        width: 109px;
    }
}

.overlay-instructions {
    margin-left: 200px;
    margin-top: 240px;
    position: absolute;
    z-index: 101;
}

.dashboard {
    height: 94%;
    width: 90%;
    min-height: 490px;
    min-width: 990px;
    position: relative;
    margin: auto;
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
    white-space: nowrap;

    .dashboard-foreground {
        background: url(../images/speckles_background@2x.jpg) repeat;
        background-color: #999999;
        background-size: auto;

        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        border-bottom-left-radius: inherit;
        border-bottom-right-radius: inherit;
        box-shadow: #ABABAB 0px 0px 3px inset, 2px 2px 6px 0px rgba(0,0,0,0.75);
        overflow: hidden;
        display: inline-block;

        .year-trend-wrapper {
            position: relative;
            height: 54px;
            margin: 0 10px;
            width: calc(100% - 20px);
            margin-bottom: 18px;
            border-bottom: 1px solid #737373;

            .trend-header {
                float: left;
                font-size: 20px;
                margin-left: 60px;
                text-transform: uppercase;
                position: absolute;
                bottom: 0;
            }

            #trend {
                height: 50px;
                margin-left: 256px;
            }
        }

        .make-wrapper {
            background: #7A7A7A;
            float: left;
            padding: 0 8px;
            width: 20%;
            min-width: 186px;
            height: calc(100% - 180px);
            position: relative;

            .make-header {
                color: #f6ebe6;
                margin: 10px 0;
                font-size: 21px;
                font-weight: 300;
                text-transform: uppercase;
                height: 50px;
                position: relative;
                z-index: 100;
            }

            #make-bar-chart {
                height: calc(100% - 60px);
                position: relative;
                z-index: 100;
            }
        }

        .connector {
            background: #4C4C4C;
            float: left;
            width: 25px;
            height: calc(100% - 180px);
            margin-top: 46px;
            transform: skew(0,75deg);
        }

        .model-wrapper {
            background: #7A7A7A;
            float: left;
            padding: 0 8px;
            width: 20%;
            min-width: 186px;
            height: calc(100% - 180px);
            position: relative;

            .model-header {
                color: #f6ebe6;
                margin: 10px 0;
                font-size: 21px;
                font-weight: 300;
                text-transform: uppercase;
                height: 50px;
            }

            #model-bar-chart {
                height: calc(100% - 60px);
            }
        }

        .header {
            margin-top: 0px;
            height: 93px;
            margin-left: calc(20% + 50px);

            .title {
                color: #ffffff;
                font-size: 40px;
                font-weight: 700;
                text-transform: uppercase;
                letter-spacing: 0.3em;
                margin-left: 10px;

                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .stats {
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                position: relative;

                button.reset {
                    margin-left: 20px;
                    vertical-align: top;
                    background: none;
                    height: 30px;
                    padding: 0;
                }
                button.reset .circle {
                    background: rgba(93, 93, 93, 0.75);
                    color: #78C9D1;
                    width: 20px;
                    height: 20px;
                    border-radius: 50%;
                    // transform: rotate(300deg);
                    box-shadow: 4px 4px 3px 0px rgba(73, 73, 73, 0.75);
                    vertical-align: top;
                    padding: 2px 1px 0 2px;
                    font-size: 13px;
                }

                button.reset:active .circle {
                    box-shadow: none;
                }

                button.reset .label {
                    color: #4c4c4c;
                    font-size: 10px;
                    line-height: 12px;
                    margin-left: 6px;
                    text-align: left;
                    text-transform: uppercase;
                }

                div {
                    display: inline-block;
                }

                .LED {
                    background: #7A7A7A;
                    font-family: AF-LED7Seg-3;
                    font-size: 30px;
                    position: relative;
                    height: 30px;
                    margin-left: 20px;
                    line-height: 22px;

                    div {
                        position: absolute;
                        text-align: right;
                        width: inherit;
                        height: inherit;
                    }

                    div.background {
                        color: #737373;
                    }

                    div.foreground {
                        color: #F6EBE6;
                    }
                }

                .LED.five {
                    width: 115px;
                }

                .LED.six {
                    width: 135px;
                }

                .filler {
                    color: #f6ebe6;
                    height: 30px;
                    font-size: 21px;
                    line-height: 30px;
                    margin-left: 20px;
                    font-weight: 300;
                    vertical-align: top;
                    text-transform: uppercase;
                }
            }
        }

        .gauges {
            float: right;
            height: 120px;
            width: 55%;

            .gauge {
                display: inline-block;
                margin: 0 10px 0 0;
                width: 120px;
                height: 90px;
            }
        }

        .scatterplot {
            width: 100%;
            height: 100%;
        }

        .map {
            width: 100%;
            height: 100%;
        }

        .background-image {
            position: absolute;
            bottom: -10%;
            right: -6%;
            width: 530px;
            height: 325px;
        }

        .annotation {
            color: #333333;
            position: absolute;
            bottom: 0;
            left: 10px;
            height: 100px;
            letter-spacing: 0.15em;
            
            div {
                font-size: 12px;
                font-weight: 300;
                text-transform: uppercase;

                img {
                    margin-bottom: 10px;
                }
            }
        }
    }

    .dashboard-background {
        background: #424242;
        color: #E5E5E5;
        box-shadow: inset 0 0 100px 20px #000000;
        width: 100%;
        height: 100%;
        border-bottom-left-radius: inherit;
        border-bottom-right-radius: inherit;
        text-align: center;
        vertical-align: middle;
        position: absolute;
        padding: 0 24px;
        overflow: hidden;

        h2.header {
            font-weight: 300;
            font-size: 23px;
            text-transform: uppercase;
        }

        .backgrid-container {
            height: calc(100% - 100px);
            overflow: hidden;
        }

        .backgrid {
            $makeWidth: 100px;
            $modelWidth: 90px;
            $yearWidth: 90px;
            $stateWidth: 90px;
            $cityWidth: 150px;
            $crashedWidth: 30px;
            $fireWidth: 30px;
            $injuredWidth: 30px;
            $speedWidth: 40px;
            $descriptionWidth: 362px; //942px - 580px

            letter-spacing: 0.15em;

            thead tr {
                display: block;
                position: relative;
            }

            thead {
                th {
                    background-color: transparent;
                    border-bottom: 6px solid #5F5F5F;
                    height: 75px;
                    font-size: 11px;
                }

                th.make {
                    width: $makeWidth;
                    max-width: $makeWidth;
                }

                th.model {
                    width: $modelWidth;
                    max-width: $modelWidth;
                }

                th.year {
                    width: $yearWidth;
                    max-width: $yearWidth;
                }

                th.state {
                    width: $stateWidth;
                    max-width: $stateWidth;
                }

                th.city {
                    width: $cityWidth;
                    max-width: $cityWidth;
                }

                th.crashed {
                    transform: rotate(-90deg) translate(-2px, -25px);
                }

                th.fire {
                    transform: rotate(-90deg) translate(-8px, -47px);
                }

                th.injured {
                    transform: rotate(-90deg) translate(6px, -77px);
                }

                th.speed {
                    transform: rotate(-90deg) translate(-10px, -100px);
                }

                th.description {
                    width: $descriptionWidth;
                    max-width: $descriptionWidth;
                }
            }

            tbody {
                display: block;
                width: 100%;
                overflow: auto;

                td {
                    border-left: 1px solid #5F5F5F;
                    border-bottom: 1px solid #5F5F5F;
                    border-right: 1px solid #5F5F5F;
                    font-size: 11px;
                }

                td.bullet {
                    color: #6d6e71;
                }

                td:nth-child(1){
                    width: $makeWidth;
                    max-width: $makeWidth;
                }

                td:nth-child(2){
                    width: $modelWidth;
                    max-width: $modelWidth;
                }

                td:nth-child(3){
                    width: $yearWidth;
                    max-width: $yearWidth;
                    text-align: center;
                }

                td:nth-child(4){
                    width: $stateWidth;
                    max-width: $stateWidth;
                }

                td:nth-child(5){
                    width: $cityWidth;
                    max-width: $cityWidth;
                }

                td:nth-child(6){
                    width: $crashedWidth;
                    max-width: $crashedWidth;
                    text-align: center;
                }

                td:nth-child(7){
                    width: $fireWidth;
                    max-width: $fireWidth;
                    text-align: center;
                }

                td:nth-child(8){
                    width: $injuredWidth;
                    max-width: $injuredWidth;
                    text-align: center;
                }

                td:nth-child(9){
                    width: $speedWidth;
                    max-width: $speedWidth;
                    text-align: center;
                }

                td:nth-child(10){
                    width: $descriptionWidth;
                    max-width: $descriptionWidth;
                }
            }
        }

        .close-hood {
            position: absolute;
            bottom: 0px;
            left: calc(50% - 155px);
            cursor: pointer;
        }

    }
}

.leaflet-bar a, .leaflet-control-layers-toggle {
    padding-left: 4px;
}

/*----- Tabs -----*/
.tabs {
    width: 53%;
    margin-right: 2%;
    height: calc(100% - 320px);
    display: inline-block;
    position: relative;
    float: right;
}
 
    /*----- Tab Links -----*/
    /* Clearfix */
    .tab-links:after {
        display:block;
        clear:both;
        content:'';
    }

    .tab-links {
        margin: 0;
        padding: 0;
        height: 25px;
    }
 
    .tab-links li {
        width: 50%;
        float:left;
        list-style:none;
        text-align: center;

        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
 
        .tab-links a {
            width: 100%;
            padding:3px 15px;
            display:inline-block;
            border-radius:12px 12px 0px 0px;
            background: rgba(92, 92, 92, 0.8);
            font-size:14px;
            font-weight:600;
            color:white;
            transition:all linear 0.15s;
            border-top: 1px solid white;
            border-left: 1px solid white;
            border-right: 1px solid white;
            border-bottom: 1px solid white;
            text-transform: uppercase;
            text-decoration: none;
        }
 
        .tab-links a:hover {
            text-decoration:none;
        }
 
    li.active a, li.active a:hover {
        background: rgba(128, 128, 128, 0.8);
        border-bottom: 1px solid transparent;
    }
 
    /*----- Content of Tabs -----*/
    .tab-content {
        width: 100%;
        height: 100%;
        padding:8px 10px 0 10px;
        border-radius:0 0 3px 3px;
        background: linear-gradient(to bottom, rgba(128, 128, 128, 0.8), rgba(0, 0, 0, 0) 50%);

        border-width: 1px;
        border-style: solid;
        border-image: linear-gradient(to bottom, white, rgba(0, 0, 0, 0) 50%) 1 100%;
        border-bottom: 0;
    }
 
        .tab {
            display:none;
        }
 
        .tab.active {
            display:inline;
        }

.button-container {
    width: 120px;
    height: 110px;
    left: calc(50% - 120px);
    position: fixed;
    bottom: -5px;
    cursor: pointer;

    perspective: 600px;

    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.button-container .show-data {
  display: block;
  margin: auto;
  transform: rotateX(0deg);
  transform-origin: bottom;
  transition: all 0.3s;
  
  -webkit-filter: drop-shadow(6px 20px 7px rgba(0,0,0,0.8));
  // filter: url(#drop-shadow);
  -ms-filter: "progid:DXImageTransform.Microsoft.Dropshadow(OffX=6, OffY=20, Color='#444')";
  filter: "progid:DXImageTransform.Microsoft.Dropshadow(OffX=6, OffY=20, Color='#444')";
}

.button-container:hover .show-data {
  
  transform: rotateX(20deg);
  
  -webkit-filter: drop-shadow(6px 6px 7px rgba(0,0,0,0.8));
  // filter: url(#drop-shadow);
  -ms-filter: "progid:DXImageTransform.Microsoft.Dropshadow(OffX=6, OffY=6, Color='#444')";
  filter: "progid:DXImageTransform.Microsoft.Dropshadow(OffX=6, OffY=6, Color='#444')";
}

@keyframes tab-rotate {
  50%  { 
    transform: rotateX(-30deg);
  }

  100% {
    transform: rotateX(-30deg) translate(0, 200px);
  }
}

.button-container.active .show-data {
  animation: tab-rotate 2s normal;
  animation-fill-mode: forwards;
  
  -webkit-filter: none;
  -ms-filter: none;
  filter: none;
}

.arrow-bottom {
  width: 57px;
  height: 10px;
  transform: perspective(100px) rotateX(125deg) translate(0, 15px);
  margin: auto;
  background: #878787;
  transition: all 0.4s;
  transform-origin: bottom;
}

.button-container:hover .arrow-bottom {
  width: 57px;
  transform: perspective(110px) rotateX(128deg) translate(0, 15deg);
}



@keyframes bottom-drop {
  0% {  
      width: 57px;
      transform: perspective(110px) rotateX(128deg) translate(0, 15deg);
  }

  100% {
    transform: perspective(110px) rotateX(128deg) translate(0, -400px);
  }
}

.button-container.active .arrow-bottom {
  animation: bottom-drop 1s normal;
  animation-delay: 1s;
  animation-fill-mode: forwards;
}

.top {
  display: block;
  position: absolute;
  bottom: 26px;
}

.bottom {
  display: block;
  position: absolute;
  bottom: 23px;
}

.cover {
  width: 100%;
  height: 100%;
  position: absolute;
  top: calc(100% - 23px);
  background: #999999;
  z-index: 10;
}

