!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(hb.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=ob[a]={};return _.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+Math.random()}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ub,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:tb.test(c)?_.parseJSON(c):c}catch(e){}sb.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)rb.set(a[c],"globalEval",!b||rb.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(rb.hasData(a)&&(f=rb.access(a),g=rb.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sb.hasData(a)&&(h=sb.access(a),i=_.extend({},h),sb.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&yb.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Ob[a];return c||(c=t(a,b),"none"!==c&&c||(Nb=(Nb||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Nb[0].contentDocument,b.write(),b.close(),c=t(a,b),Nb.detach()),Ob[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Rb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qb.test(g)&&Pb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xb.length;e--;)if(b=Xb[e]+c,b in a)return b;return d}function y(a,b,c){var d=Tb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wb[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wb[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wb[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wb[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Rb(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qb.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=rb.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xb(d)&&(f[g]=rb.access(d,"olddisplay",u(d.nodeName)))):(e=xb(d),"none"===c&&e||rb.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Yb=void 0}),Yb=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wb[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cc[b]||[]).concat(cc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xb(a),p=rb.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?rb.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=rb.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;rb.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bc.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Yb||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Yb||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bc[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===vc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||zc.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.1",_=function(a,b){return new _.fn.init(a,b)},ab=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bb=/^-ms-/,cb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(bb,"ms-").replace(cb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ab,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var eb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ub,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=tb.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return _.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):_.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")(?:"+db+"*([*^$|!~]?=)"+db+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fb+"))|)"+db+"*\\]",hb=":("+eb+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+gb+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!y(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),v.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=rb.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!v.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&X.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[3]||a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&mb.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in w.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return _.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=eb,_.expr=eb.selectors,_.expr[":"]=_.expr.pseudos,_.unique=eb.uniqueSort,_.text=eb.getText,_.isXMLDoc=eb.isXML,_.contains=eb.contains;var fb=_.expr.match.needsContext,gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,hb=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0
}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fb.test(a)?_(a):a||[],!1).length}});var ib,jb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,kb=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:jb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ib).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),gb.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ib.ready?ib.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};kb.prototype=_.fn,ib=_(Z);var lb=/^(?:parents|prev(?:Until|All))/,mb={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fb.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(mb[a]||_.unique(e),lb.test(a)&&e.reverse()),this.pushStack(e)}});var nb=/\S+/g,ob={};_.Callbacks=function(a){a="string"==typeof a?ob[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pb;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pb.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pb||(pb=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pb.promise(b)},_.ready.promise();var qb=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(nb)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var rb=new h,sb=new h,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ub=/([A-Z])/g;_.extend({hasData:function(a){return sb.hasData(a)||rb.hasData(a)},data:function(a,b,c){return sb.access(a,b,c)},removeData:function(a,b){sb.remove(a,b)},_data:function(a,b,c){return rb.access(a,b,c)},_removeData:function(a,b){rb.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sb.get(f),1===f.nodeType&&!rb.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));rb.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sb.set(this,a)}):qb(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sb.get(f,a),void 0!==c)return c;if(c=sb.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sb.get(this,d);sb.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sb.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sb.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=rb.get(a,b),c&&(!d||_.isArray(c)?d=rb.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return rb.get(a,c)||rb.access(a,c,{empty:_.Callbacks("once memory").add(function(){rb.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=rb.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var vb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wb=["Top","Right","Bottom","Left"],xb=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},yb=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var zb="undefined";Y.focusinBubbles="onfocusin"in a;var Ab=/^key/,Bb=/^(?:mouse|pointer|contextmenu)|click/,Cb=/^(?:focusinfocus|focusoutblur)$/,Db=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==zb&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(nb)||[""],j=b.length;j--;)h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.hasData(a)&&rb.get(a);if(q&&(i=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,rb.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Cb.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Cb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(rb.get(g,"events")||{})[b.type]&&rb.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(rb.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Bb.test(e)?this.mouseHooks:Ab.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=rb.access(d,b);e||d.addEventListener(a,c,!0),rb.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=rb.access(d,b)-1;e?rb.access(d,b,e):(d.removeEventListener(a,c,!0),rb.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fb=/<([\w:]+)/,Gb=/<|&#?\w+;/,Hb=/<(?:script|style|link)/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^$|\/(?:java|ecma)script/i,Kb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mb.optgroup=Mb.option,Mb.tbody=Mb.tfoot=Mb.colgroup=Mb.caption=Mb.thead,Mb.th=Mb.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Gb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fb.exec(e)||["",""])[1].toLowerCase(),h=Mb[g]||Mb._default,f.innerHTML=h[1]+e.replace(Eb,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Jb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[rb.expando],e&&(b=rb.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);rb.cache[e]&&delete rb.cache[e]}delete sb.cache[c[sb.expando]]}}}),_.fn.extend({text:function(a){return qb(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Hb.test(a)&&!Mb[(Fb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Eb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ib.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Jb.test(g.type||"")&&!rb.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(Lb,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Nb,Ob={},Pb=/^margin/,Qb=new RegExp("^("+vb+")(?!px)[a-z%]+$","i"),Rb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sb=/^(none|table(?!-c[ea]).+)/,Tb=new RegExp("^("+vb+")(.*)$","i"),Ub=new RegExp("^([+-])=("+vb+")","i"),Vb={position:"absolute",visibility:"hidden",display:"block"},Wb={letterSpacing:"0",fontWeight:"400"},Xb=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ub.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wb&&(e=Wb[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sb.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Vb,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Rb(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wb[d]+b]=f[d]||f[d-2]||f[0];return e}},Pb.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qb(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Rb(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xb(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.pos=b=this.options.duration?_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Yb,Zb,$b=/^(?:toggle|show|hide)$/,_b=new RegExp("^(?:([+-])=|)("+vb+")([a-z%]*)$","i"),ac=/queueHooks$/,bc=[G],cc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_b.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_b.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cc[c]=cc[c]||[],cc[c].unshift(b)},prefilter:function(a,b){b?bc.unshift(a):bc.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||rb.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=rb.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ac.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=rb.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];
_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Yb=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Yb=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Zb||(Zb=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Zb),Zb=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var dc,ec,fc=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qb(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===zb?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?ec:dc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),ec={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fc[b]||_.find.attr;fc[b]=function(a,b,d){var e,f;return d||(f=fc[b],fc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fc[b]=f),e}});var gc=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qb(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gc.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hc=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===zb||"boolean"===c)&&(this.className&&rb.set(this,"__className__",this.className),this.className=this.className||a===!1?"":rb.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hc," ").indexOf(b)>=0)return!0;return!1}});var ic=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ic,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jc=_.now(),kc=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lc,mc,nc=/#.*$/,oc=/([?&])_=[^&]*/,pc=/^(.*?):[ \t]*([^\r\n]*)$/gm,qc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rc=/^(?:GET|HEAD)$/,sc=/^\/\//,tc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,uc={},vc={},wc="*/".concat("*");try{mc=location.href}catch(xc){mc=Z.createElement("a"),mc.href="",mc=mc.href}lc=tc.exec(mc.toLowerCase())||[],_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mc,type:"GET",isLocal:qc.test(lc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(uc),ajaxTransport:J(vc),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=pc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||mc)+"").replace(nc,"").replace(sc,lc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(nb)||[""],null==l.crossDomain&&(i=tc.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===lc[1]&&i[2]===lc[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(lc[3]||("http:"===lc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(uc,l,b,v),2===t)return v;j=l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rc.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kc.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=oc.test(e)?e.replace(oc,"$1_="+jc++):e+(kc.test(e)?"&":"?")+"_="+jc++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+wc+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(vc,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var yc=/%20/g,zc=/\[\]$/,Ac=/\r?\n/g,Bc=/^(?:submit|button|image|reset|file)$/i,Cc=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(yc,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Cc.test(this.nodeName)&&!Bc.test(a)&&(this.checked||!yb.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(Ac,"\r\n")}}):{name:b.name,value:c.replace(Ac,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Dc=0,Ec={},Fc={0:200,1223:204},Gc=_.ajaxSettings.xhr();a.ActiveXObject&&_(a).on("unload",function(){for(var a in Ec)Ec[a]()}),Y.cors=!!Gc&&"withCredentials"in Gc,Y.ajax=Gc=!!Gc,_.ajaxTransport(function(a){var b;return Y.cors||Gc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Dc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Ec[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Fc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Ec[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hc=[],Ic=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hc.pop()||_.expando+"_"+jc++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ic.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ic.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ic,"$1"+e):b.jsonp!==!1&&(b.url+=(kc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Hc.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=gb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Jc=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Kc=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==zb&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kc;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Kc})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qb(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qb.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qb(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Lc=a.jQuery,Mc=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Mc),b&&a.jQuery===_&&(a.jQuery=Lc),_},typeof b===zb&&(a.jQuery=a.$=_),_}),function(a){var b=function(){"use strict";var a="s",c=function(a){var b=-a.getTimezoneOffset();return null!==b?b:0},d=function(a,b,c){var d=new Date;return void 0!==a&&d.setFullYear(a),d.setMonth(b),d.setDate(c),d},e=function(a){return c(d(a,0,2))},f=function(a){return c(d(a,5,2))},g=function(a){var b=a.getMonth()>7,d=b?f(a.getFullYear()):e(a.getFullYear()),g=c(a),h=0>d,i=d-g;return h||b?0!==i:0>i},h=function(){var b=e(),c=f(),d=b-c;return 0>d?b+",1":d>0?c+",1,"+a:b+",0"},i=function(){var a=h();return new b.TimeZone(b.olson.timezones[a])},j=function(a){var b=new Date(2010,6,15,1,0,0,0),c={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":b,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":b,"Asia/Omsk":b,"Asia/Krasnoyarsk":b,"Asia/Irkutsk":b,"Asia/Yakutsk":b,"Asia/Vladivostok":b,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":b,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":b,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return c[a]};return{determine:i,date_is_dst:g,dst_start_for:j}}();b.TimeZone=function(a){"use strict";var c={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},d=a,e=function(){for(var a=c[d],e=a.length,f=0,g=a[0];e>f;f+=1)if(g=a[f],b.date_is_dst(b.dst_start_for(g)))return void(d=g)},f=function(){return"undefined"!=typeof c[d]};return f()&&e(),{name:function(){return d}}},b.olson={},b.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=b:a.jstz=b}(this),function(a){function b(a){var b=a.length,d=c.type(a);return"function"===d||c.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"==typeof b&&b>0&&b-1 in a}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return null!=a&&a==a.window},c.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;g>f&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=c.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),e===!1)break;return a},c.data=function(a,b,e){if(void 0===e){var f=a[c.expando],g=f&&d[f];if(void 0===b)return g;if(g&&b in g)return g[b]}else if(void 0!==b){var f=a[c.expando]||(a[c.expando]=++c.uuid);return d[f]=d[f]||{},d[f][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&c.each(b,function(a,b){delete f[b]})},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):void 0!==d&&(h[e]=d));return h},c.queue=function(a,d,e){function f(a,c){var d=c||[];return null!=a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){d=(d||"fx")+"queue";var g=c.data(a,d);return e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift()),f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect();return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:c(a).offset();return d.top-=parseFloat(b.style.marginTop)||0,d.left-=parseFloat(b.style.marginLeft)||0,a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}};var d={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}}(window),function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return p.isWrapped(a)?a=[].slice.call(a):p.isNode(a)&&(a=[a]),a}function g(a){var b=m.data(a,"velocity");return null===b?d:b}function h(a){return function(b){return Math.round(b*a)*(1/a)}}function i(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;p>e;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;t>b;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!=f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0==i?h:m(b,c,c+u)}function o(){y=!0,(a!=c||d!=e)&&l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function j(a,b){var c=a;return p.isString(a)?t.Easings[a]||(c=!1):c=p.isArray(a)&&1===a.length?h.apply(null,a):p.isArray(a)&&2===a.length?u.apply(null,a.concat([b])):p.isArray(a)&&4===a.length?i.apply(null,a):!1,c===!1&&(c=t.Easings[t.defaults.easing]?t.defaults.easing:s),c}function k(a){if(a)for(var b=(new Date).getTime(),c=0,e=t.State.calls.length;e>c;c++)if(t.State.calls[c]){var f=t.State.calls[c],h=f[0],i=f[2],j=f[3];j||(j=t.State.calls[c][3]=b-16);for(var n=Math.min((b-j)/i.duration,1),o=0,q=h.length;q>o;o++){var r=h[o],s=r.element;if(g(s)){var u=!1;if(i.display!==d&&null!==i.display&&"none"!==i.display){if("flex"===i.display){var w=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];m.each(w,function(a,b){v.setPropertyValue(s,"display",b)})}v.setPropertyValue(s,"display",i.display)}i.visibility&&"hidden"!==i.visibility&&v.setPropertyValue(s,"visibility",i.visibility);for(var y in r)if("element"!==y){var z,A=r[y],B=p.isString(A.easing)?t.Easings[A.easing]:A.easing;if(z=1===n?A.endValue:A.startValue+(A.endValue-A.startValue)*B(n),A.currentValue=z,v.Hooks.registered[y]){var C=v.Hooks.getRoot(y),D=g(s).rootPropertyValueCache[C];D&&(A.rootPropertyValue=D)}var E=v.setPropertyValue(s,y,A.currentValue+(0===parseFloat(z)?"":A.unitType),A.rootPropertyValue,A.scrollData);v.Hooks.registered[y]&&(g(s).rootPropertyValueCache[C]=v.Normalizations.registered[C]?v.Normalizations.registered[C]("extract",null,E[1]):E[1]),"transform"===E[0]&&(u=!0)
}i.mobileHA&&g(s).transformCache.translate3d===d&&(g(s).transformCache.translate3d="(0px, 0px, 0px)",u=!0),u&&v.flushTransformCache(s)}}i.display!==d&&"none"!==i.display&&(t.State.calls[c][2].display=!1),i.visibility&&"hidden"!==i.visibility&&(t.State.calls[c][2].visibility=!1),i.progress&&i.progress.call(f[1],f[1],n,Math.max(0,j+i.duration-b),j),1===n&&l(c)}t.State.isTicking&&x(k)}function l(a,b){if(!t.State.calls[a])return!1;for(var c=t.State.calls[a][0],e=t.State.calls[a][1],f=t.State.calls[a][2],h=t.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||f.loop||("none"===f.display&&v.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&v.setPropertyValue(l,"visibility",f.visibility)),(m.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(m.queue(l)[1]))&&g(l)){g(l).isAnimating=!1,g(l).rootPropertyValueCache={};var n=!1;m.each(v.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=g(l).transformCache[b];g(l).transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(n=!0,delete g(l).transformCache[b])}),f.mobileHA&&(n=!0,delete g(l).transformCache.translate3d),n&&v.flushTransformCache(l),v.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(o){setTimeout(function(){throw o},1)}h&&f.loop!==!0&&h(e),f.loop!==!0||b||(m.each(g(l).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360)}),t(l,"reverse",{loop:!0,delay:f.delay})),f.queue!==!1&&m.dequeue(l,f.queue)}t.State.calls[a]=!1;for(var p=0,q=t.State.calls.length;q>p;p++)if(t.State.calls[p]!==!1){i=!0;break}i===!1&&(t.State.isTicking=!1,delete t.State.calls,t.State.calls=[])}var m,n=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),o=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),p={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof SVGElement},isEmptyObject:function(a){var b;for(b in a)return!1;return!0}},q=!1;if(a.fn&&a.fn.jquery?(m=a,q=!0):m=b.Velocity.Utilities,8>=n&&!q)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=n)return void(jQuery.fn.velocity=jQuery.fn.animate);var r=400,s="swing",t={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:m,Sequences:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:r,easing:s,begin:null,complete:null,progress:null,display:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){m.data(a,"velocity",{isSVG:p.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},animate:null,hook:null,mock:!1,version:{major:1,minor:0,patch:0},debug:!1};b.pageYOffset!==d?(t.State.scrollAnchor=b,t.State.scrollPropertyLeft="pageXOffset",t.State.scrollPropertyTop="pageYOffset"):(t.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,t.State.scrollPropertyLeft="scrollLeft",t.State.scrollPropertyTop="scrollTop");var u=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();t.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){t.Easings[b[0]]=i.apply(null,b[1])});var v=t.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<v.Lists.colors.length;a++)v.Hooks.templates[v.Lists.colors[a]]=["Red Green Blue Alpha","255 255 255 1"];var b,c,d;if(n)for(b in v.Hooks.templates){c=v.Hooks.templates[b],d=c[0].split(" ");var e=c[1].match(v.RegEx.valueSplit);"Color"===d[0]&&(d.push(d.shift()),e.push(e.shift()),v.Hooks.templates[b]=[d.join(" "),e.join(" ")])}for(b in v.Hooks.templates){c=v.Hooks.templates[b],d=c[0].split(" ");for(var a in d){var f=b+d[a],g=a;v.Hooks.registered[f]=[b,g]}}},getRoot:function(a){var b=v.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return v.RegEx.valueUnwrap.test(b)&&(b=b.match(v.Hooks.RegEx.valueUnwrap)[1]),v.Values.isCSSNullValue(b)&&(b=v.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=v.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=v.Hooks.cleanRootPropertyValue(d,b),b.toString().match(v.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=v.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=v.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(v.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return v.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(v.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},opacity:function(a,b,c){if(8>=n)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){9>=n||t.State.isGingerbread||(v.Lists.transformsBase=v.Lists.transformsBase.concat(v.Lists.transforms3D));for(var a=0;a<v.Lists.transformsBase.length;a++)!function(){var b=v.Lists.transformsBase[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[b]===d?/^scale/i.test(b)?1:0:g(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":t.State.isAndroid&&g(c).transformCache[b]===d&&1>e&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":f=!/(deg|\d)$/i.test(e);break;case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[b]="("+e+")"),g(c).transformCache[b]}}}();for(var a=0;a<v.Lists.colors.length;a++)!function(){var b=v.Lists.colors[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return b;case"extract":var f;if(v.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:v.RegEx.isHex.test(e)?g="rgb("+v.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(v.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=n||3!==f.split(" ").length||(f+=" 1"),f;case"inject":return 8>=n?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=n?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(n||t.State.isAndroid&&!t.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(t.State.prefixMatches[a])return[t.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),p.isString(t.State.prefixElement.style[e]))return t.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function h(a,c){function e(){j&&v.setPropertyValue(a,"display","none")}var i=0;if(8>=n)i=m.css(a,c);else{var j=!1;if(/^(width|height)$/.test(c)&&0===v.getPropertyValue(a,"display")&&(j=!0,v.setPropertyValue(a,"display",v.Values.getDisplayType(a))),!f){if("height"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(v.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(v.getPropertyValue(a,"paddingBottom"))||0);return e(),k}if("width"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(v.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(v.getPropertyValue(a,"paddingRight"))||0);return e(),l}}var o;o=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),(n||t.State.isFirefox)&&"borderColor"===c&&(c="borderTopColor"),i=9===n&&"filter"===c?o.getPropertyValue(c):o[c],(""===i||null===i)&&(i=a.style[c]),e()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(c)){var p=h(a,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(c))&&(i=m(a).position()[c]+"px")}return i}var i;if(v.Hooks.registered[c]){var j=c,k=v.Hooks.getRoot(j);e===d&&(e=v.getPropertyValue(a,v.Names.prefixCheck(k)[0])),v.Normalizations.registered[k]&&(e=v.Normalizations.registered[k]("extract",a,e)),i=v.Hooks.extractValue(j,e)}else if(v.Normalizations.registered[c]){var l,o;l=v.Normalizations.registered[c]("name",a),"transform"!==l&&(o=h(a,v.Names.prefixCheck(l)[0]),v.Values.isCSSNullValue(o)&&v.Hooks.templates[c]&&(o=v.Hooks.templates[c][1])),i=v.Normalizations.registered[c]("extract",a,o)}return/^[\d-]/.test(i)||(i=g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c)?/^(height|width)$/i.test(c)?a.getBBox()[c]:a.getAttribute(c):h(a,v.Names.prefixCheck(c)[0])),v.Values.isCSSNullValue(i)&&(i=0),t.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(v.Normalizations.registered[c]&&"transform"===v.Normalizations.registered[c]("name",a))v.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(v.Hooks.registered[c]){var i=c,j=v.Hooks.getRoot(c);e=e||v.getPropertyValue(a,j),d=v.Hooks.injectValue(i,d,e),c=j}if(v.Normalizations.registered[c]&&(d=v.Normalizations.registered[c]("inject",a,d),c=v.Normalizations.registered[c]("name",a)),h=v.Names.prefixCheck(c)[0],8>=n)try{a.style[h]=d}catch(k){t.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d;t.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(v.getPropertyValue(a,b))}var c="";if((n||t.State.isAndroid&&!t.State.isChrome)&&g(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};m.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,f;m.each(g(a).transformCache,function(b){return e=g(a).transformCache[b],"transformPerspective"===b?(f=e,!0):(9===n&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))}),f&&(c="perspective"+f+" "+c)}v.setPropertyValue(a,"transform",c)}};v.Hooks.register(),v.Normalizations.register(),t.hook=function(a,b,c){var e=d;return a=f(a),m.each(a,function(a,f){if(g(f)===d&&t.init(f),c===d)e===d&&(e=t.CSS.getPropertyValue(f,b));else{var h=t.CSS.setPropertyValue(f,b,c);"transform"===h[0]&&t.CSS.flushTransformCache(f),e=h}}),e};var w=function(){function a(){return i?C.promise||null:n}function h(){function a(){function a(a,b){var c=d,e=d,f=d;return p.isArray(a)?(c=a[0],!p.isArray(a[1])&&/^[\d-]/.test(a[1])||p.isFunction(a[1])||v.RegEx.isHex.test(a[1])?f=a[1]:(p.isString(a[1])&&!v.RegEx.isHex.test(a[1])||p.isArray(a[1]))&&(e=b?a[1]:j(a[1],i.duration),a[2]!==d&&(f=a[2]))):c=a,b||(e=e||i.easing),p.isFunction(c)&&(c=c.call(h,z,y)),p.isFunction(f)&&(f=f.call(h,z,y)),[c||0,e,f]}function n(a,b){var c,d;return d=(b||0).toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=v.Values.getUnitType(a)),[d,c]}function o(){var a={myParent:h.parentNode||c.body,position:v.getPropertyValue(h,"position"),fontSize:v.getPropertyValue(h,"fontSize")},d=a.position===J.lastPosition&&a.myParent===J.lastParent,e=a.fontSize===J.lastFontSize;J.lastParent=a.myParent,J.lastPosition=a.position,J.lastFontSize=a.fontSize;var f=100,i={};if(e&&d)i.emToPx=J.lastEmToPx,i.percentToPxWidth=J.lastPercentToPxWidth,i.percentToPxHeight=J.lastPercentToPxHeight;else{var j=g(h).isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");t.init(j),a.myParent.appendChild(j),m.each(["overflow","overflowX","overflowY"],function(a,b){t.CSS.setPropertyValue(j,b,"hidden")}),t.CSS.setPropertyValue(j,"position",a.position),t.CSS.setPropertyValue(j,"fontSize",a.fontSize),t.CSS.setPropertyValue(j,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){t.CSS.setPropertyValue(j,b,f+"%")}),t.CSS.setPropertyValue(j,"paddingLeft",f+"em"),i.percentToPxWidth=J.lastPercentToPxWidth=(parseFloat(v.getPropertyValue(j,"width",null,!0))||1)/f,i.percentToPxHeight=J.lastPercentToPxHeight=(parseFloat(v.getPropertyValue(j,"height",null,!0))||1)/f,i.emToPx=J.lastEmToPx=(parseFloat(v.getPropertyValue(j,"paddingLeft"))||1)/f,a.myParent.removeChild(j)}return null===J.remToPx&&(J.remToPx=parseFloat(v.getPropertyValue(c.body,"fontSize"))||16),null===J.vwToPx&&(J.vwToPx=parseFloat(b.innerWidth)/100,J.vhToPx=parseFloat(b.innerHeight)/100),i.remToPx=J.remToPx,i.vwToPx=J.vwToPx,i.vhToPx=J.vhToPx,t.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),h),i}if(i.begin&&0===z)try{i.begin.call(q,q)}catch(r){setTimeout(function(){throw r},1)}if("scroll"===D){var w,x,A,B=/^x$/i.test(i.axis)?"Left":"Top",E=parseFloat(i.offset)||0;i.container?p.isWrapped(i.container)||p.isNode(i.container)?(i.container=i.container[0]||i.container,w=i.container["scroll"+B],A=w+m(h).position()[B.toLowerCase()]+E):i.container=null:(w=t.State.scrollAnchor[t.State["scrollProperty"+B]],x=t.State.scrollAnchor[t.State["scrollProperty"+("Left"===B?"Top":"Left")]],A=m(h).offset()[B.toLowerCase()]+E),l={scroll:{rootPropertyValue:!1,startValue:w,currentValue:w,endValue:A,unitType:"",easing:i.easing,scrollData:{container:i.container,direction:B,alternateValue:x}},element:h},t.debug&&console.log("tweensContainer (scroll): ",l.scroll,h)}else if("reverse"===D){if(!g(h).tweensContainer)return void m.dequeue(h,i.queue);"none"===g(h).opts.display&&(g(h).opts.display="auto"),"hidden"===g(h).opts.visibility&&(g(h).opts.visibility="visible"),g(h).opts.loop=!1,g(h).opts.begin=null,g(h).opts.complete=null,u.easing||delete i.easing,u.duration||delete i.duration,i=m.extend({},g(h).opts,i);var F=m.extend(!0,{},g(h).tweensContainer);for(var G in F)if("element"!==G){var H=F[G].startValue;F[G].startValue=F[G].currentValue=F[G].endValue,F[G].endValue=H,p.isEmptyObject(u)||(F[G].easing=i.easing),t.debug&&console.log("reverse tweensContainer ("+G+"): "+JSON.stringify(F[G]),h)}l=F}else if("start"===D){var F;g(h).tweensContainer&&g(h).isAnimating===!0&&(F=g(h).tweensContainer),m.each(s,function(b,c){if(RegExp("^"+v.Lists.colors.join("$|^")+"$").test(b)){var e=a(c,!0),f=e[0],g=e[1],h=e[2];if(v.RegEx.isHex.test(f)){for(var i=["Red","Green","Blue"],j=v.Values.hexToRgb(f),k=h?v.Values.hexToRgb(h):d,l=0;l<i.length;l++)s[b+i[l]]=[j[l],g,k?k[l]:k];delete s[b]}}});for(var I in s){var L=a(s[I]),M=L[0],N=L[1],O=L[2];I=v.Names.camelCase(I);var P=v.Hooks.getRoot(I),Q=!1;if(g(h).isSVG||v.Names.prefixCheck(P)[1]!==!1||v.Normalizations.registered[P]!==d){(i.display!==d&&null!==i.display&&"none"!==i.display||i.visibility&&"hidden"!==i.visibility)&&/opacity|filter/.test(I)&&!O&&0!==M&&(O=0),i._cacheValues&&F&&F[I]?(O===d&&(O=F[I].endValue+F[I].unitType),Q=g(h).rootPropertyValueCache[P]):v.Hooks.registered[I]?O===d?(Q=v.getPropertyValue(h,P),O=v.getPropertyValue(h,I,Q)):Q=v.Hooks.templates[P][1]:O===d&&(O=v.getPropertyValue(h,I));var R,S,T,U=!1;if(R=n(I,O),O=R[0],T=R[1],R=n(I,M),M=R[0].replace(/^([+-\/*])=/,function(a,b){return U=b,""}),S=R[1],O=parseFloat(O)||0,M=parseFloat(M)||0,"%"===S&&(/^(fontSize|lineHeight)$/.test(I)?(M/=100,S="em"):/^scale/.test(I)?(M/=100,S=""):/(Red|Green|Blue)$/i.test(I)&&(M=M/100*255,S="")),/[\/*]/.test(U))S=T;else if(T!==S&&0!==O)if(0===M)S=T;else{f=f||o();var V=/margin|padding|left|right|width|text|word|letter/i.test(I)||/X$/.test(I)||"x"===I?"x":"y";switch(T){case"%":O*="x"===V?f.percentToPxWidth:f.percentToPxHeight;break;case"px":break;default:O*=f[T+"ToPx"]}switch(S){case"%":O*=1/("x"===V?f.percentToPxWidth:f.percentToPxHeight);break;case"px":break;default:O*=1/f[S+"ToPx"]}}switch(U){case"+":M=O+M;break;case"-":M=O-M;break;case"*":M=O*M;break;case"/":M=O/M}l[I]={rootPropertyValue:Q,startValue:O,currentValue:O,endValue:M,unitType:S,easing:N},t.debug&&console.log("tweensContainer ("+I+"): "+JSON.stringify(l[I]),h)}else t.debug&&console.log("Skipping ["+P+"] due to a lack of browser support.")}l.element=h}l.element&&(v.Values.addClass(h,"velocity-animating"),K.push(l),""===i.queue&&(g(h).tweensContainer=l,g(h).opts=i),g(h).isAnimating=!0,z===y-1?(t.State.calls.length>1e4&&(t.State.calls=e(t.State.calls)),t.State.calls.push([K,q,i,null,C.resolver]),t.State.isTicking===!1&&(t.State.isTicking=!0,k())):z++)}var f,h=this,i=m.extend({},t.defaults,u),l={};if(g(h)===d&&t.init(h),parseFloat(i.delay)&&i.queue!==!1&&m.queue(h,i.queue,function(a){t.velocityQueueEntryFlag=!0,g(h).delayTimer={setTimeout:setTimeout(a,parseFloat(i.delay)),next:a}}),t.mock===!0)i.duration=1;else switch(i.duration.toString().toLowerCase()){case"fast":i.duration=200;break;case"normal":i.duration=r;break;case"slow":i.duration=600;break;default:i.duration=parseFloat(i.duration)||1}i.easing=j(i.easing,i.duration),i.begin&&!p.isFunction(i.begin)&&(i.begin=null),i.progress&&!p.isFunction(i.progress)&&(i.progress=null),i.complete&&!p.isFunction(i.complete)&&(i.complete=null),i.display!==d&&null!==i.display&&(i.display=i.display.toString().toLowerCase(),"auto"===i.display&&(i.display=t.CSS.Values.getDisplayType(h))),i.visibility&&(i.visibility=i.visibility.toString().toLowerCase()),i.mobileHA=i.mobileHA&&t.State.isMobile&&!t.State.isGingerbread,i.queue===!1?i.delay?setTimeout(a,i.delay):a():m.queue(h,i.queue,function(b,c){return c===!0?(C.promise&&C.resolver(q),!0):(t.velocityQueueEntryFlag=!0,void a(b))}),""!==i.queue&&"fx"!==i.queue||"inprogress"===m.queue(h)[0]||m.dequeue(h)}var i,n,o,q,s,u,x=arguments[0]&&(m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));if(p.isWrapped(this)?(i=!1,o=0,q=this,n=this):(i=!0,o=1,q=x?arguments[0].elements:arguments[0]),q=f(q)){x?(s=arguments[0].properties,u=arguments[0].options):(s=arguments[o],u=arguments[o+1]);var y=q.length,z=0;if("stop"!==s&&!m.isPlainObject(u)){var A=o+1;u={};for(var B=A;B<arguments.length;B++)p.isArray(arguments[B])||!/fast|normal|slow/i.test(arguments[B].toString())&&!/^\d/.test(arguments[B])?p.isString(arguments[B])||p.isArray(arguments[B])?u.easing=arguments[B]:p.isFunction(arguments[B])&&(u.complete=arguments[B]):u.duration=arguments[B]}var C={promise:null,resolver:null,rejecter:null};i&&t.Promise&&(C.promise=new t.Promise(function(a,b){C.resolver=a,C.rejecter=b}));var D;switch(s){case"scroll":D="scroll";break;case"reverse":D="reverse";break;case"stop":m.each(q,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer)});var E=[];return m.each(t.State.calls,function(a,b){b&&m.each(b[1],function(c,e){var f=p.isString(u)?u:"";return u!==d&&b[2].queue!==f?!0:void m.each(q,function(b,c){c===e&&(u!==d&&(m.each(m.queue(c,f),function(a,b){p.isFunction(b)&&b(null,!0)}),m.queue(c,f,[])),g(c)&&""===f&&m.each(g(c).tweensContainer,function(a,b){b.endValue=b.currentValue}),E.push(a))})})}),m.each(E,function(a,b){l(b,!0)}),C.promise&&C.resolver(q),a();default:if(!m.isPlainObject(s)||p.isEmptyObject(s)){if(p.isString(s)&&t.Sequences[s]){var F=m.extend({},u),G=F.duration,H=F.delay||0;return F.backwards===!0&&(q=q.reverse()),m.each(q,function(a,b){parseFloat(F.stagger)?F.delay=H+parseFloat(F.stagger)*a:p.isFunction(F.stagger)&&(F.delay=H+F.stagger.call(b,a,y)),F.drag&&(F.duration=parseFloat(G)||(/^(callout|transition)/.test(s)?1e3:r),F.duration=Math.max(F.duration*(F.backwards?1-a/y:(a+1)/y),.75*F.duration,200)),t.Sequences[s].call(b,b,F||{},a,y,q,C.promise?C:d)}),a()}var I="Velocity: First argument ("+s+") was not a property map, a known action, or a registered sequence. Aborting.";return C.promise?C.rejecter(new Error(I)):console.log(I),a()}D="start"}var J={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},K=[];m.each(q,function(a,b){p.isNode(b)&&h.call(b)});var L,F=m.extend({},t.defaults,u);if(F.loop=parseInt(F.loop),L=2*F.loop-1,F.loop)for(var M=0;L>M;M++){var N={delay:F.delay};M===L-1&&(N.display=F.display,N.visibility=F.visibility,N.complete=F.complete),w(q,"reverse",N)}return a()}};t=m.extend(w,t),t.animate=w;var x=b.requestAnimationFrame||o;return t.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(x=function(a){return setTimeout(function(){a(!0)},16)},k()):x=b.requestAnimationFrame||o}),a.Velocity=t,a!==b&&(a.fn.velocity=w,a.fn.velocity.defaults=t.defaults),m.each(["Down","Up"],function(a,b){t.Sequences["slide"+b]=function(a,c,e,f,g,h){var i=m.extend({},c),j=i.begin,k=i.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},n={};i.display===d&&(i.display="Down"===b?"inline"===t.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){j&&j.call(g,g),n.overflow=a.style.overflow,a.style.overflow="hidden";for(var c in l){n[c]=a.style[c];var d=t.CSS.getPropertyValue(a,c);l[c]="Down"===b?[d,0]:[0,d]}},i.complete=function(){for(var b in n)a.style[b]=n[b];k&&k.call(g,g),h&&h.resolver(g)},t(a,l,i)}}),m.each(["In","Out"],function(a,b){t.Sequences["fade"+b]=function(a,c,e,f,g,h){var i=m.extend({},c),j={opacity:"In"===b?1:0},k=i.complete;i.complete=e!==f-1?i.begin=null:function(){k&&k.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),t(this,j,i)}}),t}(window.jQuery||window.Zepto||window,window,document)}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return arguments.length<2||c?a[x.random(a.length-1)]:x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={},f=null==c?x.identity:B(c);return y(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};x.groupBy=C(function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])
},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(a,b){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){{var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice}b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),function(a){"object"==typeof exports?module.exports=a(module.exports,require("underscore"),require("backbone")):a(this,this._,this.Backbone)}(function(a,b,c){"use strict";function d(a,b,c){var d=b-(a+"").length;d=0>d?0:d;for(var e="",f=0;d>f;f++)e+=c;return e+a}var e="	\n\f\r \u2028\u2029";if(!String.prototype.trim||e.trim()){e="["+e+"]";var f=new RegExp("^"+e+e+"*"),g=new RegExp(e+e+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(f,"").replace(g,"")}}var h=c.$,i=a.Backgrid={Extension:{},resolveNameToClass:function(a,c){if(b.isString(a)){var d=b.map(a.split("-"),function(a){return a.slice(0,1).toUpperCase()+a.slice(1)}).join("")+c,e=i[d]||i.Extension[d];if(b.isUndefined(e))throw new ReferenceError("Class '"+d+"' not found");return e}return a},callByNeed:function(){var a=arguments[0];if(!b.isFunction(a))return a;var c=arguments[1],d=[].slice.call(arguments,2);return a.apply(c,d+""?d:[])}};b.extend(i,c.Events);var j=i.Command=function(a){b.extend(this,{altKey:!!a.altKey,"char":a["char"],charCode:a.charCode,ctrlKey:!!a.ctrlKey,key:a.key,keyCode:a.keyCode,locale:a.locale,location:a.location,metaKey:!!a.metaKey,repeat:!!a.repeat,shiftKey:!!a.shiftKey,which:a.which})};b.extend(j.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var k=i.CellFormatter=function(){};b.extend(k.prototype,{fromRaw:function(a){return a},toRaw:function(a){return a}});var l=i.NumberFormatter=function(a){if(b.extend(this,this.defaults,a||{}),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};l.prototype=new k,b.extend(l.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(a){if(b.isNull(a)||b.isUndefined(a))return"";a=a.toFixed(~~this.decimals);var c=a.split("."),d=c[0],e=c[1]?(this.decimalSeparator||".")+c[1]:"";return d.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+e},toRaw:function(a){if(a=a.trim(),""===a)return null;for(var c="",d=a.split(this.orderSeparator),e=0;e<d.length;e++)c+=d[e];var f=c.split(this.decimalSeparator);c="";for(var e=0;e<f.length;e++)c=c+f[e]+".";"."===c[c.length-1]&&(c=c.slice(0,c.length-1));var g=1*(1*c).toFixed(~~this.decimals);return b.isNumber(g)&&!b.isNaN(g)?g:void 0}});var m=i.PercentFormatter=function(){i.NumberFormatter.apply(this,arguments)};m.prototype=new i.NumberFormatter,b.extend(m.prototype,{defaults:b.extend({},l.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(a){var b=[].slice.call(arguments,1);return b.unshift(a*this.multiplier),(l.prototype.fromRaw.apply(this,b)||"0")+this.symbol},toRaw:function(a){var c=a.split(this.symbol);if(c&&c[0]&&""===c[1]||null==c[1]){var d=l.prototype.toRaw.call(this,c[0]);return b.isUndefined(d)?d:d/this.multiplier}}});var n=i.DatetimeFormatter=function(a){if(b.extend(this,this.defaults,a||{}),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};n.prototype=new k,b.extend(n.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(a,c){if(""===(a+"").trim())return null;var e,f=null;if(b.isNumber(a)){var g=new Date(a);
e=d(g.getUTCFullYear(),4,0)+"-"+d(g.getUTCMonth()+1,2,0)+"-"+d(g.getUTCDate(),2,0),f=d(g.getUTCHours(),2,0)+":"+d(g.getUTCMinutes(),2,0)+":"+d(g.getUTCSeconds(),2,0)}else{a=a.trim();var h=a.split(this.ISO_SPLITTER_RE)||[];e=this.DATE_RE.test(h[0])?h[0]:"",f=e&&h[1]?h[1]:this.TIME_RE.test(h[0])?h[0]:""}var i=this.DATE_RE.exec(e)||[],j=this.TIME_RE.exec(f)||[];if(c){if(this.includeDate&&b.isUndefined(i[0]))return;if(this.includeTime&&b.isUndefined(j[0]))return;if(!this.includeDate&&e)return;if(!this.includeTime&&f)return}var g=new Date(Date.UTC(1*i[1]||0,1*i[2]-1||0,1*i[3]||0,1*j[1]||null,1*j[2]||null,1*j[3]||null,1*j[5]||null)),k="";return this.includeDate&&(k=d(g.getUTCFullYear(),4,0)+"-"+d(g.getUTCMonth()+1,2,0)+"-"+d(g.getUTCDate(),2,0)),this.includeTime&&(k=k+(this.includeDate?"T":"")+d(g.getUTCHours(),2,0)+":"+d(g.getUTCMinutes(),2,0)+":"+d(g.getUTCSeconds(),2,0),this.includeMilli&&(k=k+"."+d(g.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(k+="Z"),k},fromRaw:function(a){return b.isNull(a)||b.isUndefined(a)?"":this._convert(a)},toRaw:function(a){return this._convert(a,!0)}});var o=i.StringFormatter=function(){};o.prototype=new k,b.extend(o.prototype,{fromRaw:function(a){return b.isUndefined(a)||b.isNull(a)?"":a+""}});var p=i.EmailFormatter=function(){};p.prototype=new k,b.extend(p.prototype,{toRaw:function(a){var c=a.trim().split("@");return 2===c.length&&b.all(c)?a:void 0}});var q=i.SelectFormatter=function(){};q.prototype=new k,b.extend(q.prototype,{fromRaw:function(a){return b.isArray(a)?a:null!=a?[a]:[]}});var r=i.CellEditor=c.View.extend({initialize:function(a){this.formatter=a.formatter,this.column=a.column,this.column instanceof C||(this.column=new C(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(a,b){return(null==b||b.get("name")==this.column.get("name"))&&this.$el.focus(),this}}),s=i.InputCellEditor=r.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(a){s.__super__.initialize.apply(this,arguments),a.placeholder&&this.$el.attr("placeholder",a.placeholder)},render:function(){var a=this.model;return this.$el.val(this.formatter.fromRaw(a.get(this.column.get("name")),a)),this},saveOrCancel:function(a){var c=this.formatter,d=this.model,e=this.column,f=new j(a),g="blur"===a.type;if(f.moveUp()||f.moveDown()||f.moveLeft()||f.moveRight()||f.save()||g){a.preventDefault(),a.stopPropagation();var h=this.$el.val(),i=c.toRaw(h,d);b.isUndefined(i)?d.trigger("backgrid:error",d,e,h):(d.set(e.get("name"),i),d.trigger("backgrid:edited",d,e,f))}else f.cancel()&&(a.stopPropagation(),d.trigger("backgrid:edited",d,e,f))},postRender:function(a,b){if(null==b||b.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var c=this.$el.val();this.$el.focus().val(null).val(c)}else this.$el.focus();return this}}),t=i.Cell=c.View.extend({tagName:"td",formatter:k,editor:s,events:{click:"enterEditMode"},initialize:function(a){this.column=a.column,this.column instanceof C||(this.column=new C(this.column));var c=this.column,d=this.model,e=this.$el,f=i.resolveNameToClass(c.get("formatter")||this.formatter,"Formatter");b.isFunction(f.fromRaw)||b.isFunction(f.toRaw)||(f=new f),this.formatter=f,this.editor=i.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(d,"change:"+c.get("name"),function(){e.hasClass("editor")||this.render()}),this.listenTo(d,"backgrid:error",this.renderError),this.listenTo(c,"change:editable change:sortable change:renderable",function(a){var b=a.changedAttributes();for(var c in b)b.hasOwnProperty(c)&&e.toggleClass(c,b[c])}),i.callByNeed(c.editable(),c,d)&&e.addClass("editable"),i.callByNeed(c.sortable(),c,d)&&e.addClass("sortable"),i.callByNeed(c.renderable(),c,d)&&e.addClass("renderable")},render:function(){this.$el.empty();var a=this.model;return this.$el.text(this.formatter.fromRaw(a.get(this.column.get("name")),a)),this.delegateEvents(),this},enterEditMode:function(){var a=this.model,b=this.column,c=i.callByNeed(b.editable(),b,a);c&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),a.trigger("backgrid:edit",a,b,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),a.trigger("backgrid:editing",a,b,this,this.currentEditor))},renderError:function(a,b){(null==b||b.get("name")==this.column.get("name"))&&this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor),t.__super__.remove.apply(this,arguments)}}),u=i.StringCell=t.extend({className:"string-cell",formatter:o}),v=i.UriCell=t.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(a){v.__super__.initialize.apply(this,arguments),this.title=a.title||this.title,this.target=a.target||this.target},render:function(){this.$el.empty();var a=this.model.get(this.column.get("name")),b=this.formatter.fromRaw(a,this.model);return this.$el.append(h("<a>",{tabIndex:-1,href:a,title:this.title||b,target:this.target}).text(b)),this.delegateEvents(),this}}),w=(i.EmailCell=u.extend({className:"email-cell",formatter:p,render:function(){this.$el.empty();var a=this.model,b=this.formatter.fromRaw(a.get(this.column.get("name")),a);return this.$el.append(h("<a>",{tabIndex:-1,href:"mailto:"+b,title:b}).text(b)),this.delegateEvents(),this}}),i.NumberCell=t.extend({className:"number-cell",decimals:l.prototype.defaults.decimals,decimalSeparator:l.prototype.defaults.decimalSeparator,orderSeparator:l.prototype.defaults.orderSeparator,formatter:l,initialize:function(){w.__super__.initialize.apply(this,arguments);var a=this.formatter;a.decimals=this.decimals,a.decimalSeparator=this.decimalSeparator,a.orderSeparator=this.orderSeparator}})),x=(i.IntegerCell=w.extend({className:"integer-cell",decimals:0}),i.PercentCell=w.extend({className:"percent-cell",multiplier:m.prototype.defaults.multiplier,symbol:m.prototype.defaults.symbol,formatter:m,initialize:function(){x.__super__.initialize.apply(this,arguments);var a=this.formatter;a.multiplier=this.multiplier,a.symbol=this.symbol}})),y=i.DatetimeCell=t.extend({className:"datetime-cell",includeDate:n.prototype.defaults.includeDate,includeTime:n.prototype.defaults.includeTime,includeMilli:n.prototype.defaults.includeMilli,formatter:n,initialize:function(){y.__super__.initialize.apply(this,arguments);var a=this.formatter;a.includeDate=this.includeDate,a.includeTime=this.includeTime,a.includeMilli=this.includeMilli;var c=this.includeDate?"YYYY-MM-DD":"";c+=this.includeDate&&this.includeTime?"T":"",c+=this.includeTime?"HH:mm:ss":"",c+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:b.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:c})})}}),z=(i.DateCell=y.extend({className:"date-cell",includeTime:!1}),i.TimeCell=y.extend({className:"time-cell",includeDate:!1}),i.BooleanCellEditor=r.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var a=this.model,b=this.formatter.fromRaw(a.get(this.column.get("name")),a);return this.$el.prop("checked",b),this},enterOrExitEditMode:function(a){if(!this.mouseDown){var b=this.model;b.trigger("backgrid:edited",b,this.column,new j(a))}},saveOrCancel:function(a){var b=this.model,c=this.column,d=this.formatter,e=new j(a);if(e.passThru()&&"change"!=a.type)return!0;e.cancel()&&(a.stopPropagation(),b.trigger("backgrid:edited",b,c,e));var f=this.$el;if(e.save()||e.moveLeft()||e.moveRight()||e.moveUp()||e.moveDown()){a.preventDefault(),a.stopPropagation();var g=d.toRaw(f.prop("checked"),b);b.set(c.get("name"),g),b.trigger("backgrid:edited",b,c,e)}else if("change"==a.type){var g=d.toRaw(f.prop("checked"),b);b.set(c.get("name"),g),f.focus()}}})),A=(i.BooleanCell=t.extend({className:"boolean-cell",editor:z,events:{click:"enterEditMode"},render:function(){this.$el.empty();var a=this.model,b=this.column,c=i.callByNeed(b.editable(),b,a);return this.$el.append(h("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(a.get(b.get("name")),a),disabled:!c})),this.delegateEvents(),this}}),i.SelectCellEditor=r.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:b.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',null,{variable:null}),setOptionValues:function(a){this.optionValues=a,this.optionValues=b.result(this,"optionValues")},setMultiple:function(a){this.multiple=a,this.$el.prop("multiple",a)},_renderOptions:function(a,c){for(var d="",e=0;e<a.length;e++)d+=this.template({text:a[e][0],value:a[e][1],selected:b.indexOf(c,a[e][1])>-1});return d},render:function(){this.$el.empty();var a=b.result(this,"optionValues"),c=this.model,d=this.formatter.fromRaw(c.get(this.column.get("name")),c);if(!b.isArray(a))throw new TypeError("optionValues must be an array");for(var e=null,f=null,e=null,g=null,i=null,j=0;j<a.length;j++){var e=a[j];if(b.isArray(e))f=e[0],e=e[1],this.$el.append(this.template({text:f,value:e,selected:b.indexOf(d,e)>-1}));else{if(!b.isObject(e))throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");g=e.name,i=h("<optgroup></optgroup>",{label:g}),i.append(this._renderOptions.call(this,e.values,d)),this.$el.append(i)}}return this.delegateEvents(),this},save:function(){var a=this.model,b=this.column;a.set(b.get("name"),this.formatter.toRaw(this.$el.val(),a))},close:function(a){var b=this.model,c=this.column,d=new j(a);d.cancel()?(a.stopPropagation(),b.trigger("backgrid:edited",b,c,new j(a))):(d.save()||d.moveLeft()||d.moveRight()||d.moveUp()||d.moveDown()||"blur"==a.type)&&(a.preventDefault(),a.stopPropagation(),this.save(a),b.trigger("backgrid:edited",b,c,new j(a)))}})),B=i.SelectCell=t.extend({className:"select-cell",editor:A,multiple:!1,formatter:q,optionValues:void 0,delimiter:", ",initialize:function(){B.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:edit",function(a,b,c,d){b.get("name")==this.column.get("name")&&(d.setOptionValues(this.optionValues),d.setMultiple(this.multiple))})},render:function(){this.$el.empty();var a=b.result(this,"optionValues"),c=this.model,d=this.formatter.fromRaw(c.get(this.column.get("name")),c),e=[];try{if(!b.isArray(a)||b.isEmpty(a))throw new TypeError;for(var f=0;f<d.length;f++)for(var g=d[f],h=0;h<a.length;h++){var i=a[h];if(b.isArray(i)){var j=i[0],i=i[1];i==g&&e.push(j)}else{if(!b.isObject(i))throw new TypeError;for(var k=i.values,l=0;l<k.length;l++){var m=k[l];m[1]==g&&e.push(m[0])}}}this.$el.append(e.join(this.delimiter))}catch(n){if(n instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw n}return this.delegateEvents(),this}}),C=i.Column=c.Model.extend({defaults:{name:void 0,label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var a=i.resolveNameToClass(this.get("headerCell"),"HeaderCell"),b=i.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:b,headerCell:a},{silent:!0})},sortValue:function(){var a=this.get("sortValue");return b.isString(a)?this[a]:b.isFunction(a)?a:function(a,b){return a.get(b)}}});b.each(["sortable","renderable","editable"],function(a){C.prototype[a]=function(){var c=this.get(a);return b.isString(c)?this[c]:b.isFunction(c)?c:!!c}});{var D=i.Columns=c.Collection.extend({model:C}),E=i.Row=c.View.extend({tagName:"tr",initialize:function(a){var b=this.columns=a.columns;b instanceof c.Collection||(b=this.columns=new D(b));for(var d=this.cells=[],e=0;e<b.length;e++)d.push(this.makeCell(b.at(e),a));this.listenTo(b,"add",function(b,c){var e=c.indexOf(b),f=this.makeCell(b,a);d.splice(e,0,f);var g=this.$el;0===e?g.prepend(f.render().$el):e===c.length-1?g.append(f.render().$el):g.children().eq(e).before(f.render().$el)}),this.listenTo(b,"remove",function(a,b,c){d[c.index].remove(),d.splice(c.index,1)})},makeCell:function(a){return new(a.get("cell"))({column:a,model:this.model})},render:function(){this.$el.empty();for(var a=document.createDocumentFragment(),b=0;b<this.cells.length;b++)a.appendChild(this.cells[b].render().el);return this.el.appendChild(a),this.delegateEvents(),this},remove:function(){for(var a=0;a<this.cells.length;a++){var b=this.cells[a];b.remove.apply(b,arguments)}return c.View.prototype.remove.apply(this,arguments)}}),F=i.EmptyRow=c.View.extend({tagName:"tr",emptyText:null,initialize:function(a){this.emptyText=a.emptyText,this.columns=a.columns},render:function(){this.$el.empty();var a=document.createElement("td");return a.setAttribute("colspan",this.columns.length),a.appendChild(document.createTextNode(b.result(this,"emptyText"))),this.el.className="empty",this.el.appendChild(a),this}}),G=i.HeaderCell=c.View.extend({tagName:"th",events:{"click a":"onClick"},initialize:function(a){this.column=a.column,this.column instanceof C||(this.column=new C(this.column));var b=this.column,c=this.collection,d=this.$el;this.listenTo(b,"change:editable change:sortable change:renderable",function(a){var b=a.changedAttributes();for(var c in b)b.hasOwnProperty(c)&&d.toggleClass(c,b[c])}),this.listenTo(b,"change:direction",this.setCellDirection),this.listenTo(b,"change:name change:label",this.render),i.callByNeed(b.editable(),b,c)&&d.addClass("editable"),i.callByNeed(b.sortable(),b,c)&&d.addClass("sortable"),i.callByNeed(b.renderable(),b,c)&&d.addClass("renderable"),this.listenTo(c.fullCollection||c,"sort",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending"),this.column.set("direction",null)},setCellDirection:function(a,b){this.$el.removeClass("ascending").removeClass("descending"),a.cid==this.column.cid&&this.$el.addClass(b)},onClick:function(a){function b(a,b){"ascending"===d.get("direction")?e.trigger(f,b,"descending"):"descending"===d.get("direction")?e.trigger(f,b,null):e.trigger(f,b,"ascending")}function c(a,b){"ascending"===d.get("direction")?e.trigger(f,b,"descending"):e.trigger(f,b,"ascending")}a.preventDefault();var d=this.column,e=this.collection,f="backgrid:sort",g=i.callByNeed(d.sortable(),d,this.collection);if(g){var h=d.get("sortType");"toggle"===h?c(this,d):b(this,d)}},render:function(){this.$el.empty();var a,b=this.column,c=i.callByNeed(b.sortable(),b,this.collection);return a=c?h("<a>").text(b.get("label")).append("<b class='sort-caret'></b>"):document.createTextNode(b.get("label")),this.$el.append(a),this.$el.addClass(b.get("name")),this.$el.addClass(b.get("direction")),this.delegateEvents(),this}}),H=(i.HeaderRow=i.Row.extend({requiredOptions:["columns","collection"],initialize:function(){i.Row.prototype.initialize.apply(this,arguments)},makeCell:function(a,b){var c=a.get("headerCell")||b.headerCell||G;return c=new c({column:a,collection:this.collection})}}),i.Header=c.View.extend({tagName:"thead",initialize:function(a){this.columns=a.columns,this.columns instanceof c.Collection||(this.columns=new D(this.columns)),this.row=new i.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),c.View.prototype.remove.apply(this,arguments)}})),I=i.Body=c.View.extend({tagName:"tbody",initialize:function(a){this.columns=a.columns,this.columns instanceof c.Collection||(this.columns=new D(this.columns)),this.row=a.row||E,this.rows=this.collection.map(function(a){var b=new this.row({columns:this.columns,model:a});return b},this),this.emptyText=a.emptyText,this._unshiftEmptyRowMayBe();var b=this.collection;this.listenTo(b,"add",this.insertRow),this.listenTo(b,"remove",this.removeRow),this.listenTo(b,"sort",this.refresh),this.listenTo(b,"reset",this.refresh),this.listenTo(b,"backgrid:sort",this.sort),this.listenTo(b,"backgrid:edited",this.moveToNextCell)},_unshiftEmptyRowMayBe:function(){0===this.rows.length&&null!=this.emptyText&&this.rows.unshift(new F({emptyText:this.emptyText,columns:this.columns}))},insertRow:function(a,b,d){if(this.rows[0]instanceof F&&this.rows.pop().remove(),!(b instanceof c.Collection||d))return void this.collection.add(a,d=b);var e=new this.row({columns:this.columns,model:a}),f=b.indexOf(a);this.rows.splice(f,0,e);var g=this.$el,h=g.children(),i=e.render().$el;return f>=h.length?g.append(i):h.eq(f).before(i),this},removeRow:function(a,c,d){return d?((b.isUndefined(d.render)||d.render)&&this.rows[d.index].remove(),this.rows.splice(d.index,1),this._unshiftEmptyRowMayBe(),this):(this.collection.remove(a,d=c),void this._unshiftEmptyRowMayBe())},refresh:function(){for(var a=0;a<this.rows.length;a++)this.rows[a].remove();return this.rows=this.collection.map(function(a){var b=new this.row({columns:this.columns,model:a});return b},this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var a=document.createDocumentFragment(),b=0;b<this.rows.length;b++){var c=this.rows[b];a.appendChild(c.render().el)}return this.el.appendChild(a),this.delegateEvents(),this},remove:function(){for(var a=0;a<this.rows.length;a++){var b=this.rows[a];b.remove.apply(b,arguments)}return c.View.prototype.remove.apply(this,arguments)},sort:function(a,d){if(!b.contains(["ascending","descending",null],d))throw new RangeError('direction must be one of "ascending", "descending" or `null`');b.isString(a)&&(a=this.columns.findWhere({name:a}));var e,f=this.collection;e="ascending"===d?-1:"descending"===d?1:null;var g=this.makeComparator(a.get("name"),e,e?a.sortValue():function(a){return 1*a.cid.replace("c","")});return c.PageableCollection&&f instanceof c.PageableCollection?(f.setSorting(e&&a.get("name"),e,{sortValue:a.sortValue()}),f.fullCollection?(null==f.fullCollection.comparator&&(f.fullCollection.comparator=g),f.fullCollection.sort(),f.trigger("backgrid:sorted",a,d,f)):f.fetch({reset:!0,success:function(){f.trigger("backgrid:sorted",a,d,f)}})):(f.comparator=g,f.sort(),f.trigger("backgrid:sorted",a,d,f)),a.set("direction",d),this},makeComparator:function(a,b,c){return function(d,e){var f,g=c(d,a),h=c(e,a);return 1===b&&(f=g,g=h,h=f),g===h?0:h>g?-1:1}},moveToNextCell:function(a,b,c){var d,e,f,g,h,j=this.collection.indexOf(a),k=this.columns.indexOf(b);if(this.rows[j].cells[k].exitEditMode(),c.moveUp()||c.moveDown()||c.moveLeft()||c.moveRight()||c.save()){var l=this.columns.length,m=l*this.collection.length;if(c.moveUp()||c.moveDown()){g=j+(c.moveUp()?-1:1);var n=this.rows[g];n?(d=n.cells[k],i.callByNeed(d.column.editable(),d.column,a)&&(d.enterEditMode(),a.trigger("backgrid:next",g,k,!1))):a.trigger("backgrid:next",g,k,!0)}else if(c.moveLeft()||c.moveRight()){for(var o=c.moveRight(),p=j*l+k+(o?1:-1);p>=0&&m>p;o?p++:p--)if(g=~~(p/l),h=p-g*l,d=this.rows[g].cells[h],e=i.callByNeed(d.column.renderable(),d.column,d.model),f=i.callByNeed(d.column.editable(),d.column,a),e&&f){d.enterEditMode(),a.trigger("backgrid:next",g,h,!1);break}p==m&&a.trigger("backgrid:next",~~(p/l),p-g*l,!0)}}return this}});i.Footer=c.View.extend({tagName:"tfoot",initialize:function(a){this.columns=a.columns,this.columns instanceof c.Collection||(this.columns=new i.Columns(this.columns))}}),i.Grid=c.View.extend({tagName:"table",className:"backgrid",header:H,body:I,footer:null,initialize:function(a){a.columns instanceof c.Collection||(a.columns=new D(a.columns)),this.columns=a.columns;var d=b.omit(a,["el","id","attributes","className","tagName","events"]);this.body=a.body||this.body,this.body=new this.body(d),this.header=a.header||this.header,this.header&&(this.header=new this.header(d)),this.footer=a.footer||this.footer,this.footer&&(this.footer=new this.footer(d)),this.listenTo(this.columns,"reset",function(){this.header&&(this.header=new(this.header.remove().constructor)(d)),this.body=new(this.body.remove().constructor)(d),this.footer&&(this.footer=new(this.footer.remove().constructor)(d)),this.render()})},insertRow:function(){return this.body.insertRow.apply(this.body,arguments),this},removeRow:function(){return this.body.removeRow.apply(this.body,arguments),this},insertColumn:function(){return this.columns.add.apply(this.columns,arguments),this},removeColumn:function(){return this.columns.remove.apply(this.columns,arguments),this},sort:function(){return this.body.sort.apply(this.body,arguments),this},render:function(){return this.$el.empty(),this.header&&this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header&&this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),c.View.prototype.remove.apply(this,arguments)}})}return i});var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1==b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=c&&c.split("/"),r=x.map,s=r&&r["*"];if(a&&(a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&q&&(p=q.slice(0,q.length-1),a=p.concat(a)),b(a),a=a.join("/")),d&&r&&(q||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),q)for(i=q.length;i>0;i-=1)if(f=getOwn(r,q.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=getOwn(x.paths,a);return b&&isArray(b)&&b.length>1?(b.shift(),u.require.undef(a),u.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):-1===a.indexOf("!")?c(a,l,e):a:(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(apsp.apply(B,[B.length,0].concat(globalDefQueue)),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{e=u.execCb(c,f,d,e)}catch(g){a=g}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else e=f;this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad&&req.onResourceLoad(u,this.map,this.depMaps)),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&i(a,"error",bind(this,this.errback))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),b[c]=a}),x.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()
}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k=getOwn(x.pkgs,a);if(k&&(a=k),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return x.urlArgs?h+((-1===h.indexOf("?")?"?":"&")+x.urlArgs):h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);return e(b.id)?void 0:j(makeError("scripterror","Script error for: "+b.id,a,[b.id]))}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.14",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),!function(a){function b(){this.items=new Array,this.itemsCount=0,this.put=function(a,b){this.containsKey(a)?this.items[a]=b:(this.items[a]=b,this.itemsCount++)},this.get=function(a){return this.containsKey(a)?this.items[a]:null},this.remove=function(a){if(!this.containsKey(a))throw"key '"+a+"' does not exists.";delete this.items[a],this.itemsCount--},this.containsKey=function(a){return"undefined"!=typeof this.items[a]},this.containsValue=function(a){for(var b in this.items)if(this.items[b]==a)return!0;return!1},this.contains=function(a){return this.containsKey(a)||this.containsValue(a)},this.clear=function(){this.items=new Array,itemsCount=0},this.size=function(){return this.itemsCount},this.isEmpty=function(){return 0==this.size()}}function c(a,b,c){this.dec=a,this.group=b,this.neg=c}function d(){for(var a=0;a<l.length;a++){localeGroup=l[a];for(var b=0;b<localeGroup.length;b++)f.put(localeGroup[b],a)}}function e(a,b){0==f.size()&&d();var e=".",g=",",h="-";0==b&&(-1!=a.indexOf("_")?a=a.split("_")[1].toLowerCase():-1!=a.indexOf("-")&&(a=a.split("-")[1].toLowerCase()));var i=f.get(a);if(i){var j=k[i];j&&(e=j[0],g=j[1])}return new c(e,g,h)}var f=new b,g=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],h=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],i=["cz","fi","fr","ru","se","pl"],j=["ch"],k=[[".",","],[",","."],[","," "],[".","'"]],l=[g,h,i,j];a.fn.formatNumber=function(b,c,d){return this.each(function(){null==c&&(c=!0),null==d&&(d=!0);var e;e=new String(a(this).is(":input")?a(this).val():a(this).text());var f=a.formatNumber(e,b);return c&&(a(this).is(":input")?a(this).val(f):a(this).text(f)),d?f:void 0})},a.formatNumber=function(b,c){for(var c=a.extend({},a.fn.formatNumber.defaults,c),d=e(c.locale.toLowerCase(),c.isFullLocale),f=(d.dec,d.group,d.neg,"0#-,."),g="",h=!1,i=0;i<c.format.length;i++)if(-1==f.indexOf(c.format.charAt(i)))g+=c.format.charAt(i);else{if(0!=i||"-"!=c.format.charAt(i))break;h=!0}for(var j="",i=c.format.length-1;i>=0&&-1==f.indexOf(c.format.charAt(i));i--)j=c.format.charAt(i)+j;c.format=c.format.substring(g.length),c.format=c.format.substring(0,c.format.length-j.length);var k=new Number(b);return a._formatNumber(k,c,j,g,h)},a._formatNumber=function(b,c,d,f,g){var c=a.extend({},a.fn.formatNumber.defaults,c),h=e(c.locale.toLowerCase(),c.isFullLocale),i=h.dec,j=h.group,k=h.neg,l=!1;if(isNaN(b)){if(1!=c.nanForceZero)return null;b=0,l=!0}"%"==d&&(b=100*b);var m="";if(c.format.indexOf(".")>-1){var n=i,o=c.format.substring(c.format.lastIndexOf(".")+1);if(1==c.round)b=new Number(b.toFixed(o.length));else{var p=b.toString();p=p.substring(0,p.lastIndexOf(".")+o.length+1),b=new Number(p)}var q=b%1,r=new String(q.toFixed(o.length));r=r.substring(r.lastIndexOf(".")+1);for(var s=0;s<o.length;s++)if("#"==o.charAt(s)&&"0"!=r.charAt(s))n+=r.charAt(s);else if("#"==o.charAt(s)&&"0"==r.charAt(s)){var t=r.substring(s);if(!t.match("[1-9]"))break;n+=r.charAt(s)}else"0"==o.charAt(s)&&(n+=r.charAt(s));m+=n}else b=Math.round(b);var u=Math.floor(b);0>b&&(u=Math.ceil(b));var v="";v=-1==c.format.indexOf(".")?c.format:c.format.substring(0,c.format.indexOf("."));var w="";if(0!=u||"#"!=v.substr(v.length-1)||l){var x=new String(Math.abs(u)),y=9999;-1!=v.lastIndexOf(",")&&(y=v.length-v.lastIndexOf(",")-1);for(var z=0,s=x.length-1;s>-1;s--)w=x.charAt(s)+w,z++,z==y&&0!=s&&(w=j+w,z=0);if(v.length>w.length){var A=v.indexOf("0");if(-1!=A)for(var B=v.length-A,C=v.length-w.length-1;w.length<B;){var D=v.charAt(C);","==D&&(D=j),w=D+w,C--}}}return w||-1===v.indexOf("0",v.length-1)||(w="0"),m=w+m,0>b&&g&&f.length>0?f=k+f:0>b&&(m=k+m),c.decimalSeparatorAlwaysShown||m.lastIndexOf(i)==m.length-1&&(m=m.substring(0,m.length-1)),m=f+m+d},a.fn.parseNumber=function(b,c,d){null==c&&(c=!0),null==d&&(d=!0);var e;e=new String(a(this).is(":input")?a(this).val():a(this).text());var f=a.parseNumber(e,b);return f&&(c&&(a(this).is(":input")?a(this).val(f.toString()):a(this).text(f.toString())),d)?f:void 0},a.parseNumber=function(b,c){for(var c=a.extend({},a.fn.parseNumber.defaults,c),d=e(c.locale.toLowerCase(),c.isFullLocale),f=d.dec,g=d.group,h=d.neg,i="1234567890.-";b.indexOf(g)>-1;)b=b.replace(g,"");b=b.replace(f,".").replace(h,"-");var j="",k=!1;("%"==b.charAt(b.length-1)||1==c.isPercentage)&&(k=!0);for(var l=0;l<b.length;l++)i.indexOf(b.charAt(l))>-1&&(j+=b.charAt(l));var m=new Number(j);if(k){m/=100;var n=j.indexOf(".");if(-1!=n){var o=j.length-n-1;m=m.toFixed(o+2)}else m=m.toFixed(j.length-1)}return m},a.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,isFullLocale:!1},a.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1},Number.prototype.toFixed=function(b){return a._roundNumber(this,b)},a._roundNumber=function(a,b){var c=Math.pow(10,b||0),d=String(Math.round(a*c)/c);if(b>0){var e=d.indexOf(".");for(-1==e?(d+=".",e=0):e=d.length-(e+1);b>e;)d+="0",e++}return d}}(jQuery);var Zoomdata=function(a){"use strict";var b={},c=function(){};return b.Visualizations=b.Visualizations||{},b.MVC=_.clone(a.Backbone),b.eventDispatcher=_.clone(b.MVC.Events),window.Zoomdata&&window.Zoomdata.pageData&&(b.pageData=window.Zoomdata.pageData,delete window.Zoomdata.pageData),a.Backbone.sync=function(a,c,d){var e=_.result(c,"url"),f=c.remote,g=c.secure,h=c.apiKey;return d||(d={}),d.crossDomain||(d.crossDomain=!0),d.xhrFields||(d.xhrFields={withCredentials:!1}),f&&(d.url=[g?"https://":"http://",f+"/",e].join("")),h&&(d.data=$.extend({},d.data,{key:h})),b.MVC.sync(a,c,d)},b.MVC.View=a.Backbone.View.extend({defaults:{},initialize:function(a){this.childViews=[],this.options=$.extend({},this.defaults,a)},_removeChildViews:function(){_.each(this.childViews,function(a){a?a.remove():null}),this.childViews=[]},popChildView:function(a){var b=this.childViews,c=b.indexOf(a);return-1!==c?b.splice(c,1):null},empty:function(){return this._removeChildViews(),this.$el.children().remove(),this},remove:function(){this._removeChildViews(),Backbone.View.prototype.remove.call(this,arguments)},delegateEvents:function(){Backbone.View.prototype.delegateEvents.apply(this,arguments),_.each(this.childViews,function(a){a&&a.delegateEvents&&a.delegateEvents()})}}),b.MVC.Model=a.Backbone.Model.extend({initialize:function(b,c){c=c||{},this.secure=this.collection?this.collection.secure:null,this.remote=this.collection?this.collection.remote:null,this.apiKey=this.collection?this.collection.apiKey:null,"undefined"!=typeof c.apiKey&&(this.apiKey=c.apiKey,delete c.apiKey),"undefined"!=typeof c.remote&&(this.remote=c.remote,delete c.remote,"undefined"!=typeof c.secure?(this.secure=c.secure,delete c.secure):this.secure=!1),a.Backbone.Model.prototype.initialize.apply(this,arguments)},isBootstrapped:function(){return this._bootstrapped=this._bootstrapped||!1,this._bootstrapped?!0:!1},bootstrap:function(){var a=$.Deferred(),b=this;return this.isBootstrapped()?a.resolve(this.toJSON()):this.fetch().done(function(c){b._bootstrapped=!0,a.resolve(c)}).fail(a.reject).progress(a.notify),a.promise()},matchesSearch:function(a,b){b=b||{};var c="g"+(b.caseSensitive?"":"i"),d=b.words?new RegExp("(\\W|^)"+b.needle+"(\\W|$)",c):b.regExp?new RegExp(b.needle,c):new RegExp(b.needle,c);return"undefined"!=typeof b.needle&&""!==b.needle?!!this.get(a).match(d):!1}}),b.MVC.Collection=a.Backbone.Collection.extend({initialize:function(b,c){c=c||{},this.apiKey=null,this.remote=null,this.secure=null,"undefined"!=typeof c.apiKey&&(this.apiKey=c.apiKey,delete c.apiKey),"undefined"!=typeof c.remote&&(this.remote=c.remote,delete c.remote,"undefined"!=typeof c.secure?(this.secure=c.secure,delete c.secure):this.secure=!1),a.Backbone.Collection.prototype.initialize.apply(this,arguments)},add:function(){return a.Backbone.Collection.prototype.add.apply(this,arguments),this},fetchModels:function(a){var b=$.Deferred(),c=0,d=0,e=this.length,f=[],g=this;return this.each(function(h){h.fetch(a).done(function(a){c++,f.push(a),b.notify(h,a),f.length===e&&0===d&&b.resolve(g,f)}).fail(function(a){d++,f.push(a),b.notify(h,a),f.length==e&&d>0&&b.reject(g,f)})}),b},saveModels:function(){var a=$.Deferred(),b=0,c=0,d=[],e=this;return this.each(function(f){f.save().done(function(g){b++,d.push(g),a.notify(f,g),d.length===e.length&&0===c&&a.resolve(e,d)}).fail(function(b){c++,d.push(b),a.notify(f,b),d.length==e.length&&c>0&&a.reject(e,d)})}),a},setIdOrder:function(a){var b=this.comparator,c=function(b){var c=b.cid;return a.indexOf(c)};this.comparator=c,this.sort(),this.comparator=b},hasNewModels:function(){var a=!1;return this.each(function(b){b.isNew()&&(a=!0)}),a},isBootstrapped:function(){return this._bootstrapped=this._bootstrapped||!1,this._bootstrapped?!0:!1},bootstrap:function(a){var b=$.Deferred(),c=this;return this.isBootstrapped()?b.resolve(this.toJSON()):this.fetch(a).done(function(a){c._bootstrapped=!0,b.resolve(a)}).fail(b.reject).progress(b.notify),b.promise()},search:function(a,b){b=b||{};var c=[],d="g"+(b.caseSensitive?"":"i"),e=b.words?new RegExp("(\\W|^)"+b.needle+"(\\W|$)",d):b.regExp?new RegExp(b.needle,d):new RegExp(b.needle,d);return c="undefined"!=typeof b.needle&&""!==b.needle?this.filter(function(b){return!!b.get(a).match(e)}):this.models},fetch:function(){var b=this;return this.trigger("request:collection",this),a.Backbone.Collection.prototype.fetch.apply(this,arguments).done(function(a,c,d){b.trigger("sync:collection",b,d)})}}),b.DataStreamProvider=function(){function a(a,b){var d=function(a,b){this.type="WebSocket",this.url=a,this.publisher=b};return d.prototype={is:function(a){function b(a){var b=!1;if(d instanceof WebSocket)switch(a){case"connecting":b=d.readyState==d.CONNECTING;break;case"open":b=d.readyState==d.OPEN;break;case"closing":b=d.readyState==d.CLOSING;break;case"closed":b=d.readyState==d.CLOSED}else b="closed"==a;return b}function c(){if(!(d instanceof WebSocket))return"closed";switch(d.readyState){case d.CLOSING:return"closing";case d.CLOSED:return"closed";case d.OPEN:return"open";case d.CONNECTING:return"connecting";default:throw new Error("Unexpected socket readyState")}}var d=this.socket;return"string"==typeof a?b(a):c()},connect:function(a,b){function c(a,b){"string"==typeof a&&(d.url=a),"string"!=typeof d.url?e.reject({message:"Invalid url"}):(d.socket=new WebSocket(d.url),d.socket.onopen=function(){d.publish(b),e.resolve(),d.onOpen.apply(d,arguments)},d.socket.onerror=function(){e.reject.apply(c,arguments)})}var d=this,e=$.Deferred();return this.is("closed")?c(a,b):this.close().done(function(){c(a,b)}).fail(function(){e.reject.apply(c,arguments)}),e.promise()},close:function(){var a,b,c=this.socket,d=$.Deferred();if(c instanceof WebSocket)switch(b=c.onclose,c.onclose=function(){"function"==typeof b?b.apply(this,arguments):null,d.resolve.apply(d,arguments)},a=c.onerror,c.onerror=function(){"function"==typeof a?a.apply(this,arguments):null,d.reject.apply(d,arguments)},this.is()){case"closing":break;case"closed":d.resolve();break;case"open":case"connecting":c.close()}else d.resolve();return d.promise()},publish:function(a){var b,c=this;"undefined"!=typeof a&&(this.publisher=a),b=this.publisher,this.socket.onopen=function(a){var d=Array.prototype.slice.call(arguments,0);c.onOpen&&c.onOpen.apply(c,d),d.unshift("stream:open"),b&&b.trigger.apply(b,d),c._dfd.resolve.call(c._dfd,a)},this.socket.onclose=function(){var a=Array.prototype.slice.call(arguments,0);c.onClose&&c.onClose.apply(c,a),a.unshift("stream:close"),b&&b.trigger.apply(b,a)},this.socket.onmessage=function(a){var d=Array.prototype.slice.call(arguments,0),e=JSON.parse(a.data),f=e.status||"message";c.onMessage&&c.onMessage.apply(c,d),f=e.error?"error":e.status?e.status:"message",d.unshift("stream:"+f),b&&b.trigger.apply(b,d)}},send:function(){function a(){d.socket.send.apply(d.socket,c)}var b,c=arguments,d=this,e=this.is();switch(e){case"open":a();break;case"closed":this.connect().done(function(){a()});break;case"connecting":b=this.onOpen,this.onOpen=function(){b.apply(d,arguments),a()}}},onOpen:c,onClose:c,onMessage:c,destroy:function(){this.socket.close()}},new d(a,b)}return{getStream:a}}(),b}(window);!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a,b){"use strict";function c(a,b){return b>a?"0"+a:a.toString()}function d(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function e(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.hash)||[,""])[1].replace(/\+/g,"%20"))||null}function f(){var a=[],c={};-1!==location.search.indexOf("?")&&(a=location.search.split("?")[1].split("#")[0].split("&"));for(var d=0;d<a.length;d++){var e=a[d].split("=");c[e[0]]=e[1]}if(b.pageData)var f=b.pageData.csrfToken,g=b.pageData.csrfParameterName;var h=c.server||window.location.hostname,i=c.port||location.port||!1,j=c.key?"key="+c.key:void 0,k=f?g+"="+f:void 0;if(j)var l=j;k&&(l=l?"&"+k:k);var m=("https:"==location.protocol?"wss":"ws")+"://"+h+(i?":"+i:"")+"/zoomdata/websocket/"+(l?"?"+l:"");return{host:m,time:(new Date).getTime(),params:c}}function g(a,b){for(var c=a.visualizations||[],e=b||d("visId"),f=0;f<c.length;f++)if(c[f].visId==e){var g=c[f];return g}}function h(a){var b=["avg","min","max","sum"];return a&&i(a)&&b.push("last_value"),b}function i(a){if(!a)throw new ReferenceError("Source needed");return a.toRequest().cfg.group.metrics.length>1?!1:a.config.attributes.source.sourceFeatures.indexOf("LV_METRIC")>=0}function j(a){var b=["MONEY","INTEGER","NUMBER","COUNT OF","FORMULA"];return b.indexOf(a.toUpperCase())>=0}function k(a){for(var b=a.visualizations,c=d("visId"),e=0;e<b.length;e++)if(b[e].visId==c){var f=b[e];return f.source}}function l(a){return a>=12&&(a-=12),0===a&&(a=12),a}function m(a){var b=new Date(Math.round(a)),d=b.getHours()>=12?" PM":" AM";return l(b.getHours())+":"+c(b.getMinutes(),10)+":"+c(b.getSeconds(),10)+d}function n(a,b,c){var d=new Date(Math.round(a)),e=c?d.getUTCMonth():d.getMonth(),f=c?d.getUTCDate():d.getDate(),g=c?d.getUTCFullYear():d.getFullYear();return e+=1,10>e&&(e="0"+e),b?e+"/"+f+"/"+g:g+"/"+e+"/"+f}function o(a){var b=new Date(Math.round(a)),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return b.getDate()+" "+c[b.getMonth()]+" "+(1900+b.getYear())}function p(a,b){return n(a,b)+" "+m(a)}function q(a){var b=new Date(a),c=b.getTimezoneOffset()/-60;return"GMT"+(c>0?"+":"")+c}function r(){var a=jstz.determine();return a.name()}function s(){return window.pageUserData}function t(a){this.options=$.extend({},this.defaults,a),this.$el=$('<div class="zd-radial-item-filter"></div>'),this.$donut=$('<div class="zd-radial-item-donut"></div>').appendTo(this.$el),this.$filler=$('<div class="zd-radial-item-filler"></div>').appendTo(this.$el),this.$center=$('<div class="zd-radial-item-center"></div>').appendTo(this.$donut),this.positionElements()}var u={},v=_.template('            <div class="fsWrapper">                <div class="well well-small fsHeader">                    <div class="fsHead pull-left"></div>                    <div class="filters"></div>                    <div class="exitFullscreen"><i class="zd icon exit-fullscreen"></i></div>                    <div class="clearfix"></div>                </div>                <div class="well-small well fsBody">                    <div class="fullScreenContainer"></div>                    <div class="fullScreenContainerFooter"></div>                </div>                <div class="bottomPane">                        <div class="paneContent"></div>                 </div>             </div>            <div class="fsExpander"></div>            '),w=b.MVC.View.extend({className:"fullScreenView",template:v,events:{"click .exitFullscreen":"close"},initialize:function(){b.MVC.View.prototype.initialize.apply(this,arguments),this.$el.appendTo("body"),this.$el.hide(0),this.$el.append(this.template()),this.$wraper=this.$(".fsWrapper"),this.$header=this.$(".fsHeader"),this.$head=this.$(".fsHead"),this.$body=this.$(".fullScreenContainer"),this.$labels=this.$(".widgetLabel"),this.$styles=this.$("style"),this.$filters=this.$(".filters"),this.$footer=this.$(".fullScreenContainerFooter"),this.$expander=this.$(".fsExpander"),this.listenTo(b.eventDispatcher,"switch:section",this.close)},render:function(a){var c=this,d=$(".dashboard > .leftPane"),e=$(".dashboard > .bottomPane"),f=a.header,g=a.content,h=a.toolbar,i=a.filters,j=a.labels,k=a.styles,l=(a.styleId,a.time);this.options=$.extend({},this.options,a),this.$body.empty(),this.$head.empty(),this.$filters.empty(),this.$footer.empty(),this._runAnimationShowUp(function(){c.$el.fadeIn(function(){c.$head.append(f),i&&c.$filters.append(i.clone(!0)),h&&c.$body.append(h),j&&c.$body.append(j),b.Utilities.appendStylesWithScoping(k,c.$body[0]),c.$body.append(g),c.$footer.append(l),d.addClass("fullScreen"),e.addClass("fullScreen"),c.delegateEvents(),c.adjustBodySizes(),c._applyClickEvents(!0),c.trigger("open")}),c.$wraper.css({opacity:0}),c.$body.css({opacity:0})}),this.listenTo(b.eventDispatcher,"filters:validate",function(){c.$filters.empty(),c.$filters.append(i.clone(!0)),c._applyClickEvents(!1),c._applyClickEvents(!0)})},_applyClickEvents:function(a){function c(){b.eventDispatcher.trigger("filtersPalette:show")}var d=this.$filters.find(".expbtn");a?d.on("click",c):d.off("click")},_runAnimationShowUp:function(a){a();var b=this,c=this.options.widget.$el,d=c.offset(),e=c.width(),f=c.height(),g=300;this.$expander.css({position:"absolute",top:d.top,left:d.left,width:e,height:f}).show(),$('<style id="transferEffect" type="text/css">.zoomin-transfer {                     background-color: #FFF;                     z-index: 1029;                    margin-top: 25px;                }</style>').appendTo("body"),this.$expander.effect("transfer",{to:$(".midPane"),className:"zoomin-transfer"},g,function(){$("#transferEffect").remove(),b.$expander.hide()}),setTimeout(function(){b.$wraper.css({opacity:1}),b.$body.css({opacity:1})},g-100)},_closeAnimation:function(a,b){if(this.options.widget)if("click"===b){var c=this,d=this.$body.offset(),e=this.$body.width(),f=this.$body.height(),g=(this.$body.find("svg"),300);this.$expander.css({position:"absolute",top:d.top-60,left:0,width:e+70,height:f+120}).show(),$('<style id="transferEffect" type="text/css">.zoomin-transfer {                         background-color: #FFF;                         z-index: 1029;                        margin-top: 25px;                        opacity: 0.8;                    }</style>').appendTo("body"),this.$expander.effect("transfer",{to:this.options.widget.$el,className:"zoomin-transfer"},g,function(){$("#transferEffect").remove(),c.$expander.hide()}),setTimeout(function(){c.$wraper.css({opacity:0}),c.$body.css({opacity:0}),a()},g-100)}else a()},close:function(a){var c=this,d=$(".dashboard > .leftPane"),e=$(".dashboard > .bottomPane"),f=a.type;d.removeClass("fullScreen"),e.removeClass("fullScreen"),this.filtersIndicator&&delete this.filtersIndicator.options.rootFullscreen,this.trigger("startClosing"),this._closeAnimation(function(){c.$el.fadeOut("fast",function(){c.trigger("close")})},f),this._applyClickEvents(!1),this.stopListening(b.eventDispatcher,"visualization:start"),this.stopListening(b.eventDispatcher,"filters:validate")},adjustBodySizes:function(){var a=this.$body.parent().prev(),b=a.offset().top+a.outerHeight()+parseFloat(a.css("margin-bottom"));this.$body.parent().css("top",b)}});u.FullScreenView=new w;var x=_.template('        <div class="modal hide fade">            <div class="modal-header">                <button title="Close" value="dialog-reject" class="close">&times;</button>                <h3 class="dialog-head pull-left"></h3>                <div class="clearfix"></div>            </div>            <div class="modal-body dialog-body">            </div>            <div class="modal-footer dialog-controls">                <button title="<%= rejectButtonTitle %>" value="dialog-reject" class="btn btnNo"><%= rejectButtonLabel %></button>                <button title="<%= acceptButtonTitle %>" value="dialog-accept" class="btn btn-primary btnYes"><%= acceptButtonLabel %></button>            </div>        </div>    ');u.Dialog=b.MVC.View.extend({defaults:{template:x,mode:"dialog",draggable:!1,wide:!1,modal:"static",rejectButtonLabel:"Close",acceptButtonLabel:"Accept",rejectButtonTitle:"Close",acceptButtonTitle:"Accept"},events:{'click button[value="dialog-reject"]':"hide",'click button[value="dialog-accept"]':"accept"},initialize:function(a){var b=this;switch(this.settings=$.extend({},this.defaults,a),this.setElement(this.settings.template({rejectButtonLabel:this.settings.rejectButtonLabel,acceptButtonLabel:this.settings.acceptButtonLabel,rejectButtonTitle:this.settings.rejectButtonTitle,acceptButtonTitle:this.settings.acceptButtonTitle})),this.$el.appendTo("body"),this.$el.modal({show:!1,backdrop:this.settings.modal,keyboard:!1}),this.settings.mode){case"alert":this.$('button[value="dialog-accept"]').hide()}this.$head=this.$(".dialog-head"),this.$body=this.$(".dialog-body"),this.settings.draggable&&this.$el.draggable({start:function(){b.$el.removeClass("fade")},stop:function(){b.$el.addClass("fade")},cursor:"move"}),this.settings.wide&&this.$el.addClass("wide")},render:function(a,b){this.$body.empty(),this.$head.empty(),this.$body.append(a),void 0!==b?(this.$head.append(b),this.$head.show()):this.$head.hide(),this.$el.modal("show"),this.delegateEvents()},onBeforeHide:$.noop,hide:function(){var a=this;this.onBeforeHide()!==!1&&(this.$el.one("hidden",function(){a.trigger("dialog:rejected"),a.remove(),a.onReject()}),this.$el.modal("hide"))},onReject:$.noop,onBeforeAccept:$.noop,accept:function(){var a=this;this.onBeforeAccept()!==!1&&(this.$el.one("hidden",function(){a.trigger("dialog:accepted"),a.remove(),a.onAccept()}),this.$el.modal("hide"))},onAccept:$.noop});var y=_.template('        <span><%= message %></span>        <i title="<%= acceptTitle%>" class="icon-ok icon-white"></i>        <i title="<%= cancelTitle%>" class="icon-remove icon-white"></i>    ');u.ConfirmMessage=b.MVC.View.extend({tagName:"span",className:"label label-warning pull-right confirmMessage",defaults:{template:y,message:"Warning",acceptTitle:"Accept",cancelTitle:"Cancel"},events:{"click .icon-ok":"accept","click .icon-remove":"cancel"},initialize:function(a){this.settings=$.extend({},this.defaults,a),this._deferred=$.Deferred(),this.result=this._deferred.promise()},accept:function(){this.remove(),this._deferred.resolve()},cancel:function(){this.remove(),this._deferred.reject()},render:function(){return this.$el.html(this.settings.template({message:this.settings.message,acceptTitle:this.settings.acceptTitle,cancelTitle:this.settings.cancelTitle})),this.delegateEvents(),this}}),u.getTimestamp=function(a){var b=a.split(" ")[0],c=b.replace(/-/g,"/");a=a.replace(b,c);var d=new Date(a).getTime();return isNaN(d)?parseInt(a,10):d},u.isNotUndefinedOrNull=function(a){return void 0!==a&&null!==a},u.isFirstTime=function(a){var b="zd_first_enter_ts-"+a,c=u.getCookie(b),d=(new Date).getTime(),e=864e5;return $.isNumeric(c)?e>d-+c?!0:!1:(u.setCookie(b,(new Date).getTime()),!0)},u.setCookie=function(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=escape(b)+(null===c?"":"; expires="+d.toUTCString());document.cookie=a+"="+e},u.getCookie=function(a){var b=window.sessionStorage.sessionId;if(!u.isNotUndefinedOrNull(b)){var c=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));b=c?decodeURIComponent(c[1]):void 0}return b},u.namespace=function(a,b){var c=[],d=b||window;return a&&(c=a.split(".")),$.each(c,function(a,b){d.hasOwnProperty(b)||(d[b]={}),d=d[b]}),d},u.preventUnsavedGestures=function(){navigator.userAgent.match(/Macintosh/)&&navigator.userAgent.match(/Chrome/)&&($(window),b.Utilities.turnOnPrompt("Are you sure you want to leave the page unsaved?"),b.Utilities.preventSwipeForBack())},u.preventSwipeForBack=function(a){if(navigator.userAgent.match(/Macintosh/)&&navigator.userAgent.match(/Chrome/)){var b=a||$(window);if("undefined"==typeof b.mousewheel)return;b.mousewheel(function(a,b,c,d){if(!(Math.abs(d)>10||0==c)){var e,f,g=$(a.target).parents();e=!_(g).detect(function(a){var b=$(a).scrollLeft()>0;return b}),f=!_(g).detect(function(a){var b=$(a).scrollLeft()-(a.scrollWidth-a.clientWidth)<0;return b}),0>=c&&e===!0&&f===!1&&a.preventDefault(),c>=0&&e===!1&&f===!0&&a.preventDefault()}})}},u.turnOnPrompt=function(a){var b=$(window),c="Are you sure you want to leave the page unsaved?",d=a?a:c;b.unbind("beforeunload"),b.bind("beforeunload",function(){return d})},u.turnOffPrompt=function(){$(window).unbind("beforeunload")};var z=Math.sqrt(2);t.prototype={defaults:{start:-30,angle:120,gap:8,radius:200,width:60,color:"rgba(0, 0, 0, 0.7)"},maxAngle:160,positionElements:function(){var a=this,b=this.options.gap,c=this.options.radius,d=Math.max(this.options.angle,1),e=90-this.options.start,f=90-d,g=c*(1+(0>f?Math.sin(-f/180*Math.PI):0)),h=this.options.radius,i=this.options.width,j=parseInt(this.$center.width())||20,k=parseInt(this.$center.height())||20,l=h-i,m=/(iPhone|iPod|iPad)/i.test(navigator.userAgent),n=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);a.$el.css({width:g,height:g,borderWidth:b/2+"px",transform:(m||n)&&1===e?"rotate("+e+"deg)":"rotate("+e+"deg) skew(0deg, "+f+"deg)",transformOrigin:"100% 100%"}),a.$donut.css({left:g-h,top:g-h,width:2*h,height:2*h,borderWidth:i,transform:(m||n)&&1===e?"rotate("+-(d-90)/2+"deg)":"skew(0deg, "+-f+"deg) rotate("+-(d-90)/2+"deg)"}),(m||n)&&(a.$el.css({transition:"0.1s ease-in","-ms-transition":"0.1s ease-in","-moz-transition":"0.1s ease-in","-webkit-transition":"0.1s ease-in"}),a.$donut.css({transition:"0.1s ease-in","-ms-transition":"0.1s ease-in","-moz-transition":"0.1s ease-in","-webkit-transition":"0.1s ease-in"})),a.$filler.css({left:g-l,top:g-l,width:2*l,height:2*l,transform:"skew(0deg, "+-f+"deg)"}),a.$center.css({left:-(l*(z/2-1)+i*(z/4)+j/2),top:-(l*(z/2-1)+i*(z/4)+k/2),transform:"rotate("+((d-90)/2-e)+"deg)"})
},get:function(){var a=[];if(0==arguments.length)a=this.options;else if(1==arguments.length)a=this.options[arguments[0]]||null;else for(var b=0;b<arguments.length;b++)a[arguments[b]]=this.options[arguments[b]]||null;return a},set:function(a){"number"==typeof a.start&&(this.options.start=a.start),"number"==typeof a.angle&&(this.options.angle=Math.min(a.angle,this.maxAngle)),"number"==typeof a.gap&&(this.options.gap=a.gap),"number"==typeof a.radius&&(this.options.radius=a.radius),"number"==typeof a.width&&(this.options.width=a.width),"number"==typeof a.color&&(this.options.color=a.color),this.positionElements()},close:function(){var a=this.options;this.set({start:a.start+a.angle/2,angle:0})},remove:function(){this.$el.remove()}},u.Arc=t,u.getURLParameter=d,u.getHashParameter=e,u.parseUrlParams=f,u.getVisualizationDetails=g,u.getSourceDetails=k,u.pad=c,u.hoursToAMPM=l,u.formattedTimeOnly=m,u.formattedDateOnly=n,u.formattedDate=p,u.timeZoneFromTime=q,u.determineTimeZone=r,u.formattedDateMonth=o,u.getPageUserData=s,u.getFunctionsForMetric=h,u.hasLastValue=i,u.isNumericAttributeType=j,u.time={},u.time.getPreviousHour=function(a){return a-u.time.millisecondsIn.hour},u.time.getMaxStepLimit=function(){return 62},u.time.getLowerStep=function(a){var b="",c=["MINUTE","HOUR","DAY","WEEK","MONTH","YEAR"],d=c.indexOf(a),e=d-1;return b=0>e?"MINUTE":c[e]},u.time.getMaxStep=function(a,b){var c=null,d=["MINUTE","HOUR","DAY","WEEK","MONTH","YEAR"],e=d.indexOf(a),f=d.indexOf(b);if(-1===e)throw"Step 1 is wrong";if(-1===f)throw"Step 2 is wrong";return c=e>f?a:b},u.time.getDaysInMonth=function(a,b){var c=new Date(a);return b?(c.setUTCDate(15),c.setUTCMonth(c.getUTCMonth()+1),c.setUTCDate(0),c.getUTCDate()):(c.setDate(15),c.setMonth(c.getMonth()+1),c.setDate(0),c.getDate())},u.time.formatAMPM=function(a,b){var c,d;b?(c=a.getUTCHours(),d=a.getUTCMinutes()):(c=a.getHours(),d=a.getMinutes());var e=c>=12?"pm":"am";c%=12,c=c?c:12,d=10>d?"0"+d:d;var f=c+":"+d+" "+e;return f},u.time.formatAMPMForHours=function(a,b){var c;c=b?a.getUTCHours():a.getHours();var d=c>=12?"pm":"am";c%=12,c=c?c:12;var e=c+" "+d;return e},u.time.getWeekNumber=function(a,b){if(a=new Date(a),b){a.setUTCHours(0,0,0),a.setUTCDate(a.getUTCDate()+4-(a.getUTCDay()||7));var c=new Date(a.getUTCFullYear(),0,1),d=Math.ceil(((a-c)/864e5+1)/7);return[a.getUTCFullYear(),d]}a.setHours(0,0,0),a.setDate(a.getDate()+4-(a.getDay()||7));var c=new Date(a.getFullYear(),0,1),d=Math.ceil(((a-c)/864e5+1)/7);return[a.getFullYear(),d]},u.time.getRangeForStep=function(a,c,d,e){function f(a,b){return b?(a.setUTCMilliseconds(0),a.setUTCSeconds(0),a.setUTCMinutes(0)):(a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0)),a}function g(a,b){return a.setDate(b?a.getUTCDate()-a.getUTCDay():a.getDate()-a.getDay()),a}var h=new Date(a),i=new Date(c),j=!1;if(i.getTime()%1e4===9999&&"DAY"===d&&e&&(i.setTime(i.getTime()+1),j=!0),c.getTime()-a.getTime()+1<b.Utilities.time.millisecondsIn[d.toLowerCase()]){switch(d){case"MINUTE":break;case"HOUR":f(h,e),f(i,e),e?i.setUTCHours(i.getUTCHours()+1):i.setHours(i.getHours()+1);break;case"DAY":f(h,e),f(i,e),e?(h.setUTCHours(0),i.setUTCHours(0),i.setUTCDate(i.getUTCDate()+1)):(h.setHours(0),i.setHours(0),i.setDate(i.getDate()+1));break;case"WEEK":f(h,e),f(i,e),g(h,e),g(i,e),e?(h.setUTCHours(0),i.setUTCHours(0),i.setUTCDate(i.getUTCDate()+7)):(h.setHours(0),i.setHours(0),i.setDate(i.getDate()+7));break;case"MONTH":f(h,e),f(i,e),e?(h.setUTCHours(0),h.setUTCDate(1),i.setUTCHours(0),i.setUTCDate(1),i.setUTCMonth(i.getUTCMonth()+1)):(h.setHours(0),h.setDate(1),i.setHours(0),i.setDate(1),i.setMonth(i.getMonth()+1));break;case"YEAR":f(h,e),f(i,e),e?(h.setUTCHours(0),h.setUTCMonth(1),h.setUTCDate(0),i.setUTCHours(0),i.setUTCMonth(1),i.setUTCDate(0),i.setUTCFullYear(i.getUTCFullYear()+1)):(h.setHours(0),h.setMonth(1),h.setDate(0),i.setHours(0),i.setMonth(1),i.setDate(0),i.setFullYear(i.getFullYear()+1))}return{min:h,max:i}}switch(d){case"MINUTE":break;case"HOUR":f(h,e),f(i,e),e?i.setUTCHours(i.getUTCHours()):i.setHours(i.getHours());break;case"DAY":if(f(h,e),f(i,e),e){var k=i.getHours(0)>0?1:0;h.setUTCHours(0),i.setUTCHours(0),i.setUTCDate(i.getUTCDate()+k)}else{var k=i.getHours(0)>0?1:0;h.setHours(0),i.setHours(0),i.setDate(i.getDate()+k)}break;case"WEEK":f(h,e),f(i,e),g(h,e),g(i,e),e?(h.setUTCHours(0),i.setUTCHours(0),i.setUTCDate(i.getUTCDate()+7)):(h.setHours(0),i.setHours(0),i.setDate(i.getDate()+7));break;case"MONTH":f(h,e),f(i,e),e?(h.setUTCHours(0),h.setUTCDate(1),i.setUTCHours(0),i.setUTCDate(1),i.setUTCMonth(i.getUTCMonth()+1)):(h.setHours(0),h.setDate(1),i.setHours(0),i.setDate(1),i.setMonth(i.getMonth()+1));break;case"YEAR":f(h,e),f(i,e),e?(h.setUTCHours(0),h.setUTCMonth(1),h.setUTCDate(0),i.setUTCHours(0),i.setUTCMonth(1),i.setUTCDate(0)):(h.setHours(0),h.setMonth(1),h.setDate(0),i.setHours(0),i.setMonth(1),i.setDate(0))}return{min:h,max:i}},u.time.recalculateLimit=function(a,b,c){var d=1,e=1,f=u.time.getMaxStepLimit();switch(a){case"MINUTE":e=b;break;case"HOUR":e=60*b;break;case"DAY":e=60*b*24;break;case"WEEK":e=60*b*24*7;break;case"MONTH":e=60*b*24*31;break;case"YEAR":e=60*b*24*365}switch(d=e,c){case"MINUTE":d=e;break;case"HOUR":"MINUTE"!==a&&(d=e/60);break;case"DAY":"HOUR"!==a&&(d=e/60/24);break;case"WEEK":"DAY"!==a&&(d=e/60/24/7);break;case"MONTH":"WEEK"!==a&&(d=e/60/24/31);break;case"YEAR":"MONTH"!==a&&(d=e/60/24/365)}return d=Math.ceil(d),d>f?f:d},u.time.getRoundedDateRange=function(a,c,d,e,f){var g="MINUTE",h=0,i=60;if(c.getTime()%1e4===9999&&"DAY"===d&&c.setTime(c.getTime()+1),f)var j="DAY"===d&&a.getUTCHours()>0?1:0;else var j="DAY"===d&&a.getHours()>0?1:0;var k=new Date(a.getTime()),l=new Date(c.getTime());"DAY"===d&&(f?(k.setUTCHours(0),l.setUTCHours(23)):(k.setHours(0),l.setHours(23)));var m=l.getTime()-k.getTime()+j;if(m<=b.Utilities.time.millisecondsIn.hour&&!d)g="MINUTE",h=f?c.getUTCMinutes()-a.getUTCMinutes():c.getMinutes()-a.getMinutes(),i=0>=h?h+61:h+1;else if(m<=b.Utilities.time.millisecondsIn.day&&!d)g="HOUR",h=f?c.getUTCHours()-a.getUTCHours():c.getHours()-a.getHours(),i=0>=h?h+25:h+1;else if(m<=29*b.Utilities.time.millisecondsIn.day&&!d)g="DAY",f?(h=c.getUTCDate()-a.getUTCDate()+(c.getUTCMonth()-a.getUTCMonth())*b.Utilities.time.getDaysInMonth(a,f),i=0>=h?h+b.Utilities.time.getDaysInMonth(a,f):h+1):(h=c.getDate()-a.getDate()+(c.getMonth()-a.getMonth())*b.Utilities.time.getDaysInMonth(a),i=0>=h?h+b.Utilities.time.getDaysInMonth(a):h+1);else if(m<=60*b.Utilities.time.millisecondsIn.day&&!d)if(g="WEEK",f){h=b.Utilities.time.getWeekNumber(c,f)[1]-b.Utilities.time.getWeekNumber(a,f)[1];var n=new Date(a.getUTCFullYear(),11,31);i=0>=h?h+b.Utilities.time.getWeekNumber(n,f)[1]:h+1}else{h=b.Utilities.time.getWeekNumber(c)[1]-b.Utilities.time.getWeekNumber(a)[1];var n=new Date(a.getFullYear(),11,31);i=0>=h?h+b.Utilities.time.getWeekNumber(n)[1]:h+1}else m<=365*b.Utilities.time.millisecondsIn.day&&!d?(g="MONTH",h=f?c.getUTCMonth()-a.getUTCMonth():c.getMonth()-a.getMonth(),i=0>=h?h+13:h+1):m>365*b.Utilities.time.millisecondsIn.day&&!d&&(g="YEAR",h=f?c.getUTCFullYear()-a.getUTCFullYear():c.getFullYear()-a.getFullYear(),i=h+1);if(i-=1,d){switch(d){case"MINUTE":i=m/1e3/60;break;case"HOUR":i=m/1e3/60/60;break;case"DAY":i=m/1e3/60/60/24;break;case"WEEK":i=m/1e3/60/60/24/7;break;case"MONTH":i=f?12*c.getUTCFullYear()+c.getUTCMonth()-(12*a.getUTCFullYear()+a.getUTCMonth()):12*c.getFullYear()+c.getMonth()-(12*a.getFullYear()+a.getMonth());break;case"YEAR":i=m/1e3/60/60/24/365}g=d,i="MONTH"===d?i:Math.ceil(i)+(e?1:0)}return i=0>=i?1:i,{step:g,amount:i}},u.time.days=[{acr:"Sun",full:"Sunday"},{acr:"Mon",full:"Monday"},{acr:"Tue",full:"Tuesday"},{acr:"Wed",full:"Wednesday"},{acr:"Thu",full:"Thursday"},{acr:"Fri",full:"Friday"},{acr:"Sat",full:"Saturday"}],u.time.months=[{acr:"Jan",full:"January",days:31},{acr:"Feb",full:"February",days:28},{acr:"Mar",full:"March",days:31},{acr:"Apr",full:"April",days:30},{acr:"May",full:"May",days:31},{acr:"Jun",full:"June",days:30},{acr:"Jul",full:"July",days:31},{acr:"Aug",full:"August",days:31},{acr:"Sep",full:"September",days:30},{acr:"Oct",full:"October",days:31},{acr:"Nov",full:"November",days:30},{acr:"Dec",full:"December",days:31}],u.time.millisecondsIn={},u.time.millisecondsIn.sec=1e3,u.time.millisecondsIn.min=60*u.time.millisecondsIn.sec,u.time.millisecondsIn.hour=60*u.time.millisecondsIn.min,u.time.millisecondsIn.day=24*u.time.millisecondsIn.hour,u.time.millisecondsIn.week=7*u.time.millisecondsIn.day,u.time.millisecondsIn.month=31*u.time.millisecondsIn.day,u.time.millisecondsIn.year=365*u.time.millisecondsIn.day,u.time.getEndTimeWithinStep=function(a,b,c){var d=new Date(a);switch(b){case"MINUTE":c?(d.setUTCMilliseconds(0),d.setUTCSeconds(0),d.setUTCMinutes(d.getUTCMinutes()+1)):(d.setMilliseconds(0),d.setSeconds(0),d.setMinutes(d.getMinutes()+1));break;case"HOUR":c?(d.setUTCMilliseconds(0),d.setUTCSeconds(0),d.setUTCMinutes(0),d.setUTCHours(d.getUTCHours()+1)):(d.setMilliseconds(0),d.setSeconds(0),d.setMinutes(0),d.setHours(d.getHours()+1));break;case"DAY":c?(d.setUTCMilliseconds(0),d.setUTCSeconds(0),d.setUTCMinutes(0),d.setUTCHours(0),d.setUTCDate(d.getUTCDate()+1)):(d.setMilliseconds(0),d.setSeconds(0),d.setMinutes(0),d.setHours(0),d.setDate(d.getDate()+1));break;case"WEEK":c?(d.setUTCMilliseconds(0),d.setUTCSeconds(0),d.setUTCMinutes(0),d.setUTCHours(0),d.setUTCDate(d.getUTCDate()+7)):(d.setMilliseconds(0),d.setSeconds(0),d.setMinutes(0),d.setHours(0),d.setDate(d.getDate()+7));break;case"MONTH":c?(d.setUTCMilliseconds(0),d.setUTCSeconds(0),d.setUTCMinutes(0),d.setUTCHours(0),d.setUTCDate(1),d.setUTCMonth(d.getUTCMonth()+1)):(d.setMilliseconds(0),d.setSeconds(0),d.setMinutes(0),d.setHours(0),d.setDate(1),d.setMonth(d.getMonth()+1));break;case"YEAR":c?(d.setUTCMilliseconds(0),d.setUTCSeconds(0),d.setUTCMinutes(0),d.setUTCHours(0),d.setUTCDate(1),d.setUTCMonth(0),d.setUTCFullYear(d.getUTCFullYear()+1)):(d.setMilliseconds(0),d.setSeconds(0),d.setMinutes(0),d.setHours(0),d.setDate(1),d.setMonth(0),d.setFullYear(d.getFullYear()+1))}return d.getTime()},u.log10=function(a){return Math.log(a)/Math.log(10)},u.isRetina=function(){return window.devicePixelRatio>1},u.toTitleCase=function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},u.MODE={NORMAL:0,WIDGET:1,EMBEDDED:2,NATIVE:3};var A=-1;u.mode=function(){if(-1!==A)return A;A=u.MODE.NORMAL;var a=d("__target");if("widget"===a)A=u.MODE.WIDGET;else if("embedded"===a)A=u.MODE.EMBEDDED;else{var b=/(iPhone|iPod|iPad)/i.test(navigator.userAgent),c=/(Safari)/i.test(navigator.userAgent);b&&!c&&(A=u.MODE.NATIVE)}return A},u.getHiddenControls=function(){var a=d("hidecontrol");return a=a?a.split(","):[],console.log("hiddenControls",a),a},u.visualizationStartedUnique={_counter:0},u.visualizationStarted=function(a){var c={WORD_CLOUD:1e3,ZOOMABLE_MAP:2e3,VERTICAL_BARS:100,HEAT_MAP:1e3,MULTI_METRIC_TREND:100,SIDE_BY_SIDE_BARS:900,STACKED_BARS:900,TRENDS:100,PIE:600,PIVOT_TABLE:1e3,DEFAULT:100},d=c.DEFAULT,e=b.main?b.main.currentSection.widgetGrid.collection.length:null;if(a){if(u.visualizationStartedUnique[a.UUID])return!1;u.visualizationStartedUnique[a.UUID]=!0,d=a.customReadyStatusDelay?a.customReadyStatusDelay:c[a.config.type]||c.DEFAULT,d+=1002}b.Utilities.preventSwipeForBack();var f="screenshot_status_ready",g=$("body");return setTimeout(function(){u.visualizationStartedUnique._counter++,e===u.visualizationStartedUnique._counter&&(g.addClass(f),console.log(a.UUID+" started with delay "+d+"ms."))},d),!0},u.isSingleVizualization=function(){return b.main.currentSection.widgetGrid.childViews.length<2},u.isSmallWidget=function(a,b){var c=500,d=380;return c>=a||d>=b},u.getWidgetSizeClass=function(a,b){var c=500,d=380,e=1e3,f=700,g=["small","medium","large"],h=g[1];return(a>e||b>f)&&(h=g[2]),(e>=a||f>=b)&&(a>=c||b>=d)&&(h=g[1]),(c>a||d>b)&&(h=g[0]),h},u.generateUUID=function(){return"xxxxxxxxxxxxxxxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})},"undefined"!=typeof Hammer&&(Hammer.plugins.fakeMultitouch(),$(function(){$("body").hammer()})),u.getVersion=function(){var a=$.Deferred();return $.ajax({url:"service/version/",success:function(b){a.resolve(b)},fail:function(){a.reject()}}),a.promise()},u.getUrlVars=function(){var a={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d}),a},u.detectTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},u.sourceExists=function(a,b,c){var d=!1;return admin.sources.each(function(a){b.toLowerCase()===a.get("name").toLowerCase()&&a.get("id")!==c&&(d=!0)}),d},u.isIOS=function(){return/(iPhone|iPod|iPad)/i.test(navigator.userAgent)},u.rTrim=function(a){return a.replace(/\s+$/,"")},u.lTrim=function(a){return a.replace(/^\s+/,"")},u.appendStylesWithScoping=function(a,b){a&&a.each(function(a,c){var d=document.createElement("STYLE"),e=!1;$(c.attributes).each(function(a,b){var c=b.name||b.nodeName,f=b.value||""===b.value?b.value:b.nodeValue;e=e||"scoped"===c,d.setAttribute(c,f)}),d.innerHTML=c.innerText,b.appendChild(d),e&&$(d).scopedPolyFill()})},u.scopedPolyFill=function(a){function b(a,c){if(c&&(a=c),!a.nodeName)return a.jquery?a.each(b):void 0;if("STYLE"===a.nodeName&&!e.scopeSupported){for(var d,g,h,i=a[e.sheet],j=i[e.rules],k=a.parentNode,l=(k.id||(k.id="scopedByScopedPolyfill_"+ ++f),""),m=j.length||0;k;)k.id&&(l="#"+k.id+" "+l),k=k.parentNode;for(;m--;)d=j[m],g=l+" "+d.selectorText.split(",").join(", "+l),g=g.replace(/[\ ]+:root/gi,""),e.changeSelectorTextAllowed?d.selectorText=g:d.type&&1!==d.type||(h=d.style.cssText,i.removeRule?i.removeRule(m):i.deleteRule(m),i.addRule&&h.length>0?i.addRule(g,h):i.insertRule(g+"{"+h+"}",m))}}var c,d,e=function(){var b,c,d,e=a.createElement("style"),f="undefined"!=typeof e.sheet?"sheet":"undefined"!=typeof e.getSheet?"getSheet":"styleSheet",g="undefined"!=typeof e.scoped;a.body.appendChild(e),b=e[f],b.addRule?b.addRule("c","blink"):b.insertRule("c{}",0),c=b.rules?"rules":"cssRules",d=b[c][0];try{d.selectorText="d"}catch(h){}var i="d"===d.selectorText.toLowerCase();return e.parentNode.removeChild(e),{scopeSupported:g,rules:c,sheet:f,changeSelectorTextAllowed:i}}(),f=0;if(a.querySelectorAll)c=a.querySelectorAll("style[scoped]");else{var g,h=[];for(c=a.getElementsByTagName("style"),d=c.length;d--;)g=c[d].getAttribute("scoped"),("scoped"===g||""===g)&&h.push(c[d]);c=h}for(d=c.length;d--;)b(c[d]);return"function"==typeof jQuery&&"object"==typeof jQuery.fn&&(jQuery.fn.scopedPolyFill=function(){return this.each(b)}),b}(document),u.getImgFromSvg=function(a){function b(a,c){function d(a,b){var c=u.getStyles(a),d=a[0];"text"==d.tagName&&"undefined"==typeof c["font-size"]&&(c["font-size"]=h),b.css(c)}a.children().length?a.children().each(function(){var a=$(this),d=a.clone();d.children().remove(),c.append(d),b(a,d)}):d(a,c)}var c,d=$.Deferred(),e=new Image,f=$(a).width(),g=$(a).height(),h=$("body").css("font-size"),i={prefix:'<svg                        version="1.1"                        xmlns="http://www.w3.org/2000/svg"                        xmlns:xlink="http://www.w3.org/1999/xlink"                        width="'+f+'" height="'+g+'">                        <defs>                            <style>                                @font-face {                                    font-family: "source-sans-pro";                                    src: url(data:application/x-font-woff;charset=utf-8;base64,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) format("woff"),                                    url("sourcesanspro-regular-webfont.ttf") format("truetype");                                }                            </style>                        </defs>                        ',postfix:"</svg>"},j=$([i.prefix,i.postfix].join(""));
return e.width=f,e.height=g,$(a).each(function(){var a=$(this);b(a,j)}),e.onload=function(){var a,b=new Image;c=document.createElement("canvas"),document.body.appendChild(c),c.width=f,c.height=g,a=c.getContext("2d"),a.drawImage(e,0,0),b.width=f,b.height=g,b.onload=function(){document.body.removeChild(c),d.resolve(b)},b.src=c.toDataURL("image/png")},e.src="data:image/svg+xml;base64,"+btoa([i.prefix,j.html(),i.postfix].join("")),d.promise()},u.getStyles=function(a){function b(a){var b=document.styleSheets,d={};for(var e in b){var f=b[e].rules||b[e].cssRules;for(var g in f)a.is(f[g].selectorText)&&(d=$.extend(d,c(f[g].style),c(a.attr("style"))))}return d}function c(a){var b={};if(!a)return b;if(a instanceof CSSStyleDeclaration)for(var c in a)a[c].toLowerCase&&(b[a[c].toLowerCase()]=a[a[c]]);else if("string"==typeof a){a=a.split(/[;][ ]?/);for(var c in a){var d=a[c].split(": ");b[d[0].toLowerCase()]=d[1]}}return b}return b(a)},function(a){function b(a){var b=document.querySelectorAll("svg image"),c=b.length;0==c&&a();for(var d=0;d<b.length;d++)!function(b){if(b.getAttribute("xlink:href")){var d=b.getAttribute("xlink:href").value;if(/^http/.test(d)&&!new RegExp("^"+window.location.host).test(d))throw new Error("Cannot render embedded images linking to external hosts.")}var e=document.createElement("canvas"),f=e.getContext("2d"),g=new Image;g.src=b.getAttribute("xlink:href"),g.onload=function(){e.width=g.width,e.height=g.height,f.drawImage(g,0,0),b.setAttribute("xlink:href",e.toDataURL("image/png")),c--,0==c&&a()}}(b[d])}function c(a){for(var b="",c=document.styleSheets,d=0;d<c.length;d++)for(var e=c[d].cssRules,f=0;f<e.length;f++){var g=e[f];if("undefined"!=typeof g.style){var h=a.querySelectorAll(g.selectorText);h.length>0&&(b+=g.selectorText+" { "+g.style.cssText+" }\n")}}var i=document.createElement("style");i.setAttribute("type","text/css"),i.innerHTML="<![CDATA[\n"+b+"\n]]>";var j=document.createElement("defs");return j.appendChild(i),j}var d="undefined"!=typeof a&&a||this,e='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';d.svgAsDataUri=function(a,d,f){d=d||1,b(function(){var b=document.createElement("div"),g=a.cloneNode(!0),h=a.clientWidth,i=a.clientHeight,j="http://www.w3.org/2000/xmlns/";g.setAttribute("version","1.1"),g.setAttributeNS(j,"xmlns","http://www.w3.org/2000/svg"),g.setAttributeNS(j,"xmlns:xlink","http://www.w3.org/1999/xlink"),g.setAttribute("width",h*d),g.setAttribute("height",i*d),g.setAttribute("viewBox","0 0 "+h+" "+i),b.appendChild(g),g.insertBefore(c(g),g.firstChild);var k=e+b.innerHTML,l="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(k)));f&&f(l)})},d.saveSvgAsPng=function(a,b){var c=$.Deferred();return d.svgAsDataUri(a,b,function(a){var b=new Image;b.src=a,b.onload=function(){var a=document.createElement("canvas"),d=new Image;a.width=b.width,a.height=b.height;var e=a.getContext("2d");e.drawImage(b,0,0),d.src=a.toDataURL("image/png"),d.onload=function(){c.resolve(d)}}}),c.promise()}}(u),b.Utilities=u}(window,Zoomdata),function(a,b){"use strict";b.Models=b.Models||{},b.Models.Visualization=b.MVC.Model.extend({urlRoot:"service/visualizations",initialize:function(){b.MVC.Model.prototype.initialize.apply(this,arguments),this.on("change sync",this.setIconUrl),this.setIconUrl()},setIconUrl:function(){var a=this.get("thumbnailId"),b=this.get("type"),c="";if(a)c=this.urlRoot+"/"+this.get("visId")+"/thumbnail/"+a+".svg?v=09042024";else switch(b){case"VERTICAL_BARS":c="images/Template_Bars_Button_sm.png?v=09042024";break;case"BUBBLES":c="images/Template_Bubbles_Button_sm.png?v=09042024";break;case"SCATTERPLOT":c="images/Template_Scatterplot_Button_sm.png?v=09042024";break;case"PIE":c="images/Template_Pie_Button_sm.png?v=09042024";break;case"WORD_CLOUD":c="images/Template_WordCloud_Button_sm.png?v=09042024";break;case"MAP":c="images/Template_ZoomableMap_Button_sm.png?v=09042024";break;case"TRENDS":c="images/Template_TimeTrend_Button_alt_sm.png?v=09042024";break;case"ZOOMABLE_MAP":c="images/Template_ZoomableMap_Button_sm.png?v=09042024";break;case"PIVOT_TABLE":c="images/Template_GridView_Button_sm.png?v=09042024";break;case"HEAT_MAP":c="images/Template_HeatMap_Button_sm.png?v=09042024";break;case"HORIZONTAL_BARS":c="images/Template_HorizBar_Button_sm.png?v=09042024";break;case"SIDE_BY_SIDE_BARS":c="images/Template_MultiBar_Button_sm.png?v=09042024";break;case"MULTI_METRIC_BARS":c="images/Template_MultiBar_Button_sm.png?v=09042024";break;case"VERTICAL_STACKED_BARS":c="images/Template_MultiGroup_Bar_Button_sm.png?v=09042024";break;case"VERTICAL_100PCT_STACKED_BARS":c="images/Template_Vertical_100pct_Stacked_sm.png?v=09042024";break;case"HORIZONTAL_SIDE_BY_SIDE_BARS":c="images/Template_SideBySide_Horiz_Button_sm.png?v=09042024";break;case"MULTI_LINE":c="images/Template_MultiLine_Button_sm.png?v=09042024";break;case"MULTI_METRIC_TREND":c="images/Template_LineAndBar_Button_sm.png?v=09042024";break;case"FINGERPAINT":c="images/Template_Fingerpaint_Button_sm.png?v=09042024";break;default:c="images/Template_Custom_Button_sm.png?v=09042024"}this.set("thumbnailUrl",c,{silent:!0})},saveEnabled:function(a){this.save({enabled:a})}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Models.Visualization;b.Models=b.Models||{},b.Models.SourceVisualization=c.extend({idAttribute:"visId",initialize:function(a,c){return b.Models.Visualization.prototype.initialize.apply(this,arguments),c=c||{},c.sourceId?(this.setSource(c.sourceId),delete c.sourceId):this.attributes.source&&this.attributes.source.sourceId&&this.setSource(this.attributes.source.sourceId),this},setSource:function(a){return this.sourceId=a,this},getSourceId:function(){return this.sourceId||this.collection.sourceId},url:function(){if(this.getSourceId())return"service/sources/"+this.getSourceId()+"/visualizations/"+this.get("visId");throw new Error("sourceId must be defined")}})}(window,Zoomdata),function(a,b){var c=b.Models.SourceVisualization;b.Models=b.Models||{},b.Models.VisualizationConfig=c.extend({idAttribute:"id",fetch:function(){var a=this,c=_.clone(this.attributes),d=$.Deferred();return b.Models.SourceVisualization.prototype.fetch.apply(this,arguments).done(function(){$.extend(!0,a.attributes,c),d.resolve(arguments)}).fail(function(){d.reject(arguments)}),d.promise()}})}(window,Zoomdata),function(a,b){"use strict";b.Models=b.Models||{},b.Models.Filter=b.MVC.Model.extend({defaults:{path:null,operation:"IN",value:[],editable:!1},idAttribute:"path",initialize:function(){_.bindAll(this,"hasAttribute","addAttribute","removeAttribute","hasValue","isEqualToFilter")},hasAttribute:function(a){return"number"==typeof this.attributes.value?this.attributes.value===a:this.attributes.value&&this.attributes.value.indexOf(a.toString())>=0},hasValue:function(){var a=this.attributes.value;return null!==a&&("number"==typeof a||a.length>0)},addAttribute:function(a,b){var c=_.clone(this.get("value"))||[];return-1==c.indexOf(a)&&(c.push(a),this.set("value",c,b)),this},removeAttribute:function(a,b){var c=_.clone(this.get("value")),d=c&&c.indexOf(a);return c&&-1!==d?(c.splice(d,1),this.set("value",c,b),c.length?this:(this.collection&&this.collection.remove(this,b),null)):this},isEqualToFilter:function(a){if(!a)return!1;var b=a.get("operation")===this.get("operation")&&a.get("path")===this.get("path");if(b){var c=this.get("value"),d=a.get("value");b=c===d||2===c.length&&2===d.length&&c[0]===d[0]&&c[1]===d[1]}return b},toRequest:function(){return{path:this.get("path"),value:this.get("value"),operation:this.get("operation")}}})}(window,Zoomdata),function(a,b){"use strict";b.Models=b.Models||{},b.Models.ObjectField=b.MVC.Model.extend({initialize:function(){b.MVC.Model.prototype.initialize.apply(this,arguments),this.on("change:name change:type",this._setComposedId),this._setComposedId()},_setComposedId:function(){this.id=this._composedId()},_composedId:function(){return this.get("name")+this.get("type")},updateFacetValues:function(a,b,c,d){var e=this,f=this.get("name"),g="service/stream/"+this.collection.sourceId+"/facet/"+f+"?from="+c+"&to="+d+(a?"&query="+a:""),h=$.ajax({type:"POST",url:g,data:JSON.stringify(b),contentType:"application/json"}).done(function(){}).fail(function(){console.warn("Couldn't get values for ObjectField ",e.get("name"))});return h.promise()},updateValues:function(a){var b=this,c=this.get("name"),d=this.collection.url()+c+"/values"+(a?"?query="+a:"/"),e=$.ajax({type:"GET",url:d,contentType:"application/json"}).done(function(a){b.values=a}).fail(function(){console.warn("Couldn't get values for ObjectField ",b.get("name"))});return e.promise()}})}(window,Zoomdata),function(a,b){"use strict";b.Collections=b.Collections||{},b.Collections.Filters=b.MVC.Collection.extend({model:b.Models.Filter,toRequest:function(){return this.map(function(a){return{path:a.get("path"),value:a.get("value"),operation:a.get("operation")}})}})}(window,Zoomdata),function(a,b){"use strict";var c=b.MVC.Model.extend({idAttribute:"name"});b.Collections=b.Collections||{},b.Collections.Formulas=b.MVC.Collection.extend({model:c,initialize:function(a,c){return c=c||{},c.sourceId&&(this.sourceId=c.sourceId,delete c.sourceId),b.MVC.Collection.prototype.initialize.apply(this,arguments),this},setSource:function(a){return this.sourceId=a,this},url:function(){if(this.sourceId)return"service/sources/"+this.sourceId+"/formulas/";throw new Error("sourceId must be defined")}})}(window,Zoomdata),function(a,b){"use strict";function c(a){var b="boolean"==typeof a.get("visible")?a.visible:!0;return new d({name:a.get("name"),label:a.get("label"),type:"FORMULA",func:"mvel",visible:b})}var d=b.Models.ObjectField,e=b.Collections.Formulas,f=["ATTRIBUTE","TEXT","NUMBER","MONEY","INTEGER","COUNT OF","FORMULA"];b.Collections=b.Collections||{},b.Collections.ObjectFields=b.MVC.Collection.extend({model:d,volumeField:new d({label:"Volume",name:"count",type:"NUMBER",visible:!0}),noneField:new d({label:"None",name:"none",type:"NONE",visible:!0}),defaults:{},initialize:function(a,c){var d;c=c||{},c.sourceId&&(this.sourceId=c.sourceId,delete c.sourceId),b.MVC.Collection.prototype.initialize.apply(this,arguments),d=this.where({type:"FORMULA"}),this.formulas=new e(d,{secure:this.secure,remote:this.remote,apiKey:this.apiKey,sourceId:this.sourceId}),this.listenTo(this.formulas,"add",this._onFormulaAdd),this.listenTo(this.formulas,"remove",this._onFormulaRemove),this.listenTo(this.formulas,"change",this._onFormulaChange),this.listenTo(this.formulas,"reset",this._onFormulasReset),this.listenTo(this.formulas,"sync",this._syncFormulas)},constructor:function(){b.MVC.Collection.prototype.constructor.apply(this,arguments),this._ensureVolumeField(),this._ensureNoneField(),this.on("all",this._ensureVolumeField),this.on("all",this._ensureNoneField)},_syncFormulas:function(){var a=this.formulas,b=a.map(c),d=this.where({type:"FORMULA"}),e=_.filter(d,function(a){var c=_.find(b,function(b){return b.id!==a.id});return"undefined"==typeof c});this.set(b,{remove:!1}),this.remove(e)},_onFormulaAdd:function(a){var b=c(a);this.add(b,{merge:!0})},_onFormulaRemove:function(a){var b=c(a);this.remove(b,{merge:!0})},_onFormulaChange:function(a){var b=c(a),d=this.get(b.id);d&&d.set(b.toJSON())},_onFormulasReset:function(a){var b=a.map(c);this.add(b)},_ensureVolumeField:function(a){var b=this.volumeField,c=this.get(b.id);c?null:this.add(b,a)},_ensureNoneField:function(a){var b=this.noneField,c=this.get(b.id);c?null:this.add(b,a)},setSource:function(a){return this.sourceId=a,this.formulas.setSource(a),this},url:function(){if(this.sourceId)return"service/sources/"+this.sourceId+"/attributes/";throw new Error("sourceId must be defined")},fetch:function(a){function c(){f++,2==f&&(e._ensureVolumeField(),e._syncFormulas(),g.resolve(e.toJSON()))}function d(a){_.each(a,function(a){if(a.distinctCount){var b={name:a.name,label:a.label,type:"COUNT OF",func:"distinct_count",visible:!0};e.add(b)}})}a=a||{},a.reset=!0;var e=this,f=0,g=$.Deferred(),h=this.formulas.fetch(),i=b.MVC.Collection.prototype.fetch.call(this,a);return i.done(function(a){d(a),c()}).fail(g.reject),h.done(c).fail(g.reject),g.promise()},filterByTypes:function(a){return this.remove(this.filter(function(b){return-1==a.indexOf(b.get("type"))&&"COUNT OF"!=b.get("type")})),this},removeBlueAttributes:function(){return this.remove(this.filter(function(a){return"ATTRIBUTE"!=a.get("type")})),this},filterHidden:function(){return this.remove(this.filter(function(a){return!a.get("visible")})),this},comparator:function(a){return f.indexOf(a.get("type"))}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Models.SourceVisualization;b.Collections=b.Collections||{},b.Collections.SourceVisualizations=b.MVC.Collection.extend({defaults:{},initialize:function(a,c){return c=c||{},c.sourceId&&(this.sourceId=c.sourceId,delete c.sourceId),b.MVC.Collection.prototype.initialize.apply(this,arguments),this},setSource:function(a){return this.sourceId=a,this},model:c,url:function(){if(this.sourceId)return"service/sources/"+this.sourceId+"/visualizations";throw new Error("sourceId must be defined")}})}(window,Zoomdata),function(a,b){"use strict";b.Models=b.Models||{},b.Models.GroupBy=b.MVC.Model.extend({defaults:{name:"",limit:30,sort:{name:"count",dir:"Descending Value"}},setAttribute:function(a,b){return this.set({name:a},b),this},getAttribute:function(){return this.get("name")},getLabel:function(){return this.label},setLimit:function(a,b){return this.set({limit:+a},b),this},getLimit:function(){return+this.get("limit")},setSort:function(a,b){var c=_.clone(this.get("sort"));return c.name=a.name,c.dir=a.dir,this.set({sort:c},b),this},setSortMetric:function(a,b){var c=_.clone(this.get("sort"));return c.name=a,this.set({sort:c},b),this},setSortDirection:function(a,b){var c=_.clone(this.get("sort"));return c.dir=a,this.set({sort:c},b),this},toJSON:function(){var a=b.MVC.Model.prototype.toJSON.call(this,arguments),c=a.sort.dir,d=c;return"Ascending Value"===c&&(d="asc"),"Descending Value"===c&&(d="desc"),a.sort.dir=d,a.limit=+a.limit,a}})}(window,Zoomdata),function(a,b){"use strict";b.Collections=b.Collections||{},b.Collections.GroupBy=b.MVC.Collection.extend({model:b.Models.GroupBy,initialize:function(a,c){return c=c||{},b.MVC.Collection.prototype.initialize.apply(this,arguments),this.options=$.extend({},this.defaults,c),this.options.definition?(this.definition=_.extend({},this.options.definition),this.definition.config=this.definition.config?JSON.parse(this.definition.config):{},delete this.options.definition):this.definition={},c.silent=!1,this.on("add",this.initGroupByLabel,this),this},getName:function(){var a=this.definition.config,b=a&&a.groupNames?a.groupNames[0]:this.definition.name;return b},initGroupByLabel:function(a){var b=this.definition.config,c=b&&b.groupNames?b.groupNames.slice(0):[],d=this.models.indexOf(a);c&&"string"==typeof c[d]&&(a.label=c[d])},getAttribute:function(){var a=this.at(0),b="";return a&&(b=a.getAttribute()),b},getAttributes:function(){return this.pluck("name")},setAttribute:function(a,b){var c=this.at(0);return c&&c.setAttribute(a,b),this},setAttributes:function(a,b){var c=this;return Array.isArray(a)?(a.forEach(function(a,b){c.at(b)&&c.at(b).setAttribute(a,{silent:!0})}),b&&b.silent||this.trigger("change",this)):this.setAttribute(a,b),this},getLimit:function(){var a=this.at(0);return a.getLimit()},setLimit:function(a,b){var c=this.at(0);return c&&c.setLimit(a,b),this}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Collections.SourceVisualizations,d=b.Collections.ObjectFields,e=b.Collections.Formulas;b.Collections.Attributes,b.Models=b.Models||{},b.Models.Source=b.MVC.Model.extend({urlRoot:"service/sources",initialize:function(){b.MVC.Model.prototype.initialize.apply(this,arguments),this.visualizations=new c(this.attributes.visualizations,{secure:this.secure,remote:this.remote,apiKey:this.apiKey}),this.objectFields=new d(this.attributes.objectFields,{secure:this.secure,remote:this.remote,apiKey:this.apiKey}),this.formulaList=this.objectFields.formulas,this.on("sync",this._onSync),this._onSync()},_onSync:function(){this.updateVisualizations(),this.updateObjectFields()},_detectTypeViaJdbc:function(a,b){return-1!=a.indexOf("redshift.amazonaws.com")?b="REDSHIFT":-1!=a.indexOf("jdbc:oracle")?b="ORACLE":-1!=a.indexOf("jdbc:mysql")?b="MYSQL":-1!=a.indexOf("jdbc:sqlserver")?b="SQLSERVER":-1!=a.indexOf("jdbc:postgresql")?b="POSTGRESQL":a&&-1!=a.indexOf("jdbc:presto")&&(b="PRESTO"),b},_detectTypeViaPathFile:function(a,b){return b=a&&0===a.indexOf("s3")?"S3":"HDFS"},updateVisualizations:function(){var a=this.get("id");this.visualizations.setSource(a),this.visualizations.set(this.attributes.visualizations)},updateObjectFields:function(){var a=this.get("id"),b=new d(this.attributes.objectFields),c=new e(this.attributes.formulas);this.objectFields.setSource(a),this.objectFields.set(b.toArray()),this.formulaList.set(c.toArray())},validate:function(){this.attributes.visualizations=this.visualizations.toJSON()},saveViewCount:$.noop()})}(window,Zoomdata),function(a,b){"use strict";var c=b.Models.Source,d=["name","description","type","streamType","lastModified","viewsCount","storageConfiguration","enabled"].join(",");b.Collections=b.Collections||{},b.Collections.Sources=b.MVC.Collection.extend({url:"service/sources",model:c,initialize:function(a,c){return c=c||{},"boolean"==typeof c.lightweight&&(this.lightweight=c.lightweight,delete c.lightweight),b.MVC.Collection.prototype.initialize.apply(this,arguments)},filterByVisualizations:function(a){var b=[];return this.each(function(c){c.visualizations.where(a).length&&b.push(c)}),b},filterDisabled:function(){return this.remove(this.filter(function(a){return!a.get("enabled")})),this},fetch:function(a){var c=_.clone(a)||{};return("boolean"==typeof c.lightweight?c.lightweight:this.lightweight)&&(c.data=$.extend({},c.data,{fields:d})),b.MVC.Collection.prototype.fetch.call(this,c)}})}(window,Zoomdata),function(a,b){"use strict";b.Models=b.Models||{},b.Models.Metric=b.MVC.Model.extend({defaults:{label:"",name:"",func:""},initialize:function(a,c){return b.MVC.Model.prototype.initialize.apply(this,arguments),c=c||{},this.options=$.extend({},this.defaults,c),this._setModelId(),this},_setModelId:function(){var a,b=this.get("label");this.get("id")||(a=this.collection?this.collection.where({label:b}):[],this.set("id",b+"-"+a.length,{silent:!0}))},isCount:function(){return"count"==this.get("name")},isNone:function(){var a=this.get("name");return"none"==a}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Models.Metric;b.Collections=b.Collections||{},b.Collections.Metrics=b.MVC.Collection.extend({model:c,initialize:function(a){return a=a||{},b.MVC.Collection.prototype.initialize.apply(this,arguments),this.options=$.extend({},this.defaults,a),this}})}(window,Zoomdata),function(a,b){"use strict";function c(a){return a.substring(0,a.lastIndexOf("."))}b.Models=b.Models||{},b.Models.ComponentSource=b.MVC.Model.extend({defaults:{},getConstructorName:function(){return c(this.get("name"))},url:function(){var a="string"==typeof this.remote?this.remote+"/":"",c="string"==typeof this.remote&&"boolean"==typeof this.secure?this.secure?"https://":"http://":"",d=b.MVC.Model.prototype.url.apply(this,arguments);return d+="/"+this.get("uploadDate"),c+a+d},load:function(a){var c=this,d=this.get("type"),e=$.Deferred(),f=this.url(),g=($("head"),a),h=this.apiKey||b.Utilities.getURLParameter("key");switch(d){case"text/template":f+=h?"?unwrapped=true&key="+h:"?unwrapped=true",$.ajax({cache:!0,dataType:"text",url:f}).done(function(a){$("<script type='text/template'>"+a+"</script>").appendTo($("head")),e.resolve()}).fail(function(a,b,d){console.error("Failed to load: "+c.get("name")+" with exception: "+d),e.reject(a)});break;case"text/css":h&&(f+="?key="+h),$.ajax({cache:!0,dataType:"text",url:f}).done(function(a){var b=c.get("visualizationId")||c.collection.visId,d=c.get("id");$(".widgetContent[data-visid="+b+"]").each(function(c,e){var f=$(e).parent();if(f.children('[data-componentid="'+d+'"]').length>0);else{var g=$('<style data-visid="'+b+'" data-componentid="'+d+'" scoped>'+a+"</style>").appendTo(f);g.scopedPolyFill&&g.scopedPolyFill()}}),$("body style").length+$("body link").length,e.resolve()}).fail(function(a,b,d){console.error("Failed to load: "+c.get("name")+" with exception: "+d),e.reject(a)});break;default:f+="?namespace="+g+"&function="+this.getConstructorName(),$.ajax({cache:!0,dataType:"script",url:f}).done(function(){e.resolve()}).fail(function(a,b,d){console.error("Failed to load: "+c.get("name")+" with exception: "+d),e.reject(a)})}return e.promise()}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Models.ComponentSource;b.Collections=b.Collections||{},b.Collections.ComponentSources=b.MVC.Collection.extend({model:c,initialize:function(a,c){return c=c||{},c.visId&&(this.setVisId(c.visId),delete c.visId),c.name&&(this.setVisName(c.name),delete c.name),b.MVC.Collection.prototype.initialize.apply(this,arguments),this},getComponentsNamespace:function(){return this.getVisName().replace(/[^\w]/g,"_")},load:function(a){var c=$.Deferred(),d=this.apiKey||b.Utilities.getURLParameter("key"),e="string"==typeof this.remote?this.remote+"/":"",f="string"==typeof this.remote&&"boolean"==typeof this.secure?this.secure?"https://":"http://":"";a=a||this.getComponentsNamespace(),requirejs.config({urlArgs:d?"key="+d:null,paths:{noext:f+e+"js/libs/require/noext"}});var g=[],h=[],i=[];a?this.forEach(function(a){var b=a.url();"text/javascript"===a.get("type")?(g.push("noext!"+b),h.push(a.getConstructorName())):i.push(a)}):(console.error("Namespace is not defined"),c.reject({message:"Namespace is not defined"}));var j=function(d){var e=0;console.log("Loading scripts:"),console.log(d),h.forEach(function(c){"function"==typeof b.Visualizations[a][c]?e++:null}),require.config({waitSeconds:100}),e==d.length?(console.log("Already Loaded: ",a),c.resolve()):require(d,function(){for(var d=0;d<arguments.length;d++){var e=arguments[d],f=h[d];b.Visualizations[a][f]=e}c.resolve()},function(a){c.reject(a)})},k=i.length,l=g.slice(0);if(k>0){var m=0;console.log("Loading resources:"),console.log(i),i.forEach(function(b){b.load(a).done(function(){m++,m==k&&j(l)}).fail(function(a){c.reject(a)})})}else j(l);return c.promise()},execute:function(){this.each(function(){})},url:function(){if(this.visId)return"service/visualizations/"+this.visId+"/source/";throw new Error("Visualization id for the component is not defined")},setVisName:function(a){this.name=a},getVisName:function(){return this.name},setVisId:function(a){this.visId=a}})}(window,Zoomdata),function(a,b){"use strict";b.Models=b.Models||{},b.Models.LibrarySource=b.Models.ComponentSource.extend({defaults:{},initialize:function(a){b.Models.ComponentSource.prototype.initialize.apply(this,arguments),"string"==typeof a&&this.set("name",a)},idAttribute:"id",url:function(){var a="string"==typeof this.remote?this.remote+"/":"",b="string"==typeof this.remote&&"boolean"==typeof this.secure?this.secure?"https://":"http://":"";return b+a+"service/visualizations/libs/"+this.id+"/"+(this.get("uploadDate")||"")},load:function(){var a=this,c=this.get("type"),d=$.Deferred(),e=this.url(),f=($("head"),this.apiKey||b.Utilities.getURLParameter("key"));switch(c){case"text/template":e+=f?"?unwrapped=true&key="+f:"?unwrapped=true",$.ajax({cache:!0,dataType:"text",url:e}).done(function(a){$("<script type='text/template'>"+a+"</script>").appendTo($("head")),d.resolve()}).fail(function(b,c,e){console.error("Failed to load: "+a.get("name")+" with exception: "+e),d.reject(b)});break;case"text/css":f&&(e+="?key="+f),$.ajax({cache:!0,dataType:"text",url:e}).done(function(a){$("<style>"+a+"</style>").appendTo($("head")),d.resolve()}).fail(function(b,c,e){console.error("Failed to load: "+a.get("name")+" with exception: "+e),d.reject(b)});break;default:$.ajax({cache:!0,dataType:"script",url:e+"/"}).done(function(){d.resolve()}).fail(function(b,c,e){console.error("Failed to load: "+a.get("name")+" with exception: "+e),d.reject(b)})}return d.promise()}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Models.LibrarySource;b.Collections=b.Collections||{},b.Collections.LibrariesSources=b.Collections.ComponentSources.extend({model:c,load:function(){var a=$.Deferred(),c=b.Utilities.getURLParameter("key")||this.apiKey,d=[],e=!1,f=[];return this.forEach(function(a){var b=a.url();-1!==b.indexOf("d3.v3.min.js")&&(e=!0,d.push(b)),f.push(b)}),requirejs.config({urlArgs:c?"key="+c:null}),console.log("Loading libraries:"),console.log(f),e?requirejs(d,function(b){window.d3=b,requirejs(f,function(){a.resolve()},function(b){console.error(f," failed to load."),a.reject(b)})},function(b){console.error(d," failed to load."),a.reject(b)}):requirejs(f,function(){a.resolve()},function(b){console.error(b.message),a.reject(b)}),a.promise()},url:function(){return"service/visualizations/libs/"}})}(window,Zoomdata),function(a,b){"use strict";b.Components=b.Components||{},b.Components.MetricFormatter=function(a,b){b="NONE"===b?!1:b;var c=a,d=!1,e=b,f=function(a){return d||(d=new Date(1*a)),d};this.format=function(a){var b=null;switch(d=!1,c){case"MONEY":b=$.formatNumber(a,{format:"$#,##0.00",locale:"us"});break;case"TIME":b=new Date(a).toLocaleString();break;case"DATE":b=f(a).getDay();break;case"MINUTE":if(isNaN(1*a))return"";var g=f(a).getHours(),h=f(a).getMinutes(),i=g>12?g-12:g||12;b=(10>i?"0":"")+i+":"+(10>h?"0"+h:h)+(g>=12?" pm":" am");break;case"HOUR":if(isNaN(1*a))return"";var g=f(a).getHours(),i=g>12?g-12:g||12;b=(10>i?"0":"")+i+(g>=12?" pm":" am");break;case"DAY":if(isNaN(1*a))return"";var j="DAY"==e?f(a).getUTCDate():f(a).getDate(),k="DAY"==e?f(a).getUTCMonth()+1:f(a).getMonth()+1;b=(10>k?"0"+k:k)+" / "+(10>j?"0"+j:j);break;case"WEEK":if(isNaN(1*a))return"";var j="DAY"==e?f(a).getUTCDate():f(a).getDate(),k="DAY"==e?f(a).getUTCMonth()+1:f(a).getMonth()+1;b=(10>k?"0"+k:k)+" / "+(10>j?"0"+j:j);break;case"MONTH":if(isNaN(1*a))return"";var k="DAY"==e?f(a).getUTCMonth()+1:f(a).getMonth()+1,l="DAY"==e?f(a).getUTCFullYear():f(a).getFullYear();b=l+" / "+(10>k?"0"+k:k);break;case"YEAR":if(isNaN(1*a))return"";b="DAY"==e?f(a).getUTCFullYear():f(a).getFullYear();break;default:Math.abs(a)>=1e-4&&Math.abs(a)<=1?b=$.formatNumber(a,{format:"0.####",locale:"us"}):Math.abs(a)>1?b=$.formatNumber(a,{format:"#,##0.##",locale:"us"}):(null===a&&(a=0),b=a?a.toExponential(4).toString():a.toString())}return b}}}(window,Zoomdata),function(a,b){"use strict";function c(a,b){this.setAccessTo(a,b),this.setColorRangeType("gradient")}var d=b.Components.MetricFormatter;b.Components=b.Components||{},b.Components.MetricAccessor=c,c.prototype.setAccessTo=function(a,b){return this.metric=a,this.metric.colors=this.metric.colors||this.metric.savedColors,this.objectField=b,this._updateFormatter(),this},c.prototype._updateDomain=function(a,b){var c,d,e,f,g,h=this,i=b;if(this.objectFields)this.domainValue=this.objectFields.map(function(a){return a.get("label")});else{if(c=d3.extent(a,function(a){return h.raw(a)}),e=(c[1]-c[0])/i,"gradient"!==this.colorRangeType&&(i+=1),0===e)return void(this.domainValue=c.slice(0));if(this.domainValue=this.domainValue||[],4===this.domainValue.length&&"gradient"!==this.colorRangeType)f=this.domainValue[1],g=this.domainValue[2],f<c[0]&&(f=c[0]),g>c[1]&&(g=c[1]),f>g&&(f=g),this.domainValue[0]=c[0],this.domainValue[1]=f,this.domainValue[2]=g,this.domainValue[3]=c[1];else{d=c[0],this.domainValue=[];do this.domainValue.push(d),d+=e;while(this.domainValue.length<i);this.domainValue[this.domainValue.length-1]=c[1]}}},c.prototype._recountDomain=function(){this._formatter=new d(this.objectField.type)},c.prototype._updateFormatter=function(){this._formatter=new d(this.objectField.type)},c.prototype.isCount=function(){return"count"===this.metric.name},c.prototype.isNone=function(){return"none"==this.metric.name},c.prototype.raw=function(a){var b,c,d=this.isCount(),e=this.isNone();return e?0:(b=this.metric.name,c=d?null:this.metric.func,d&&a.hasOwnProperty("current")&&a.current.hasOwnProperty("count")?a.current.count:a.hasOwnProperty("current")&&a.current.hasOwnProperty("metrics")&&a.current.metrics.hasOwnProperty(b)&&a.current.metrics[b].hasOwnProperty(c)&&a.current.metrics?a.current.metrics[b][c]:null)},c.prototype.formatted=function(a,b){var c=isNaN(a)?this.raw(a):a,d=this.objectField.type;return"count"===d?c:this._formatter.format(c,b)},c.prototype.get=function(a){return this.objectField[a]},c.prototype._updateFormatter=function(){this._formatter=new d(this.objectField.type)},c.prototype.get=function(a){return this.objectField[a]},c.prototype.colorRange=function(){var a=this,b=[];return"none"===this.metric.name?_.each(this.metric.colors,function(){b.push(a.metric.colors[0])}):b=this.metric.colors,_.clone(b)},c.prototype.minimum=function(){return this.domainValue?this.domainValue[0]:0},c.prototype.maximum=function(){return this.domainValue?this.domainValue[this.domainValue.length-1]:0},c.prototype.domain=function(){return _.clone(this.domainValue)},c.prototype.setColorRangeType=function(a){this.colorRangeType=a}}(window,Zoomdata),function(a,b){"use strict";b.Models=b.Models||{},b.TIME_WINDOW_SCALE={HOUR:"HOUR",ROLLING_HOUR:"ROLLING_HOUR",DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH",QUARTER:"QUARTER",YEAR:"YEAR",CUSTOM:"CUSTOM",ALL:"ALL"},b.Models.TimeWindowScale=b.MVC.Model.extend({idAttribute:"value"})}(window,Zoomdata),function(a,b){"use strict";var c=b.Utilities,d=c.time.millisecondsIn,e=b.Collections.Metrics,f=(b.Components,b.Models.GroupBy,b.Collections.GroupBy);b.Models=b.Models||{},b.Models.Time=b.MVC.Model.extend({defaults:{paused:!1,speed:1,minSpeed:1,timeWindow:"ROLLING_HOUR",time:null,tz:c.determineTimeZone(),min:0,max:(new Date).getTime(),speedValues:[1,10,60,3600,86400,864e3,5184e3],speedNames:["1x","10x","60x","1h/sec","1d/sec","10d/sec","60d/sec"],live:!1},startTimeFunctions:{},initialize:function(a){_.bindAll(this,"firstMinuteTime","firstHourTime","rollingTime","getStartTime","getEndTime"),this.set("LIVE"==a.time?{time:(new Date).getTime(),live:!0}:"number"!=typeof a.time?{time:c.getTimestamp(a.time),paused:!0}:{time:a.time,paused:!0}),this.on("change:timeWindow",this._updateLimits)},firstMinuteTime:function(a){var b=new Date(a);return b.setMinutes(0,0,0),b.getTime()},firstHourTime:function(a){var b=new Date(a);return b.setHours(0,0,0,0),b.getTime()},rollingTime:function(a){return a-d.hour},getStartTimeStamp:function(){return this.get("fromTime")},getEndTimeStamp:function(){var a=this.get("time");return a},getStartTime:function(a,b,d){var e=this.get("ALL"==this.get("timeWindow")?"min":"fromTime");return a?c.formattedDate(e,b)+" "+c.timeZoneFromTime(e):"DAY"===d?c.formattedDateOnly(e,b,!0):c.formattedDate(e,b)},getEndTime:function(a,b,d){var e=this.get("time");return a?c.formattedDate(e,b)+" "+c.timeZoneFromTime(e):"DAY"===d?c.formattedDateOnly(e,b):c.formattedDate(e,b)},formattedCustomDate:function(a,b,d){return b=1*b,a?c.formattedDate(b,d)+" "+c.timeZoneFromTime(b):c.formattedDate(b,d)},getStartTimeForComparisonPeriod:function(a){var b=this.get("fromTime"),d=new Date(b);if("YESTERDAY"===a)d.setDate(d.getDate()-1);else if("WEEK_AGO"===a)d.setDate(d.getDate()-7);else{var e=a.split("-"),f=new Date(1*e[0],1*e[1]-1,1*e[2]);f.setHours(d.getHours()),f.setMinutes(d.getMinutes()),f.setSeconds(d.getSeconds()),d=f}return b=d&&d.getTime()||b,c.formattedDate(b,!0)+" "+c.timeZoneFromTime(b)},getEndTimeForComparisonPeriod:function(a){var b=this.get("time"),d=new Date(b);if("YESTERDAY"===a)d.setDate(d.getDate()-1);else if("WEEK_AGO"===a)d.setDate(d.getDate()-7);else{var e=a.split("-"),f=new Date(1*e[0],1*e[1]-1,1*e[2]);f.setHours(d.getHours()),f.setMinutes(d.getMinutes()),f.setSeconds(d.getSeconds()),d=f}return b=d&&d.getTime()||b,c.formattedDate(b,!0)+" "+c.timeZoneFromTime(b)},getStartTimeForTimeWindowScaleAndComparisonPeriod:function(a,b){var d=this.get("fromTime"),e=new Date(d);if("YESTERDAY"===b)e.setDate(e.getDate()-1);
else if("WEEK_AGO"===b)e.setDate(e.getDate()-7);else{var f=b.split("-"),g=new Date(1*f[0],1*f[1]-1,1*f[2]);g.setHours(e.getHours()),g.setMinutes(e.getMinutes()),g.setSeconds(e.getSeconds()),e=g}return"HOUR"===a?(e.setMinutes(0),e.setSeconds(0)):"DAY"===a&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0)),d=e&&e.getTime()||d,c.formattedDate(d,!0)+" "+c.timeZoneFromTime(d)},getEndTimeForTimeWindowScaleAndComparisonPeriod:function(a,b){var d=this.get("time"),e=new Date(d);if("YESTERDAY"===b)e.setDate(e.getDate()-1);else if("WEEK_AGO"===b)e.setDate(e.getDate()-7);else{var f=b.split("-"),g=new Date(1*f[0],1*f[1]-1,1*f[2]);g.setHours(e.getHours()),g.setMinutes(e.getMinutes()),g.setSeconds(e.getSeconds()),e=g}return"HOUR"===a?(e.setMinutes(59),e.setSeconds(59)):"DAY"===a&&(e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(59),e.setSeconds(59),e.setHours(-1)),d=e&&e.getTime()||d,c.formattedDate(d,!0)+" "+c.timeZoneFromTime(d)}}),b.Models.Datum=b.MVC.Model.extend({idAttribute:"group"});var g={"Descending Value":"valueDescending","Ascending Value":"valueAscending",Alphabetical:"alphabetical","Reverse Alphabetical":"reverseAlphabetical"},h={valueDescending:"Descending Value",valueAscending:"Ascending Value",alphabetical:"Alphabetical",reverseAlphabetical:"Reverse Alphabetical"},i=b.Models.Filter,j=b.Collections.Filters;b.Models.State=b.MVC.Model.extend({defaults:{groupBy:null,timeWindowScale:"ROLLING_HOUR",comparison:!1,comparisonPeriod:"YESTERDAY",sort:{dir:"DESC",name:"count"},limit:1e3,clientSort:"valueDescending"},initialize:function(a,c){c||(c={});var d,h=this,i=this.defaults,k={},l=(c.config,c.config&&c.config.get("source")),m=l.variables,n=l.filters||[],o=l.minSpeed?l.minSpeed:1,p=o>1?o:1,q=l.startFrom;switch(this.options=this.options||{},c.config&&(this.config=c.config,delete c.config),c.objectFields&&(this.options.fields=c.objectFields.toJSON(),delete c.objectFields),"BEGINNING"===q&&(d=this.options.fields.filter(function(a){return a.name===l.date})[0],d&&(q=d.min,"ROLLING_HOUR"===l.timeWindowScale&&(q+=36e5))),this.metrics=new e(this._retrieveMetrics()),o){case 86400:i.timeWindowScale="WEEK";break;case 3600:i.timeWindowScale="DAY";break;default:i.timeWindowScale="ROLLING_HOUR"}this.time=new b.Models.Time({time:q,speed:p,minSpeed:o,timeWindow:l.timeWindowScale}),this.on("change:timeWindowScale",function(a,b){h.time.set("timeWindow",b)}),k.limit=m.Limit,k.sort=this.metrics.size()>0?"Bottom"==m["Limit Results by Rank"]?{name:this.metrics.at(0).get("name")||"count",dir:"asc"}:{name:this.metrics.at(0).get("name")||"count",dir:"desc"}:{name:"count",dir:"desc"},this.queryBuilderSource=l.variables.queryBuilderSource,this.filters=new j(n),this.groupBy=new f(this._retrieveGroupBy(),this._retrieveGroupByDefinition()),this.isTimeTrends()&&this._setupTrend(l),k.timeTrendStep=l.timeTrendStep,k.timeWindowScale=l.timeWindowScale||i.timeWindowScale,k.comparison="On"===m.Comparison,k.comparisonPeriod=m._comparisonPeriod||l.comparisonPeriod||this._getDefaultComparison(),k.sort=k.sort||i.sort,k.clientSort=g[m.Sort]||i.clientSort,k.delay=l.delay,k.delayUnit=l.delayUnit,k.timestampField=l.date,this.set(k)},_getDefaultComparison:function(){var a="YESTERDAY";if(!this.time.get("live")){var b=new Date(this.time.get("time")),c=b.getFullYear().toString(),d=(b.getMonth()+1).toString(),e=b.getDate().toString();a=c+"-"+(d[1]?d:"0"+d[0])+"-"+(e[1]?e:"0"+e[0])}return a},_setupTrend:function(a){var c=this.config.get("source").variables._limitPeriod,d=this.config.get("source").startFrom?new Date(this.config.get("source").startFrom):null,e=c?!0:!1,f=_.findWhere(this.options.fields,{name:this.groupBy.getAttribute()}),g=f.timestampGranularity,h="DAY"===g,i=new Date(f.min),j=new Date(f.max),k=60,l=a.timeTrendStep||null,m=b.Utilities.time.getMaxStepLimit();if(null!==l)return void this.groupBy.setLimit(e?c:k,{silent:!0});this.unset("timeWindowScale"),g="NONE"===g||"SECOND"===g?!1:g;var n=b.Utilities.time.getRoundedDateRange(i,j,!1,0,h);l="YEAR"===n.step&&n.amount<=2?"MONTH":n.step||l;var o=b.Utilities.time.getRoundedDateRange(i,j,g||l,0,h);if(o.amount<5&&!l&&(o.step=b.Utilities.time.getLowerStep(o.step),o=b.Utilities.time.getRoundedDateRange(i,j,o.step,1,h)),o.amount=o.amount>m?m:o.amount,k=o.amount,g&&l!==g){var p=b.Utilities.time.getMaxStep(l,g,h);p===l&&(k=b.Utilities.time.getRoundedDateRange(i,j,l,1,h).amount,"MONTH"===l&&k++)}if(i.getTime()-j.getTime()===0){var q=b.Utilities.time.millisecondsIn[l.toLowerCase()],r=i.getTime()+q;k=1,j.setTime(r)}else{var s=j.getTime();s%1e5===99999&&"DAY"===l?s+=1:s=s%1e3===0?s+1:s,j.setTime(s)}this.time.set({time:e&&d&&d.getTime()||j.getTime()},{silent:!0}),a.timeTrendStep=l,this.groupBy.setLimit(e?c:k,{silent:!0}),this.customStep=l},_retrieveGroupByDefinition:function(){var a=this._retrieveGroup(),b=this._retrieveGroups();return{definition:b||a}},_retrieveGroupBy:function(){var a=this,b=this.config,c=[],d="",e=b&&b.get("source"),f=e.variables,g=a._retrieveGroup(),h=a._retrieveGroups();if(h)if(f&&f[h.name])c=JSON.parse(f[h.name]);else if(d=h.defaultValue,d&&""!==d)c=[JSON.parse(h.defaultValue)];else{var i=JSON.parse(h.config).groupLevel||2;c=a._getDefaultGroups(i)}else g&&(f&&f[g.name]?c=[JSON.parse(f[g.name])]:(d=g.defaultValue,c=d&&""!==d?[JSON.parse(g.defaultValue)]:a._getDefaultGroup()));return this.isTimeTrends()&&(c=[{name:e.date||"_ts",limit:10,sort:{name:"date",dir:"Ascending Value"}}]),("ZOOMABLE_MAP"===b.get("type")||"ZOOMABLE_MAP"===b.get("templateType"))&&(c=[{name:f.State,limit:1e4,sort:{name:"count",dir:"Descending Value"}}]),c},_getDefaultGroup:function(){var a,b,c="ATTRIBUTE",d={name:"",limit:10,sort:{name:"count",dir:"Descending Value"}};return a=this.options.fields,b=_.findWhere(a,{type:c}),d.name=b?b.name:"none",d},_getDefaultGroups:function(a){var b,c="ATTRIBUTE",d=[];b=this.options.fields;for(var e=0;e<b.length;e++){var f=b[e];if(f.type===c){var g={name:f.name,limit:10,sort:{name:"count",dir:"Descending Value"}};if(d.push(g),d.length>=a)break}}return d},_retrieveGroup:function(){var a=this.config.get("variables"),b=_.findWhere(a,{type:"group"});return b||(b=!1),b},_retrieveGroups:function(){var a=this.config.get("variables"),b=_.findWhere(a,{type:"multi-group"});return b||(b=!1),b},_retrieveMetrics:function(){function a(a){var b=a.name,c=e[b]||"none",g=c.split(":"),h=g[0],i=d.filter(function(a){return a.name===h})[0],j=g[1]||i.func||("count"!==h&&"none"!=h?"sum":null),k={};g[2]&&(k=JSON.parse(g[2].replace(/\|/g,":")),$.extend(a,k)),f.push($.extend(k,{label:b,name:h,func:j,id:b}))}function b(b){var c=b.name,g=e[c].split(" ");"color"===b.metricType?a(b):g.forEach(function(a){var b=a.split(":")[0],e=d.filter(function(a){return a.name===b})[0],g=a.split(":")[1]||e.func;f.push({label:c,name:b,func:g,id:c+"-"+f.length})})}var c=this.config.get("variables"),d=this.options.fields||[],e=this.config.get("source").variables,f=[];return c.forEach(function(c){"metric"==c.type?a(c):"multi-metric"==c.type?b(c):null}),f},addFilter:function(a,b){var c,d,e,f,g=this.filters;if(b=b||{},Array.isArray(a))return this.filters.add(a,_.extend({merge:!0},b)),this;if(a instanceof i?null:a=new i(a),d=a.get("path"),f=a.get("operation"),e=a.get("value"),c=g.findWhere({path:d})){var h=!1;b.silent=!0,"number"==typeof e||"number"==typeof c.get("value")||"number"==typeof e[0]?(c.set("value",e,b),h=!0):(_.each(e,function(a){c.hasAttribute(a,b)||(h=!0,c.addAttribute(a,b))}),_.each(c.get("value"),function(d){a.hasAttribute(d,b)||c.removeAttribute(d,b)})),c.get("operation")!==f&&c.set("operation",f,optionsd),h&&c.trigger("change")}else this.filters.add(a,b);return this},addFilters:function(a){var b=this;a=_.sortBy(a,function(a){return b.filters.findWhere({path:a.path})}),a.forEach(function(c,d){b.addFilter(c,{silent:d!==a.length-1})})},removeFilter:function(a,b){function c(a){var c,e,f,g=d.filters;return a instanceof i?null:a=new i(a),e=a.get("path"),f=a.get("value"),c=g.findWhere({path:e}),c&&1===f.length&&c.hasAttribute(f[0],b)?(c.removeAttribute(f[0],b),d):"undefined"==typeof f[0]||f.length>1?(d.filters.remove(c),d):void 0}var d=this;if($.isArray(a))for(var e=0;e<a.length;e++)c(a[e]);else c(a);return this},setFilter:function(a,b){var c,d,e=this.filters;a instanceof i?null:a=new i(a),d=a.get("path"),c=e.findWhere({path:d}),c?c.set(a.attributes,b):this.addFilter(a,b)},toRequest:function(){var a=this.time.get("live"),b=this.config.get("source"),c=this.queryBuilderSource||b.variables.queryBuilderSource,d=b.variables._limitPeriod;d&&(b.variables._TempLimitPeriod=d,delete b.variables._limitPeriod);var e=$.extend({},this.attributes),f=(this.config.get("source").startFrom,this.get("timestampField")),g=(this.get("timeWindowScale"),{});e.time=!f||a?null:this.time.get("time"),e.tz=86400==this.time.get("minSpeed")||"DAY"===b.dataResolution?"GMT":this.time.get("tz"),e.speed=this.time.get("speed"),g.pauseAfterRead=this.time.get("paused");var h="count",i="desc";this.get("sort")&&(delete e.sort,g=g||{},this.metrics.size()>0&&(h=this.metrics.at(0).get("name")),i=this.get("sort").dir,g.sort={name:h,dir:i}),this.groupBy&&(delete e.groupBy,g=g||{},g.group={},g.group.limit=1,g.group.fields=this.groupBy.toJSON(),g.group.fields.forEach(function(a){g.group.limit=g.group.limit*+a.limit;var b=_.clone(a.sort);b.name="count"===b.name?h:b.name,a.sort=b}),1===g.group.fields.length&&g.group.limit&&delete g.group.limit,g.group.metrics=g.group.metrics||[],this.metrics.each(function(a){a.isCount()||a.isNone()||g.group.metrics.push({name:a.get("name"),func:a.get("func").toUpperCase()})}),this.get("timeTrendStep")&&(delete e.timeTrendStep,g.group.timeTrendStep=this.get("timeTrendStep"))),this.filters.length>0&&(delete g.filters,g=g||{},g.filters=this.filters.toRequest()),this.get("sort")&&(delete e.sort,delete g.sort),c&&(g=g||{},g.queryBuilderSource=c);var j=this.get("comparisonPeriod");return e.comparisonPeriod=this.dataToFormatString(this.getTimeByType(e.time,j)),g&&(e.cfg=g),e.volume?delete e.volume:null,e.color?delete e.color:null,e.timestampField=f,e},getTimeByType:function(a,b){var c=b,d=a&&a<=new Date?new Date(a):new Date,e=new Date(d);e.setDate(d.getDate()-1);var f=new Date(d);f.setDate(d.getDate()-7);var g=new Date(d);g.setDate(d.getDate()-30);var h=new Date(d);h.setDate(d.getDate()-365);var i=new Date(d);switch(i.setDate(d.getDate()-365),b){case"YESTERDAY":c=e;break;case"WEEK_AGO":c=f;break;case"LAST_MONTH":c=g;break;case"MONTH_YEAR_AGO":c=h;break;case"LAST_YEAR":c=i}return c},dataToFormatString:function(a){var b="";return b=a.getFullYear?a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate():a},isSingleGroupBy:function(){var a=!0,b=this.groupBy;return b.length>1&&(a=!1),a},convertToBookmark:function(){var a=this,b=this.config.get("source"),c=this.metrics.pluck("label"),d=$.extend({},b,{filters:this.filters.toJSON(),timeWindowScale:this.get("timeWindowScale"),timeTrendStep:this.get("timeTrendStep"),startFrom:this.time.getEndTime(),sourceId:b.sourceId,sourceName:b.sourceName});if(d.variables=d.variables||{},d.variables.Sort=h[this.attributes.clientSort],d.variables.Comparison=this.get("comparison")?"On":"Off",d.variables._comparisonPeriod=this.get("comparisonPeriod"),this.isSingleGroupBy()){var e="",f=null,g=_.findWhere(a.config.get("variables"),{type:"group"});g&&(e=g.name,f=this.groupBy.at(0),d.variables[e]=JSON.stringify(f.toJSON()))}else{var e="",f=null,g=_.findWhere(a.config.get("variables"),{type:"multi-group"});g&&(e=g.name,f=this.groupBy,d.variables[e]=JSON.stringify(f.toJSON()))}return c.forEach(function(a){d.variables[a]=""}),this.metrics.map(function(b){var c,e,f=b.get("label"),g=b.get("name"),h=b.get("func");d.variables.hasOwnProperty(f)?d.variables[f]+=(d.variables[f].length>0?" ":"")+("count"==g?g:g+":"+h):null,a.colorMetric&&a.colorMetric.id===b.id&&(1===d.variables[f].split(":").length&&(d.variables[f]+=":"),c=a.colorMetric.get("colors")||a.colorMetric.get("savedColors"),"string"!=typeof c&&(c=JSON.stringify(c)),"distinct"===a.divergingColorRange&&(e=a.colorMetricDomain),d.variables[f]+=":"+JSON.stringify({colorNumb:a.colorNumb,legendType:a.legendType,divergingColorRange:a.divergingColorRange,autoShowColorLegend:a.colorMetric.get("autoShowColorLegend"),savedColors:c,domain:e}).replace(/:/g,"|"))}),d},isTimeTrends:function(){return"TRENDS"===this.config.get("type")||"MULTI_METRIC_TREND"===this.config.get("type")||"TRENDS"===this.config.get("templateType")||"MULTI_METRIC_TREND"===this.config.get("templateType")}})}(window,Zoomdata),function(a,b){"use strict";b.Utilities,b.Collections=b.Collections||{},b.Collections.Graph=Backbone.Collection.extend({model:b.Models.Datum,metric:null,initialize:function(a,b){_.bindAll(this,"setSortOrder"),this.metric=b.metric},setSortOrder:function(a){this.comparator="valueAscending"===a?function(a){return this.metric.raw(a.attributes)}:"valueDescending"===a?function(a){return-this.metric.raw(a.attributes)}:"alphabetical"===a?function(a){return a.get("group")}:"reverseAlphabetical"===a?function(a,b){return a.get("group")>b.get("group")?-1:a.get("group")<b.get("group")?1:0}:"date"===a?function(a){return 1*a.get("group")}:null,this.comparator&&this.sort()}})}(window,Zoomdata),function(a,b){"use strict";var c={},d=b.Utilities;c.Slider=b.MVC.View.extend({defaults:{orientation:"vertical",range:!1,value:50,min:0,max:100},initialize:function(a){var c=this,d={start:function(a,b){c.trigger("slide:start",b.value,c),c.data.set("value",b.value,{silent:!0})},stop:function(a,b){c.trigger("slide:stop",b.value,c),c.data.set("value",b.value,{silent:!0})},change:function(a,b){c.trigger("slide:change",b.value,c),c.data.set("value",b.value,{silent:!0})}};this.options=$.extend({},this.defaults,a),this.data=new b.MVC.Model({min:this.options.min,max:this.options.max,value:this.options.value}),this.$el.slider($.extend({},d,this.options)),this.listenTo(this.data,"change",this.render)},render:function(){return this.$el.slider(this.data.attributes),this},value:function(a){function b(){return d.data.get("value")}function c(a){d.data.set("value",a)}var d=this;return"number"==typeof a?(c(a),this):b()},min:function(a){function b(){return d.data.get("min")}function c(a){d.data.set("min",a)}var d=this;return"number"==typeof a?(c(a),this):b()},max:function(a){function b(){return d.data.get("max")}function c(a){d.data.set("max",a)}var d=this;return"number"==typeof a?(c(a),this):b()}});var e=_.template('            <button class="arrow-left btn" title="left" value="left"><i class="icon-arrow-left"></i></button>            <button class="arrow-right btn" title="right" value="right"><i class="icon-arrow-right"></i></button>        '),f=_.template('            <div class="btn-group-vertical">                <button class="arrow-up btn" title="up" value="up"><i class="icon-arrow-up"></i></button>                <button class="arrow-down btn" title="down" value="down"><i class="icon-arrow-down"></i></button>            </div>        '),g=_.template('            <button class="arrow-left btn" title="left" value="left"><i class="icon-arrow-left"></i></button>            <div class="btn-group-vertical">                <button class="arrow-up btn" title="up" value="up"><i class="icon-arrow-up"></i></button>                <button class="arrow-down btn" title="down" value="down"><i class="icon-arrow-down"></i></button>            </div>            <button class="arrow-right btn" title="right" value="right"><i class="icon-arrow-right"></i></button>        ');c.Arrows=b.MVC.View.extend({_horizontalTemplate:e,_verticalTemplate:f,_allTemplate:g,defaults:{direction:"all"},events:{'click button[value="up"]':"_onUpClick",'click button[value="down"]':"_onDownClick",'click button[value="left"]':"_onLeftClick",'click button[value="right"]':"_onRightClick"},initialize:function(a){switch(this.childViews=[],this.options=$.extend({},this.defaults,a),this.options.direction){case"vertical":this.template=this._verticalTemplate;break;case"horizontal":this.template=this._horizontalTemplate;break;case"all":default:this.template=this._allTemplate}},render:function(){return this.$el.html(this.template()),this},_onUpClick:function(){this.trigger("translate:up")},_onDownClick:function(){this.trigger("translate:down")},_onLeftClick:function(){this.trigger("translate:left")},_onRightClick:function(){this.trigger("translate:right")}}),c.Zoomable=b.MVC.View.extend({className:"zoomable",defaults:{snapToEdges:!0,maxScale:!1,minScale:!1,eventNamespace:"zoomable:",mouseWheel:!1},initialize:function(a){var c=this;this._enabled=!0,this.childViews=[],this.options=$.extend({},this.defaults,a),this.$content=$('<div class="zoomable-content"></div>').appendTo(this.$el),b.Utilities.MODE.NATIVE!==b.Utilities.mode()&&(this._zoomHammer=this.$content.zoomHammer(this.options).data("zoomHammer"),this.$el.on("zoomable:transformstart",function(){c.trigger("transform:start",c)}),this.$el.on("zoomable:transformend",function(){c.trigger("transform:end",c)}),this.$el.on("zoomable:transform",function(){c.trigger("transform:transition",c)}))},disable:function(a){var b=a?a.resizeStart:null;this._zoomHammer&&this._zoomHammer.disable(),this.$el.hasClass("zoomable-disabled")||b?null:this.$el.addClass("zoomable-disabled"),this._enabled=!1},enable:function(a){var b=a?a.resizeStop:null;this._zoomHammer&&this._zoomHammer.enable(),this.$el.hasClass("zoomable-disabled")&&!b?this.$el.removeClass("zoomable-disabled"):null,this._enabled=!0},isEnabled:function(){return this._enabled},getMinScale:function(){return this._zoomHammer&&this._zoomHammer.parsedScale().min||1},setMinScale:function(a){return a||(a=this._zoomHammer.options.minScale),this._zoomHammer.options.minScale=a,this},getMaxScale:function(){return this._zoomHammer&&this._zoomHammer.parsedScale().max||1},setMaxScale:function(a){return a||(a=this._zoomHammer.options.maxScale),this._zoomHammer.options.maxScale=a,this},getScale:function(){return this._zoomHammer&&this._zoomHammer.scale()||1},getTranslation:function(){return this._zoomHammer&&this._zoomHammer.translate()||null},zoom:function(a,b,c){return this._zoomHammer&&this._zoomHammer.move({scale:a},b,c),this},translate:function(a,b){return a=a||{},"number"==typeof a.x?a.left=a.x:null,"number"==typeof a.y?a.top=a.y:null,delete a.x,delete a.y,this._zoomHammer&&this._zoomHammer.move(a,b),this},refresh:function(a,b){this._zoomHammer&&this._zoomHammer.adjust(a,b)},render:function(a){return this.$content.html(a),this}});var h=_.template('        <div class="modal hide fade <%= customClass %>" >            <div class="modal-header">                <button title="Close" value="dialog-reject" class="close">&times;</button>                <h3 class="dialog-head pull-left"></h3>                <div class="clearfix"></div>            </div>            <div class="modal-body dialog-body">            </div>            <div class="modal-footer dialog-controls">                <button title="<%= rejectButtonTitle %>" value="dialog-reject" class="btn btnNo" aria-hidden="true"><%= rejectButtonLabel %></button>                <button title="<%= acceptButtonTitle %>" value="dialog-accept" class="btn btn-primary btnYes"><%= acceptButtonLabel %></button>            </div>        </div>    ');c.Dialog=b.MVC.View.extend({template:h,defaults:{mode:"dialog",draggable:!1,wide:!1,modal:"static",rejectButtonLabel:"Close",acceptButtonLabel:"Accept",rejectButtonTitle:"Close",acceptButtonTitle:"Accept",containment:"body",docked:!0,customClass:""},events:{'click button[value="dialog-reject"]':"hide",'click button[value="dialog-accept"]':"accept",'click button[value="dialog-back"]':"back"},initialize:function(a){b.MVC.View.prototype.initialize.apply(this,arguments),_.bindAll(this,"back");var c=this;switch(a=a||{},a.actions&&(this.actions=a.actions,delete a.actions),a.template&&(this.template=a.template,delete a.template),this.settings=$.extend({},this.defaults,a),this.removeOtherDocked(),$(".modal-backdrop.zd-overlay").remove(),this.setElement(this.template({rejectButtonLabel:this.settings.rejectButtonLabel,acceptButtonLabel:this.settings.acceptButtonLabel,rejectButtonTitle:this.settings.rejectButtonTitle,acceptButtonTitle:this.settings.acceptButtonTitle,customClass:this.settings.customClass})),this.$el.appendTo("body"),this.$el.modal({show:!1,backdrop:this.settings.modal,keyboard:!1}),this.settings.mode){case"palette":this.$(".dialog-controls").hide();break;case"alert":this.$('button[value="dialog-accept"]').hide()}this.$head=this.$(".dialog-head"),this.$body=this.$(".dialog-body"),this.$actions=$('<div class="zd-dialog-actions btn-group btn-block"></div>'),this.setActions(a.actions),this.settings.draggable&&this.$el.draggable({handle:this.$(".dialog-head, .header"),start:function(){c.$el.removeClass("fade"),"function"==typeof c.settings.draggable.onDragStart&&c.settings.draggable.onDragStart.apply(this,arguments)},stop:function(){c.$el.addClass("fade"),"function"==typeof c.settings.draggable.onDragStop&&c.settings.draggable.onDragStop.apply(this,arguments)},cursor:"move",containment:this.settings.containment}),this.settings.wide&&this.goWide(),this.$el.one("hidden",function(){c.trigger("dialog:rejected"),c.remove(),c.onReject(),c.onHide()}),this.listenTo(b.eventDispatcher,"visualization:add",function(){this.hide()}),this.listenTo(b.eventDispatcher,"admin-control:clicked",this.removeOtherDocked)},removeOtherDocked:function(){var a=$(".modal.zd-palette.docked"),b=$(".modal.zd-infopopup.docked");$(".control-rounded").removeClass("active"),$(".control-button").removeClass("active"),$(".header-control").removeClass("active"),a.remove(),b.remove()},setActions:function(a){var b=this;return a?this.actions=a:a=this.actions,this.$actions.empty(),_.each(this.actions,function(a){var c=$(j({type:a.type,label:a.label,title:a.title||a.label}));b.$actions.append(c),c.on("click",a.callback),c.css({width:100/b.actions.length+"%"})}),this},clearActions:function(){return this.actions=null,this.$actions.empty(),this},render:function(a,c){return this.$el.attr("data-name",c),this.$body.empty(),this.$head.empty(),this.$body.append(a),void 0!==c?(this.$head.append(c),this.$head.show()):this.$head.hide(),this.$el.modal("show"),this._onFullScreenMode()&&(this.zIndex=this.zIndex||this.$el.zIndex(),this.$el.zIndex(this.zIndex+10),this.listenToOnce(b.eventDispatcher,"widget:fullOff",this.hide)),this.$el.find('button[value="dialog-back"]').on("click",this.back),this.actions&&0==this.$(this.$actions).length?this.$body.after(this.$actions):null,this.delegateEvents(),b.eventDispatcher.trigger("dialog:show"),this},goWide:function(){return this.$el.hasClass("wide")?null:this.$el.addClass("wide"),this.resetSizes(),this},goNormal:function(){return this.$el.hasClass("wide")?this.$el.removeClass("wide"):null,this.resetSizes(),this},resetSizes:function(){return this.$el.css({width:"",height:""}),this.$body.css({width:"",height:""}),this.adjustBodySizes(),this},adjustBodySizes:function(){var a=this.$el,b=$(this.settings.containment),c=b.offset(),d=this.$el.offset(),e=d,f={};d.left+=44,d.top+=44,e.left=d.left-c.left,e.top=d.top-c.top,e.right=b.width()-e.left-a.width(),e.bottom=b.height()-e.top-a.height(),e.left<0?(f.maxWidth+=e.left,f.marginLeft=parseInt(this.$el.css("margin-left"))-e.left):null,e.right<0?(f.maxWidth+=e.right,f.marginRight=parseInt(this.$el.css("margin-right"))-e.right):null,f.maxHeight=b.height()-e.top-d,this.$el.css(f),this.$body.css({maxHeight:f.maxHeight})},position:function(a){var b=this.$el.data().modal;return a=a||{},b&&b.$element.css({left:a.left||"auto",top:a.top||"auto",right:a.right||"auto",bottom:a.bottom||"auto"}),(a.of||a.my||a.at||a.collision)&&(this.$el.position({of:a.of,my:a.my,at:a.at,collision:a.collision,within:$(this.settings.containment),using:a.using}),this.adjustBodySizes()),this},positionInToolbar:function(a){this.position({of:a,my:"right+40px bottom-20px",at:"center top",collision:"flip flip"});var b=this.$el,c=($(this.settings.containment),a.getBoundingClientRect()),d=document.body.offsetWidth,e=(document.body.offsetHeight,d-(c.width+c.left)),f=c.left,g={left:0,top:c.top,width:0,height:0},h=(parseInt(b.css("maxWidth"),10),{left:10,top:-35});g.width=f>e?f-120:e-40,g.left=c.width+c.left-40,b.css({margin:0,left:g.left+"px",top:g.top+50+"px",width:g.width+"px"}),this.$pointer.css({left:h.left+"px","-webkit-transform":"scale(1, -1)","-moz-transform":"scale(1, -1)","-ms-transform":"scale(1, -1)"})},onBeforeHide:$.noop,hide:function(){if(this.onBeforeHide()!==!1){var a=this;this.$el.hasClass("rail-control")?this.$el.animate({left:-1*this.$el.width()},300,function(){a.$el.modal("hide")}):this.$el.fadeOut(200,function(){a.$el.modal("hide")})}},onReject:$.noop,onBeforeAccept:$.noop,accept:function(){var a=this;this.onBeforeAccept()!==!1&&(this.$el.off("hidden"),this.$el.one("hidden",function(){a.trigger("dialog:accepted"),a.remove(),a.onAccept(),a.onHide()}),this.$el.modal("hide"))},back:function(){this.onBack()},_onFullScreenMode:function(){return $(".fullScreenView").is(":visible")},onAccept:$.noop,onHide:$.noop,onBack:$.noop});var i=_.template('        <div class="modal hide zd-palette <%= customClass %>">            <div class="modal-header zd-palette-titlebar">                <button title="Close" value="dialog-reject" class="zd icon close" />                 <button title="" value="dialog-back" class="zd icon back" style="display:none;" />                 <div class="zd icon header"/>                 <h3 class="dialog-head zd-palette-header"></h3>                <div class="clearfix"></div>            </div>            <div class="modal-body dialog-body zd-palette-body">            </div>            <div class="zd-palette-background">            </div>            <div class="zd-palette-background small">            </div>        </div>    '),j=_.template('            <button title="<%=title%>" class="zd btn btn-<%=type%>"><%=label%></button>        ');c.Palette=c.Dialog.extend({template:i,events:{"mousedown .modal-header":"moveToFront",'click button[value="dialog-reject"]':"hide","click .zd-palette-background":"hideDocked","keypress input":"keyEnterPressed"},defaults:{template:h,mode:"palette",draggable:!0,docked:!1,modal:!0,containment:"body",minWidth:250,minHeight:100,defaultWidth:264},keyEnterPressed:function(a){b.Views.SearchBox.prototype.keyEnterPressed.apply(a,arguments)},initialize:function(a){b.MVC.View.prototype.initialize.apply(this,arguments);var d=this;a=a||{},_.bindAll(this,"showBackButton","hideBackButton"),c.Dialog.prototype.initialize.apply(this,arguments),this.$body.css({maxHeight:"none"}),$(this.settings.containment).length&&this.$body.css({height:$(this.settings.containment).height()-this.$el.offset().top-79}),this.$el.on("dragstop",function(){d.adjustBodySizes()}),this.options.draggable&&this.setDragEvents()},render:function(){return c.Dialog.prototype.render.apply(this,arguments),this.$el.resizable({containment:".zd-main",alsoResize:this.$body,minWidth:this.settings.minWidth,minHeight:this.settings.minHeight}).data().modal.$backdrop.addClass("zd-overlay"),this.isDocked()?null:this.undock(),this.actions?this.$body.append(this.$actions):null,this},setDragEvents:function(){var a=this,c={left:b.main.$section.find(".leftPane").width()+2,top:b.main.$header.height()};this.palettePosition=c,this.settings.draggable={onDragStart:function(){a.$el.removeClass("docked"),a.$el.addClass("undocked"),a.settings.docked=!1,a.$("div.zd-palette-background").remove()}}},isDocked:function(){return this.settings.docked},undock:function(){return this.$el.removeClass("docked"),this.$el.hasClass("undocked")?null:this.$el.addClass("undocked"),this.$("div.zd-palette-background").hide(),this.settings.docked=!1,this},dock:function(a){function b(){var a=!c.$("div.zd-palette-background").length>0;a&&(c.$el.css({width:c.settings.defaultWidth,height:$(c.settings.containment).height()}),c.$body.css({width:c.settings.defaultWidth-24,height:$(c.settings.containment).height()-c.$head.parent().height()-24}))}var c=this;return this.position(a),this.$el.removeClass("undocked"),this.$el.hasClass("docked")?null:this.$el.addClass("docked"),this.$("div.zd-palette-background").show(),this.settings.docked=!0,b(),this},hide:function(){this.$el.removeClass("active"),this.$el.removeClass("fade"),c.Dialog.prototype.hide.apply(this,arguments)},hideDocked:function(){this.settings.docked&&this.hide()},moveToFront:function(){this._onFullScreenMode()?($(".zd-palette").zIndex($(".leftPane").zIndex()-2),this.$el.zIndex($(".leftPane").zIndex()-1)):($(".zd-palette").zIndex(1018),this.$el.zIndex(1019))},showBackButton:function(){this.$('button[value="dialog-back"]').show()},hideBackButton:function(){this.$('button[value="dialog-back"]').hide()},remove:function(){this.clearActions(),b.Controls.Dialog.prototype.remove.apply(this,arguments)}});var k=_.template('        <div class="modal hide zd-infopopup <%= customClass %>" >            <div class="modal-header zd-infopopup-titlebar">                <button title="Close" value="dialog-reject" class="zd icon close" />                <button title="" value="dialog-back" class="zd icon back" style="display:none;" />                  <h3 class="dialog-head zd-infopopup-header"></h3>                <div class="clearfix"></div>            </div>            <div class="modal-body dialog-body zd-infopopup-body">            </div>            <div class="zd-infopopup-background">            </div>            <div class="zd-infopopup-background small">            </div>        </div>    ');c.InfoPopup=c.Dialog.extend({template:k,events:{"click .zd-infopopup-background":"hide","keypress input":"keyEnterPressed"},defaults:{autohide:!0,mode:"palette",draggable:!1,resizable:!1,modal:!1,containment:"body"},keyEnterPressed:function(a){c.Palette.prototype.keyEnterPressed.apply(a,arguments)},initialize:function(a){function d(){e._lastPostiton?e.position():null}var e=this;this.options=$.extend({},this.options,a),this._lastPostiton=null,this._repostionCallback=_.debounce(d,300),$.extend(this.events,c.Dialog.prototype.events),c.Dialog.prototype.initialize.apply(this,arguments),this.$pointer=$('<div class="zd-infopopup-pointer"><div class="zd-infopopup-pointer-arrow"></div> </div>'),$("body").one("dragstart",function(){e.hide()}),this.$el.on("dragstart",!1),$(window).on("resize",this._repostionCallback),(1==this.options.autohide||"string"==typeof this.options.autohide&&-1!==this.options.autohide.search("onStop"))&&this.listenTo(b.eventDispatcher,"visualization:stop",this.hide)},render:function(){return c.Dialog.prototype.render.apply(this,arguments),this.$(".zd-infopopup-background").show(),this.$el.addClass("docked"),this.$el.on("mousewheel","textarea",function(a,b,c,d){a.preventDefault();var e=$(this).scrollTop();$(this).scrollTop(e+d)}),this},position:function(a){function b(a,b){d.$el.css(a),d._showPointer(b)}var d=this;return a=a||this._lastPostiton||{},this._lastPostiton=a,a.using=a.using||b,c.Dialog.prototype.position.call(this,a)},_showPointer:function(a){var b=this.options.pointerWidth?this.options.pointerWidth:14,c=a.element,d=a.target,e={},f="behind",g=b+"px solid transparent",h=b+"px solid rgba(50, 50, 50, 0.9)",i=parseInt(this.$el.css("border-radius"));if(d.center={left:d.left+d.width/2,top:d.top+d.height/2},c.center={left:c.left+c.width/2,top:c.top+c.height/2},e.vertical=d.center.top-c.center.top,e.vertical=e.vertical<0?e.vertical+"px":"+"+e.vertical+"px",e.horizontal=d.center.left-c.center.left,e.horizontal=e.horizontal<0?e.horizontal+"px":"+"+e.horizontal+"px",c.left+c.width<=d.center.left&&(f+=" right"),c.left>=d.center.left&&(f+=" left"),c.top+c.height<=d.center.top&&(f+=" bottom"),c.top>=d.center.top&&(f+=" top"),f=f.split(" ").splice(1),1==f.length){switch(this.$pointer.appendTo(this.$el),f[0]){case"left":this.$pointer.css({"border-top":g,"border-bottom":g,"border-right":h}).position({my:"right center",at:"left center"+e.vertical,of:this.el}),0===d.width&&a.element.element.css({left:"+=20"});break;case"right":this.$pointer.css({"border-top":g,"border-bottom":g,"border-left":h}).position({my:"left center",at:"right center"+e.vertical,of:this.el}),0===d.width&&a.element.element.css({left:"-=20"});
break;case"top":this.$pointer.css({"border-top":h,"border-right":g,"border-left":g}).position({my:"center bottom",at:"center"+e.horizontal+" top",of:this.el});break;case"bottom":this.$pointer.css({"border-right":g,"border-top":h,"border-left":g}).position({my:"center top",at:"center"+e.horizontal+" bottom",of:this.el})}var j={};switch(j.top=parseInt(this.$pointer.css("top")),j.left=parseInt(this.$pointer.css("left")),j.offset=this.$pointer.offset(),f[0]){case"left":break;case"right":c.top+i>j.offset.top&&this.$pointer.css("top",j.top+i);break;case"top":break;case"bottom":c.left+i>j.offset.left&&this.$pointer.css("left",j.left+i)}}},remove:function(){$(window).off("resize",this._repostionCallback),c.Dialog.prototype.remove.apply(this,arguments)}});var l=_.template('        <div class="modal hide zd-smallpopup <%= customClass %>" >            <div class="modal-body dialog-body zd-smallpopup-body">            </div>            <div class="zd-smallpopup-background">            </div>            <div class="zd-smallpopup-background small">            </div>        </div>    ');c.SmallPopup=c.Dialog.extend({template:l,events:{"click .zd-smallpopup-background":"hide","keypress input":"keyEnterPressed"},defaults:{mode:"palette",draggable:!1,resizable:!1,modal:!1,containment:"body"},keyEnterPressed:function(a){c.Palette.prototype.keyEnterPressed.apply(a,arguments)},initialize:function(){function a(){d._lastPostiton?d.position():null}var d=this;this._lastPostiton=null,this._repostionCallback=_.debounce(a,300),$.extend(this.events,c.Dialog.prototype.events),c.Dialog.prototype.initialize.apply(this,arguments),this.$pointer=$('<div class="zd-smallpopup-pointer"><div class="zd-smallpopup-pointer-arrow"></div></div>'),$("body").one("dragstart",function(){d.hide()}),this.$el.on("dragstart",!1),$(window).on("resize",this._repostionCallback),this.listenTo(b.eventDispatcher,"visualization:stop",this.hide)},render:function(){return c.Dialog.prototype.render.apply(this,arguments),this.$(".zd-smallpopup-background").show(),this.$el.on("mousewheel","textarea",function(a,b,c,d){a.preventDefault();var e=$(this).scrollTop();$(this).scrollTop(e+d)}),this},position:function(a){function b(b,c){b.top-=a.pointerTop||0,d.$el.css(b),d._showPointer(c)}var d=this;return a=a||this._lastPostiton||{},this._lastPostiton=a,a.using=a.using||b,c.Dialog.prototype.position.call(this,a)},_showPointer:function(a){var b=a.element,c=a.target,d={},e="behind",f="10px solid transparent",g="10px solid rgb(230, 230, 230)";if(c.center={left:c.left+c.width/2,top:c.top+c.height/2},b.center={left:b.left+b.width/2,top:b.top+b.height/2},d.vertical=c.center.top-b.center.top,d.vertical=d.vertical<0?d.vertical+"px":"+"+d.vertical+"px",d.horizontal=c.center.left-b.center.left,d.horizontal=d.horizontal<0?d.horizontal+"px":"+"+d.horizontal+"px",b.left+b.width<c.center.left&&(e+=" right"),b.left>c.center.left&&(e+=" left"),b.top+b.height<c.center.top&&(e+=" bottom"),b.top>c.center.top&&(e+=" top"),e=e.split(" ").splice(1),1==e.length)switch(this.$pointer.appendTo(this.$el),e[0]){case"left":this.$pointer.css({"border-top":f,"border-bottom":f,"border-right":g}).position({my:"right center",at:"left center"+d.vertical,of:this.el});break;case"right":this.$pointer.css({"border-top":f,"border-bottom":f,"border-left":g}).position({my:"left center",at:"right center"+d.vertical,of:this.el});break;case"top":this.$pointer.css({"border-top":g,"border-right":f,"border-left":f}).position({my:"center bottom",at:"center"+d.horizontal+" top",of:this.el});break;case"bottom":this.$pointer.css({"border-right":f,"border-top":g,"border-left":f}).position({my:"center top",at:"center"+d.horizontal+" bottom",of:this.el})}},remove:function(){$(window).off("resize",this._repostionCallback),c.Dialog.prototype.remove.apply(this,arguments)},closeModal:function(){this.$el.fadeOut(300)}}),c.PalettePopup=c.InfoPopup.extend({initialize:function(){return b.MVC.View.prototype.initialize.apply(this,arguments),_.bindAll(this,"showBackButton","hideBackButton"),c.InfoPopup.prototype.initialize.apply(this,arguments),this.$el.on("dragstart",!1),this},render:function(){var a={top:12,bottom:66};return c.InfoPopup.prototype.render.apply(this,arguments),this.$el.addClass("zd-palettepopup"),this.settings.handlers&&this.showHandlers(),this.$body.css("max-height",this.options.containment.height()-a.top-a.bottom-(this.$el.outerHeight()-this.$body.height())),this},showHandlers:function(){var a=this;this.handlers=this.options.handlers,this.$footer=$('<div class="zd-infopopup-footer"></div>'),this.$el.append(this.$footer),_.each(this.handlers,function(b){var c=b.tagName||"button",d=$("<"+c+' class="">'+b.title+"</"+c+">");b.icon&&d.prepend('<i class="zd icon '+b.icon+'"></i>'),b.className&&d.addClass(b.className),d.click(function(){b.callback()}),a.$footer.append(d)})},showBackButton:function(){return b.Controls.Palette.prototype.showBackButton.apply(this,arguments),this},hideBackButton:function(){return b.Controls.Palette.prototype.hideBackButton.apply(this,arguments),this}}),c.DetailsPopup=c.Dialog.extend({template:k,events:{"click .zd-infopopup-background":"hide"},defaults:{mode:"palette",draggable:!1,resizable:!1,modal:!1,containment:"body"},initialize:function(){$.extend(this.events,c.Dialog.prototype.events),c.Dialog.prototype.initialize.apply(this,arguments)}});var m=_.template('        <div>             <div class="zd-side-pane">                <div class="zd-side-pane-header"/>                <button value="closeSidePane" class="close">&times;</button>                <div class="zd-side-pane-body"/>            </div>        </div>     '),n=_.template('        <div class="zd-modal sidepane">             <div class="zd-side-pane">                <div class="zd-side-pane-loading"/>                <div class="zd-side-pane-header"/>                <div class="zd-side-pane-body"/>            </div>        </div>     ');c.SidePane=b.MVC.View.extend({initialize:function(){function a(){var a=b.user||new b.Models.User;a.bootstrap().done(function(){var b=a.get("name");window.localStorage["sidePaneHasBeenClosedBy"+b]="true"}),c.$el.hide(),b.eventDispatcher.trigger("sidepane:manualhide")}b.MVC.View.prototype.initialize.apply(this,arguments),_.bindAll(this,"render","hide","show","close","getHeader","visible");var c=this;this.hasCloseButton=this.options.hasCloseButton,this.template=this.hasCloseButton?m:n,this.setElement(this.template()),this.$el.appendTo("body"),this.hide(),this.$loading=this.$(".zd-side-pane-loading"),this.$body=this.$(".zd-side-pane-body"),this.$header=this.$(".zd-side-pane-header"),this.$closeButton=this.$(".close"),this.hasCloseButton||(this.$(".zd-side-pane").on("click",function(a){a.stopPropagation()}),this.$el.on("click",a))},events:{"click .close":"hide"},render:function(a){return this.$body.empty(),this.$body.append(a),this.delegateEvents(),this},hide:function(){this.$el.hide()},show:function(){$(".zd-side-pane").parent("div").hide(),this.$el.show(),this.$el.find("input").blur()},close:function(){this.$el.remove()},getHeader:function(){return this.$header},visible:function(){return this.$el&&this.$el.is(":visible")}});var o=_.template('        <span><%= message %></span>        <i title="<%= acceptTitle%>" class="icon-ok icon-white"></i>        <i title="<%= cancelTitle%>" class="icon-remove icon-white"></i>    ');c.ConfirmMessage=b.MVC.View.extend({tagName:"span",className:"label label-warning pull-right confirmMessage",defaults:{template:o,message:"Warning",acceptTitle:"Accept",cancelTitle:"Cancel"},events:{"click .icon-ok":"accept","click .icon-remove":"cancel"},initialize:function(a){this.settings=$.extend({},this.defaults,a),this._deferred=$.Deferred(),this.result=this._deferred.promise()},accept:function(){var a=this;return this.$el.fadeOut(function(){a.remove(),a._deferred.resolve()}),!1},cancel:function(){var a=this;return this.$el.fadeOut(function(){a.remove(),a._deferred.reject()}),!1},render:function(){return this.$el.html(this.settings.template({message:this.settings.message,acceptTitle:this.settings.acceptTitle,cancelTitle:this.settings.cancelTitle})),this.$el.hide().fadeIn(),this.delegateEvents(),this}}),c.Notification=b.MVC.View.extend({defaults:{delay:3e3,type:"info"},events:{click:"remove"},initialize:function(a){a=a||{},a.template&&(this.template=a.template,delete a.template),this.options=$.extend({},this.defaults,a),this.$el.addClass("zd notification alert alert-"+this.options.type).appendTo("body").hide()},render:function(a){var b=this;return this.empty(),this.$el.append(a),"error"!=this.options.type?setTimeout(function(){b.remove()},this.options.delay):this.$el.append('<div class="closeError zd icon remove"></div>'),this.$el.slideDown(),this},remove:function(){var a=this,c=arguments;this.$el.slideUp(function(){b.MVC.View.prototype.remove.apply(a,c)})}}),c.Popover=function(){var a=b.MVC.View.extend({contentView:null,_data:!1,_container:!1,_stopHide:!1,_setEvents:!1,_setHeadEvents:!1,_buttons:{},_headTemplate:'<span style="overflow: hidden;display: block;"><%=name%></span>',_bodyTemplate:'<div class="span4" style="margin-left:0">                     <div class="row-fluid">                           <div class="popoverWindow" id="popowerWindow_1" style="min-height:<%=height%>px;">                        <div style="height: <%=height-40%>px; overflow: auto;">                         <% _.each(data, function(period) { %>                            <div class="span12 popoverSmallHeader">                                <%=period.name%>                             </div>                              <div class="span12 popoverDataInfo">                                Time Window                                 <div><%=period.time%></div>                             </div>                              <% _.each(period.values, function(val) { %>                                <div class="span12 popoverDataInfo">                                    <%=val.name%>                                     <div><%=val.value%></div>                                 </div>                              <%});%>                        <%});%>                        </div>                             <div class="span12 popoverFooter">                                <span></span>                                <div class="btn-group">                                    <button class="btn<% if (buttons.zoom == false) {%> dis<%}%>" data-type="zoom">Zoom In</button>                                    <button class="btn<% if (buttons.details == false) {%> dis<%}%>" data-type="details">Details</button>                                    <button class="btn<% if (buttons.trend == false) {%> dis<%}%>" data-type="trend" data-name="_ts">Trend</button>                                    <% if (buttons.twitter) {%><button class="btn" data-type="twitter" data-name="_ts">Twitter</button><%}%>                                </div>                            </div>                        </div>                        <div class="popoverWindow" id="popowerWindow_2" style="display:none;min-height:<%=height%>px;">                            <div style="height: <%=height%>px; overflow: auto;">                                 <% _.each(zoomInFields, function(val) { %>                                    <div class="span12 popoverDataInfo">                                        <div class="popoverZoomTo" data-name="<%=val.name%>"><%=val.label%></div>                                     </div>                                  <%});%>                            </div>                        </div>                                            </div>                </div>',initialize:function(a){return b.MVC.View.prototype.initialize.apply(this,arguments),_.bindAll(this,"render","buildPopoverHeader","buildPopoverBody","show","hide","setTemplate","data","stopHide"),a=$.extend({setEvents:!1,setHeadEvents:!1,body:!1,head:!1,container:$("body"),buttons:!1},a),this._buttons={zoom:!0,details:!1,trend:!1,twitter:!1},"function"==typeof a.setEvents&&(this._setEvents=a.setEvents),"function"==typeof a.setHeadEvents&&(this._setHeadEvents=a.setHeadEvents),a.body&&(this._bodyTemplate=a.body),a.buttons&&(this._buttons=$.extend(this._buttons,a.buttons)),a.head&&(this._headTemplate=a.head),a.container&&(this._container=a.container),$("#popoverElement").remove(),$("body").append($("<div>").attr("id","popoverElement").css({position:"absolute",width:1,height:1,display:"none","z-index":1010}).append("<div>")),this.render()},render:function(){var a=this;return $("#popoverElement>div").popover({html:!0,title:function(){return a.buildPopoverHeader()},content:function(){return a.buildPopoverBody()}}).on("show",function(){console.log("popover shown"),$(".zd-main-section").off("click").on("click",function(b){a.hide(b)}),b.eventDispatcher.trigger("freezeTime")}).on("hide",function(){console.log("popover hidden"),$(".zd-main-section").off("click"),b.eventDispatcher.trigger("unfreezeTime")}),b.eventDispatcher.trigger("rendered"),this.listenToOnce(b.eventDispatcher,"visualization:stop",function(){$("#popoverElement").remove()}),this},buildPopoverHeader:function(){var a=$(_.template(this._headTemplate,this._data));return"function"==typeof this._setHeadEvents&&this._setHeadEvents(a,this._data),a},buildPopoverBody:function(){this._data.buttons=this._buttons,this._data.height=Math.max(250,Math.min(500,$("body").height()/2));var a=$(_.template(this._bodyTemplate,this._data));return"function"==typeof this._setEvents&&this._setEvents(a,this._data),a},hideDelay:!1,show:function(a,c){var d=c.x,e=c.y;this._data=a;var f=this;$("#popContainer").attr("class",b.main.$section.width()<500?"span3":"span4"),$("#popoverElement .popoverFooter .btn-group").css("paddingLeft",b.main.$section.width()<500?"6%":"15%");var g=$("body").height(),h=null,i=null,j=null,k=0,l=0,m=b.Utilities.MODE.WIDGET!==b.Utilities.mode()&&g>=450?300:10,n=b.Utilities.MODE.WIDGET!==b.Utilities.mode()&&g>=450?50:10;l=Math.max(200,Math.min(Math.max(e,m),g-n)),h=$("#popoverElement"),h.css({top:l,left:d}).show().find("div").popover("show"),i=$("#popoverElement .popover"),j=$("#popoverElement .arrow"),d+1*i.width()>b.main.$section.width()+$("#popContainer").width()/2&&h.css("left",Math.max(10,d-i.width()-10)).find(".popover").removeClass("right").addClass("left");var o=$("#popoverElement>.popover").height();l+o/2>g-n&&(l=g-n-o/2,h.css("top",l)),k=e-(l+i.position().top);var p=o,q=2,r=j[0].offsetHeight;k=Math.min(p-r/2-q,k),k=Math.max(r/2+2*q,k),j.css("top",k),this.hideDelay=!0,setTimeout(function(){f.hideDelay=!1},200)},hide:function(a){return this._stopHide?void(this._stopHide=!1):void(void 0!==a&&($(a.target).parents(".popover").length||$(a.target).parent(".bar").length||this.hideDelay)||$("#popoverElement>div:first").popover("hide"))},setTemplate:function(a,b){void 0!==b&&b?this._headTemplate=a:this._bodyTemplate=a},data:function(){return this._data},stopHide:function(){this._stopHide=!0}});return a}(),c.TwittViewer=b.MVC.View.extend({contentView:null,_data:!1,_stopHide:!1,_setEvents:!1,_bodyTemplate:"<div></div>",initialize:function(a){return b.MVC.View.prototype.initialize.apply(this,arguments),a=$.extend({setEvents:!1,body:!1},a),"function"==typeof a.setEvents&&(this._setEvents=a.setEvents),a.body&&(this._bodyTemplate=a.body),$("#twittViewerElement").remove(),$("body").append($("<div>").attr("id","twittViewerElement").attr("class","modal hide fade").attr("tabindex","-1").attr("role","dialog").attr("aria-labelledby","myModalLabel").attr("aria-hidden","true")),this.render()},render:function(){return $("#twittViewerElement").html(this.buildTwittViewerBody()),$("#twittViewerElement").modal({show:!1}),this},buildTwittViewerBody:function(){console.log(this._data);var a=$(_.template(this._bodyTemplate,this._data)());return"function"==typeof this._setEvents&&this._setEvents(a,this._data),a},show:function(a){this._data=a,$("#twittViewerElement").modal("show")},hide:function(){$("#twittViewerElement").modal("hide"),b.eventDispatcher.trigger("twittViewerHide")},data:function(){return this._data}});var p=_.template('        <span class="zd-radial-item-label"><%=label%></span>    ');c.RadialMenu=b.MVC.View.extend({className:"zd-radial-menu",defaults:{template:p,arc:{start:-40,end:220,gap:4,radius:66,width:44,color:"rgba(0, 0, 0, 0.7)"},arcClosed:{radius:66,width:44,start:89,angle:2}},events:{},initialize:function(a){var c;return a=a||{},this.items=[],this.icons=[],this.closed=[],this.position={left:"50%",top:"50%"},b.MVC.View.prototype.initialize.apply(this,arguments),c={start:90,end:90,gap:0,radius:this.options.arc.radius,width:this.options.arc.width},this.start=$('<div class="zd-radial-start"></div>'),this._renderStart(c),this.end=$('<div class="zd-radial-end"></div>'),this._renderEnd(c),a.items&&(this.reset(a.items),delete this.options.items),this},render:function(a){var b=this;return a=a||{},this.empty(),""===a.group?this.$el.addClass("zd-empty-group"):this.$el.removeClass("zd-empty-group"),this.$el.append(this.start.show()),this.$el.append(this.end.show()),this.start.off("transitionend"),this.end.off("transitionend"),this.start.on("click",function(){b.items[0].arc.$donut.click()}).on("mouseenter",function(){b.items[0].arc.$donut.hasClass("active")?null:b.items[0].arc.$donut.addClass("active")}).on("mouseleave",function(){b.items[0].arc.$donut.hasClass("active")?b.items[0].arc.$donut.removeClass("active"):null}),this.end.on("click",function(){var a=b.items.length-1;b.items[a].arc.$donut.click()}).on("mouseenter",function(){var a=b.items.length-1;b.items[a].arc.$donut.hasClass("active")?null:b.items[a].arc.$donut.addClass("active")}).on("mouseleave",function(){var a=b.items.length-1;b.items[a].arc.$donut.hasClass("active")?b.items[a].arc.$donut.removeClass("active"):null}),requestAnimationFrame(function(){b._renderStart(),b._renderEnd()}),this.setPosition(a),this.renderItems(),this.renderIcons(),this},renderIcons:function(){var a=this;return _.each(this.icons,function(b,c){a.renderIcon(c)}),this},renderIcon:function(a){var b=this,c=this.icons;return 0>a||a>=c.length?this:(this.$el.children().has(c[a].$icon).length?null:this.$el.append(c[a].$icon),requestAnimationFrame(function(){c[a].$icon.css(a%2?{top:20,right:b.options.arc.radius,opacity:1}:{top:20,left:b.options.arc.radius,opacity:1})}),this)},setPosition:function(a){return this.position.left=a.left||this.position.left,this.position.top=a.top||this.position.top,this.$el.css({left:this.position.left,top:this.position.top}),this},renderItems:function(){var a=this;return this.items.length,_.each(this.items,function(b,c){a.renderItem(c)}),this},renderItem:function(a){var b=this.items;return this.isClosed(a)?this:0>a||a>=b.length?this:(this._renderArc(a),b[a].arc.$el.show(200),this)},reset:function(a){var b=this;return this.clear(),_.each(a,function(a){b.add(a)}),this},clear:function(){return this.clearItems(),this.clearIcons(),this},clearItems:function(){for(;0!==this.items.length;)this.removeItem(0);return this.closed=[],this},clearIcons:function(){for(;0!==this.icons.length;)this.removeIcon(0);return this},add:function(a){switch(a.type){case"icon":this.addIcon(a);break;case"arc":default:this.addItem(a)}return this},addIcon:function(a){var b=this;return a.$icon=$('<div class="zd-radial-icon" title="'+a.label+'"></div>'),a.$icon.append('<i class="zd-icon zd-icon-'+a.label.toLowerCase()+'"/>'),a.$icon.on("click",function(c){return"function"==typeof a.action?a.action.call(this,c,b.$el):null}),this.icons.push(a),this},addItem:function(a){var b=this,c=this.items,e=c[0],f=c[c.length-1];a.arc=new d.Arc(this.options.arcClosed),a.arc.$donut.on("click",function(c){return""!==a.group.group&&"function"==typeof a.action?a.action.call(this,c,b.$el):(""===a.group.group&&c.stopPropagation(),null)}),a.arc.$center.html(this.options.template(a)),f&&f.arc.$donut.off("mouseenter"),f&&f.arc.$donut.off("mouseleave"),a.arc.$donut.on("mouseenter",function(){b.end.hasClass("active")?null:b.end.addClass("active")}).on("mouseleave",function(){b.end.hasClass("active")?b.end.removeClass("active"):null}),e&&e.arc.$donut.on("mouseenter",function(){b.start.hasClass("active")?null:b.start.addClass("active")}).on("mouseleave",function(){b.start.hasClass("active")?b.start.removeClass("active"):null});var g=this.allOrUnFilterAll(a);return void 0!==a.disabled&&$.isFunction(a.disabled)&&a.disabled()===!0?this:(g!==a.name&&this.items.push(a),this)},allOrUnFilterAll:function(a){var c=b.main.currentSection.widgetGrid.childViews,d="un_filter_all";return("un_filter_all"===a.name||"filter_all"===a.name)&&_.each(c,function(b){if(b.controller.filtersIndicator){var c=b.controller.filtersIndicator.collection.models;_.each(c,function(b){b.get("value").indexOf(a.group.group)>=0?d="filter_all":null})}}),d},removeItem:function(a){var b=this.items[a];return this.isClosed(a)&&this.closed.splice(this.closed.indexOf(a),1),b.arc.$donut.off("click"),b.arc.$donut.off("mouseenter"),b.arc.$donut.off("mouseleave"),b.arc.remove(),this.items.splice(a,1),this},removeIcon:function(a){var b=this.icons[a];return b.$icon.off("click"),b.$icon.remove(),this.icons.splice(a,2),this},close:function(){var a=this,b={start:90,end:90,gap:0,radius:this.options.arc.radius,width:this.options.arc.width};return _.each(this.items,function(b,c){a.closeItem(c)}),_.each(this.icons,function(b,c){a.closeIcon(c)}),this.start&&(this._renderStart(b),this.start.one("transitionend",function(){a.start.hide(),a.empty()})),this.end&&(this._renderEnd(b),this.end.one("transitionend",function(){a.end.hide(),a.empty()})),this},open:function(){return this.closed=[],this.renderItems(),this.renderIcons(),this},closeItem:function(a){var b=this.items;return this.isClosed(a)?this:0>a||a>=b.length?this:(b[a].arc.set(this.options.arcClosed),b[a].arc.$el.fadeOut(200),this.closed.push(a),this)},closeIcon:function(a){var b=this.icons;return b[a].$icon.css({width:0,height:0,opacity:0}),this},openItem:function(a){var b=this.items;return this.isClosed(a)?0>a||a>=b.length?this:(this.closed.splice(this.closed.indexOf(a),1),this.renderItem(a),this):this},isClosed:function(a){return-1!==this.closed.indexOf(a)},_renderArc:function(a){var b=a,c=this.items.length-this.closed.length,d=this.items[a].arc,e={};return _.each(this.closed,function(c){a>c?b--:null}),e.gap=this.options.arc.gap,e.radius=this.options.arc.radius,e.angle=(this.options.arc.end-this.options.arc.start)/c,e.start=this.options.arc.start+e.angle*b,this.$el.children().has(d.$el).length?null:this.$el.append(d.$el),requestAnimationFrame(function(){d.set(e)}),this},_renderStart:function(a){var b=this.start,a=a||this.options.arc,c=a.end+90,d=a.width,e=a.radius-a.width,f=-a.width/2+a.gap/2;b.css({transform:"rotate("+c+"deg)",transformOrigin:-f+"px "+-e+"px",width:d/2,height:d,borderBottomLeftRadius:d/2,borderTopLeftRadius:d/2,top:e,left:f})},_renderEnd:function(a){var b=this.end,a=a||this.options.arc,c=a.start+90,d=a.width,e=a.radius-a.width,f=-a.gap/2;b.css({transform:"rotate("+c+"deg)",transformOrigin:-f+"px "+-e+"px",width:d/2,height:d,borderBottomRightRadius:d/2,borderTopRightRadius:d/2,top:e,left:f})}});var q='        <div class="color-picker-button" style="background: <%=color%>;"></div>     ';c.ColorPicker=b.MVC.View.extend({initialize:function(a){return b.MVC.View.prototype.initialize.apply(this,arguments),this.color=a.color,this.render()},render:function(){return this.button=$(_.template(q,{color:this.color})),this.$el.append(this.button),this.renderPopup(),this},setColor:function(a){this.color=a,this.button.css("background",this.color),this.button.spectrum("set",this.color)},renderPopup:function(){var a,c,d=this;this.button.spectrum({color:this.color,preferredFormat:"hex",showInput:!0,showInitial:!0,chooseText:"Apply",cancelText:"Cancel",change:function(a){d.color=a.toHexString(),d.button.css("background",d.color),d.trigger("change",d.color)},beforeShow:function(){d.trigger("beforeShow")},show:function(){c||(c=$(".sp-container:visible"),c.find(".sp-choose").addClass("zd btn btn-success btn-block"),c.find(".sp-cancel").addClass("zd btn btn-cancel btn-block").insertAfter(c.find(".sp-choose"))),a=new b.Controls.SmallPopup({containment:b.main.$section,customClass:"colorPickerPalette",pointerWidth:14}),a.render(c).position({of:d.button,my:"left+10 center+10",at:"right center",collision:"flipfit flipfit"})},hide:function(){c.appendTo("body"),a.hide()}})}}),b.Controls=c}(window,Zoomdata),function(a,b){"use strict";var c='        <table class="table table-striped">            <tr>                <td>Item No</td>                <td><%=index%></td>            </tr>            <%_.each(_.keys(attributes), function (key) {%>                <tr>                    <td><%=key%></td>                    <td><%=attributes[key]%></td>                </tr>            <%});%>        </table>         ';b.Views=b.Views||{},b.Views.ListItem=b.MVC.View.extend({tagName:"li",className:"zd-list-item",model:new b.MVC.Model,events:{click:"_onClick"},defaults:{template:_.template(c),selectedClass:"zd-item-selected",selectable:!1},initialize:function(a){return this.childViews=[],this.settings=$.extend({},this.defaults,a),this.$el.data("itemView",this),this.listenTo(this.model,"change",this.render),this},render:function(){return this.$el.html(this.settings.template({attributes:this.model.attributes,index:this.model.index})),this.delegateEvents(),this},_onClick:function(){if(this.settings.selectable)return this.toggle(),!1;var a=$(".widgetBody").has(".configure-palette");0!=a.length&&b.eventDispatcher.trigger("close:configurePalette")},toggle:function(){this.$el.toggleClass(this.settings.selectedClass),this.trigger("toggle",this.model)}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Views.ListItem,d=b.Views.SearchBox,e=b.MVC.Collection,f=_.template('            <span class="zd-loader">Loading...</span>         ');b.Views=b.Views||{},b.Views.ListView=b.MVC.View.extend({tagName:"ul",className:"unstyled",defaults:{loaderTemplate:f,search:!1,sortable:!1,selectable:!1,sortOptions:{tolerance:"pointer"},sortbyOptions:null,sortOpened:!1,filter:function(){return!0},ItemView:c,selectAll:!1},events:{sortstop:"onSortstop",sortreceive:"onSortreceive",sortremove:"onSortremove"},initialize:function(a){var b=this;return this.childViews=[],this.options=$.extend({},this.defaults,a),this.collection=this.collection||new e,this.selectAllItem=this.options.selectAll?new this.options.ItemView({selectAll:!0}):null,this.removeListeners(),this.applyListeners(),this.options.sortable&&this.$el.sortable(this.options.sortOptions),this.options.search!==!1&&(this.searchBox=new d,this.listenTo(this.searchBox,"search",this._renderItems)),this.options.selectable&&(this.selected=[],this.listenTo(this.collection,"toggle",function(a){var c=b.selected.indexOf(a),d=b.childViews,e=b.selected;"checkbox"!==b.options.selectable&&(_.each(d,function(b){b.model!==a&&-1!==e.indexOf(b.model)?b.toggle():null}),c=b.selected.indexOf(a)),-1==c?e.push(a):e.splice(c,1)})),this},applyListeners:function(){this.listenTo(this.collection,"request:collection",this._showLoader),this.listenTo(this.collection,"remove reset sync:collection",this.render),this.listenTo(this.collection,"add",this._onAddItem),this.selectAllItem&&this.listenTo(this.selectAllItem.model,"change",this._selectAll)},removeListeners:function(){this.stopListening(this.collection,"request:collection"),this.stopListening(this.collection,"remove reset sync:collection"),this.stopListening(this.collection,"add"),this.selectAllItem&&this.selectAllItem.model.off("change")},getItemByModel:function(a){var b=this.childViews,c=null;return _.each(b,function(b){b.model==a?c=b:null}),c},_resize:function(){_.each(this.childViews,function(a){a._resize&&a._resize()})},getSelectedItems:function(){return this.selected},sortCollection:function(a){function b(a,b){_.each(a.models,function(d,e){var f=d.get("name");if(b&&b.indexOf(f)>=0){var g=a.models.splice(e,1);a.models.unshift(g[0])}else if(f===c.options.sortOpened){var g=a.models.splice(e,1);a.models.unshift(g[0])}})}var c=this,d=this.collection.comparator,e=a&&a.sortby,f=a&&a.ascending;if(a&&a.limitShowCount?a.limitShowCount:null,a&&"Name"!==e&&"Filter Name"!==e){if("Author"===e){var g=_.sortBy(this.collection.models,function(b){var c=(b.get("userName")||"").toLowerCase();return a&&a.topValue===b.get("userName")&&(c=" "+c),a&&!a.ascending?c=_.map(c.split(""),function(a){return String.fromCharCode(-a.charCodeAt(0))}):c});this.collection.models=g}else if("Last Used"===e){var g=_.sortBy(this.collection.models,function(a){return f?-a.get("lastModified"):a.get("lastModified")});this.collection.models=g}else if("Popularity"===e){var g=_.sortBy(this.collection.models,function(a){return f?-a.get("viewsCount"):a.get("viewsCount")});this.collection.models=g}else if("Type"===e){var g=_.sortBy(this.collection.models,function(a){return a.get("type")});this.collection.models=f?g:g.reverse()}}else{var g=_.sortBy(this.collection.models,function(b){if(a&&!a.ascending){var c=b.get("name").toLowerCase();return c=c.split(""),c=_.map(c,function(a){return String.fromCharCode(-a.charCodeAt(0))})}return d?void 0:b.get("name")?b.get("name").toLowerCase():""});this.collection.models=g}this.options.sortOpened&&("string"==typeof this.options.sortOpened?b(this.collection):b(this.collection,this.options.openedSources)),this.collection.findWhere({selectAll:!0})&&(this.collection.models=_.sortBy(g,function(a){return a.get("selectAll")}))},onSortstop:function(){this.sortCollection()},onSortreceive:function(a,b){var c=b.item,d=c.data("itemView"),e=d.model;this.collection.add(e,{silent:!0}),this.sortCollection(),this.collection.trigger("add")},onSortremove:function(a,b){var c=b.item,d=c.data("itemView"),e=d.model;this.collection.remove(e,{silent:!0}),this.childViews.splice(this.childViews.indexOf(d),1)},_onAddItem:function(a){return!a||this.searchBox&&!a.matchesSearch(this.options.search,this.searchBox.model.toJSON())?!1:(this._renderItem(a),!1)},_renderItem:function(a){var b=this,c={model:a,template:this.options.template,selectable:this.options.selectable};this.options.itemOption&&(c=$.extend({},this.options.itemOption,c));var d=new this.options.ItemView(c);this.sources&&d.model.set("sources",this.sources),this.$el.append(d.render().el),this.childViews.push(d),this.listenTo(d,"select",function(a,c){b.renderSelectAll(),b.trigger("select",a,c)}),this.listenTo(d,"toggle",function(a){b.trigger("toggle",a)})},_renderItems:function(){var a=this,b=this.collection.models,c=a.options.sortbyOptions,d=c&&c.limitShowCount?c.limitShowCount:null;this._removeItems(),this.searchBox&&(b=this.collection.search(this.options.search,this.searchBox.model.toJSON())),_.each(_.filter(b,this.options.filter),function(b,c){d&&c>=d||a._renderItem(b)}),this.options.sortable&&this.$el.sortable("refresh"),this.renderSelectAll(b)},_removeItems:function(){this._removeChildViews()},render:function(a){a=$.extend({},this.options.sortbyOptions,a);var b=this.options.sortbyOptions||a&&a.sortby?a:null;return this.empty(),b?this.sortCollection(b):this.sortCollection(),this.searchBox?this.$el.prepend(this.searchBox.render().el):null,this._renderItems(),this},_showLoader:function(){this.empty(),this.$el.html(this.options.loaderTemplate())},renderSelectAll:function(a){var b=this,c=!!this.$el.parent().length,d=0,e=!0;this.selectAllItem&&(a=a||this.collection.models,c?a.forEach(function(a,c){var f=b.childViews[c];f&&f.$el.is(":visible")&&(d+=1,e=e&&!!a.get("selected"))}):e=!1,this.selectAllItem.model.set({selected:e},{silent:!0}),a.length&&(this.$el.prepend(this.selectAllItem.render().el),!d&&c?this.selectAllItem.$el.hide():this.selectAllItem.$el.show()))},_selectAll:function(){var a=this,b=this.collection.models,c=this.selectAllItem.model.get("selected");this.searchBox&&(b=this.collection.search(this.options.search,this.searchBox.model.toJSON())),b.forEach(function(b,d){var e=a.childViews[d];e&&e.$el.is(":visible")&&b.get("selected")!==c&&(b.set("selected",c,{silent:!0}),e.render())
}),this.collection.trigger("change")},remove:function(){b.MVC.View.prototype.remove.apply(this,arguments),this.searchBox?this.searchBox.remove():null}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Views.ListItem,d=b.Views.ListView,e=b.MVC.Collection,f='          <legend class="subhead"><%= label %></legend>    ';b.Views=b.Views||{},b.Views.GroupedListView=b.MVC.View.extend({className:"unstyled",defaults:{ItemView:c,ListView:d,groupClassName:"nav nav-tabs nav-stacked",selectable:!1,filter:function(){return!0}},events:{},initialize:function(){var a=this;return b.MVC.View.prototype.initialize.apply(this,arguments),this.childViews=[],this.groups={},this.collection=this.collection||new e,this.listenTo(this.collection,"add",function(b){var c=a.options.groupBy,d=b.get(c);"undefined"!=typeof d?this._addToGroup(b.get(c),b):null}),this.listenTo(this.collection,"remove",function(b){var c=b.get(a.options.groupBy);"undefined"!=typeof c?this._removeFromGroup(b.get(a.options.groupBy),b):null}),this.listenTo(this.collection,"reset",function(){this._resetGroups()}),this._resetGroups(),this},_createGroup:function(a,b){var c=this;"undefined"!=typeof this.groups[a]&&this._removeGroup(a);var d=new e(b);this.options.comparator&&(d.comparator=this.options.comparator,d.sort()),this.groups[a]=new this.options.ListView({className:this.options.groupClassName,ItemView:this.options.ItemView,itemOption:this.options.itemOption||null,selectable:this.options.selectable,template:this.options.template,collection:d,filter:this.options.filter}),this._renderGroup(a),this.childViews.push(this.groups[a]),this.listenTo(this.groups[a],"select",function(a){c.trigger("select",a)})},_removeGroup:function(a){"undefined"!=typeof this.groups[a]&&(this.groups[a].$el.prev().remove(),this.groups[a].remove(),this.childViews.splice(this.childViews.indexOf(this.groups[a]),1),delete this.groups[a])},_clearGroups:function(){var a=this;_.each(this.groups,function(b,c){a._removeGroup(c)})},_removeFromGroup:function(a,b){var c;"undefined"!=typeof this.groups[a]&&(c=this.groups[a].collection.findWhere(b.attributes),c?this.groups[a].collection.remove(c):null,0==this.groups[a].collection.length?this._removeGroup(a):null)},_addToGroup:function(a,b){"undefined"==typeof this.groups[a]&&this._createGroup(a),this.groups[a].collection.add(b,{merge:!0})},_resetGroups:function(){var a=this;this._clearGroups();var b=this.collection.groupBy(function(b){return b.get(a.options.groupBy)});_.each(b,function(b,c){a._createGroup(c,b)})},_renderGroup:function(a){var c=this.groups[a].render().el;c.childNodes.length&&(this.$el.append(_.template(f,{label:b.Utilities.toTitleCase(a)})),this.$el.append(this.groups[a].el))},_sortGroups:function(){var a=this.groups,b={},c=Object.keys(a).sort(function(b,c){return a[b]-a[c]});c.sort();for(var d in a)_.each(c,function(d,e){b[c[e]]=a[d]});this.groups=b},_sortGroupModels:function(a){var b=a.groups,c={};_.each(b,function(a,b){var d=[],e=[];_.each(a.collection.models,function(b,c){var b=a.collection.models[c].get("label");d.push([b,c,a.collection.models[c]])}),d.sort(),_.each(d,function(b,c){var f=d[c][2];a.collection.model[c]=f,e.push(f)}),c[b]=e,a.collection.models=e})},setFilter:function(a){this.options.filter=a,_.each(this.groups,function(b,c){c.options.filter=a})},render:function(){var a=this;return this.empty(),this._sortGroups(),_.each(this.groups,function(b,c){a._renderGroup(c)}),this},remove:function(){this._clearGroups(),b.MVC.View.prototype.remove.apply(this,arguments)}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Models.Source,d=_.template('            <div class="object-field-container ">                <div title="<%= attributes.type.toLowerCase()%>" class="zd icon drag-icon <%= attributes.type.toLowerCase()%>"></div>                <div class="text"><%= attributes.label%></div>                <i class="zd icon right-chevron" style="display: none"></i>            </div>        '),e=_.template('            <div class="attributeItem">                <div class="text"><%= attributes.label%></div>            </div>        ');b.Views=b.Views||{},b.Views.ObjectFieldItem=b.Views.ListItem.extend({model:new c,className:"object-field",events:{click:"select"},defaults:{template:d},select:function(){this.model.collection.trigger("select",this.model),this.trigger("select",this.model)}}),b.Views.SmallObjectFieldItem=b.Views.ObjectFieldItem.extend({className:"",selectTemplate:'<span class="zd icon checkbox radio"><span class="zd checked <%=selected %>"></span></span>',defaults:{template:e,checkbox:!0},initialize:function(a){return b.Views.ObjectFieldItem.prototype.initialize.apply(this,arguments),this.options=$.extend({},this.defaults,a),this},render:function(){if(b.Views.ObjectFieldItem.prototype.render.apply(this,arguments),this.settings.checkbox){var a=this.model.get("selected"),c=this.model.get("disabled"),d=_.template(this.selectTemplate,{selected:a?" selected":""});this.$el.prepend(d),a?this.$el.addClass("selected"):null,c?this.$el.addClass("disabled"):null}else this.$el.addClass("minimal");return this}})}(window,Zoomdata),function(a,b){"use strict";var c=function(a){return new b.Components.MetricFormatter(a)},d=_.template('            <dt title="<%= label==="Count"?"Volume":label%> <%=func ? "("+func+")": ""%>"><%= label==="Count"?"Volume":label%> <%=func ? "("+func+")": ""%>:</dt>            <dd><%=value%></dd>        '),e=_.template('            <dt title="<%= label%>"><%= label%>:</dt>            <dd><%= from%></dd>            <dd><%= to%></dd>        '),f=_.template("            <legend><%= label%></legend>        "),g=_.template('            <button title="Show Details" value="button-details" class="zd btn btn-success btn-block">Details</button>         '),h=b.Utilities.time.getEndTimeWithinStep;b.Views=b.Views||{},b.Views.DataItem=b.MVC.View.extend({className:"zd-data-item",defaults:{dataItemTemplate:d,timeItemTemplate:e,groupDelimiter:f,detailsButton:g},events:{},initialize:function(a){return a=a||{},a.state&&(this.state=a.state,delete a.state),a.fields&&(this.fields=a.fields,delete a.fields),a.data?(this.data=a.data,delete a.data):this.data={},b.MVC.View.prototype.initialize.apply(this,arguments),this.options=$.extend({},this.defaults,a),this},render:function(a){this.state.get("timeTrendStep"),a?this.data=a:a=this.data;var b=this.getCurrentTime(a);return this.$el.empty(),this.renderGroup("Current",a.current,b),a.historical&&this.renderGroup("Historical",a.historical,this.getHistoricalTime(a)),this.delegateEvents(),this},update:function(a){var b=this.data,c=b.group,d=_.where(a,{group:c})[0];return d&&this.render(d),this},isTrends:function(){var a=this;return function(){return a.state.isTimeTrends()}()},getCurrentTime:function(a){var b=this.isTrends(),c=this.state.config.get("source"),d=this.state.get("timeTrendStep");if("undefined"==typeof c.date||b){if(b){if("DAY"===this.state.config.get("source").dataResolution){var e=new Date(a.group),f=new Date(h(a.group,d));return{from:e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear(),to:f.getUTCMonth()+1+"/"+f.getUTCDate()+"/"+f.getUTCFullYear()}}return{from:new Date(a.group).toLocaleString(),to:new Date(h(a.group,d)).toLocaleString()}}return null}if("DAY"===this.state.config.get("source").dataResolution){var e=new Date(this.state.time.get("fromTime")),f=new Date(this.state.time.get("time"));return{from:e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear(),to:f.getUTCMonth()+1+"/"+f.getUTCDate()+"/"+f.getUTCFullYear()}}return{from:new Date(this.state.time.get("fromTime")).toLocaleString(),to:new Date(this.state.time.get("time")).toLocaleString()}},getHistoricalTime:function(a){var b=this.isTrends(),c=this.state.config.get("source"),d=this.state.get("timeTrendStep");return"undefined"==typeof c.date||b?b?{from:new Date(a.historical.group).toLocaleString(),to:new Date(h(a.historical.group,d)).toLocaleString()}:null:{from:new Date(this.state.time.get("historicalFrom")).toLocaleString(),to:new Date(this.state.time.get("historicalTo")).toLocaleString()}},renderGroup:function(a,b,e){var f=$("<dl></dl>"),g=(this.state.get("volume"),this.state.get("color"),this.fields);this.$el.append(this.options.groupDelimiter({label:a})).append(f),null!==e?f.append(this.options.timeItemTemplate({label:"Time Window",from:e.from||null,to:e.to||null})):null,f.append(this.options.dataItemTemplate({label:"Count",value:c("NUMBER").format(b.count),func:null})),b.metrics&&_.each(b.metrics,function(a,b){var e="";for(var h in a){e=h;var i=_.filter(g.models,function(a){return b===a.get("name")||a.distinctCount}),j=_.find(i,function(a){return a.get("func")&&"distinct_count"===e?a.get("distinctCount"):a.get("func")&&"distinct_count"!==e?e===a.get("func").toLowerCase():"avg"===e||"distinct_count"===e});j||(j=_.find(i,function(a){return a.get("name")===b}));var k=j.get("label"),l=j.get("type");f.append(d({label:k,value:"distinct_count"!==e?c(l).format(a[e]):a[e],func:e}))}})},_onShowDetails:function(){this.renderDetails()}})}(window,Zoomdata),function(a,b){"use strict";var c=b.Views.ListView,d=b.MVC.Model.extend({idAttribute:"_id",initialize:function(){var a=this;return b.MVC.Model.prototype.initialize.apply(this,arguments),this.fields=this.collection.fields,this.setFields(),this.on("change",function(){a.setFields()}),this},setFields:function(a){var b=this;this.fields=a||this.fields,_.each(_.keys(this.attributes),function(a){if("_zdFields"!==a){var c=b.fields.findWhere({name:a});b.attributes._zdFields=b.attributes._zdFields||{},b.attributes._zdFields[a]=c&&c.toJSON()||{label:a}}})}}),e=b.MVC.Collection.extend({model:d,initialize:function(a,c){return c.fields&&(this.fields=c.fields,delete c.fields),b.MVC.Collection.prototype.initialize.apply(this,arguments),this}}),f=function(a){return new b.Components.MetricFormatter(a)},g=_.template('            <button title="Get More Details" value="button-more" class="zd btn btn-success btn-block">                More            </button>         '),h=_.template('            <div class="progress progress-striped active">                <div class="bar" style="width: <%=value%>%"></div>             </div>        '),i=_.template('            <legend>                <h4 class="pull-left"><%=title%></h4>                <div class="clearfix"></div>             </legend>        '),j=_.template('            <div class="media minimized" data-role="item-holder">                <div class="media-body">                    <h4 class="media-heading">                        <%= attributes.time !== null ? new Date(attributes.time).toLocaleString(): ("Item " + index) %>                    </h4>                    <div class="media">                        <blockquote data-role="item-holder">                            <div class="zd-data-item-details-holder" data-role="details-holder">                                <table class="table table-striped">                                    <%_.each(_.keys(attributes), function (key, index) {%>                                        <% if (key !== "_id" && key !== "time" && key !== "_zdFields" && attributes._zdFields[key]) {%>                                            <tr>                                                <td><%=attributes._zdFields[key].label%></td>                                                <td>                                                    <% var imageLink = new RegExp("[/|.|w|s]*/(?:image)/");%>                                                    <% var imageExt = new RegExp("(http|https)"+".*?"+"(jpg|gif|png|jpeg|JPG|GIF|PNG|JPEG)");%>                                                    <% var imageLink = new RegExp("(http|https)"+".*?"+"(image)");%>                                                    <% var image = imageExt.test(attributes[key]) || imageLink.test(attributes[key]); %>                                                    <% if (image) { %>                                                        <img style="max-width: 300px" src="<%= attributes[key] %>"/>                                                     <% } else { %>                                                         <%= attributes[key] %>                                                    <% } %>                                                </td>                                            </tr>                                        <%}%>                                    <%});%>                                </table>                             </div>                            <button value="button-item-details" class="zd btn-link">                                Expand <i class="icon-chevron-down"></i>                            </button>                         </blockquote>                    </div>                 </div>             </div>         '),k=(_.template('            <div class="media minimized" data-role="item-holder">                <div class="media-body">                    <h4 class="media-heading">                        <span><%=attributes.rep_dn%></span>                        <small class="pull-right"><%=new Date(attributes._ts).toLocaleString()%></small>                        <div class="clearfix"></div>                     </h4>                    <div class="media">                        <blockquote>                            <%=attributes.text%>                            <br>                            <div data-role="details-holder" data-itemid="<%=attributes._id%>" style="display: none;" class="media">                                <div class="media-body">                                    <blockquote>                                    </blockquote>                                 </div>                             </div>                             <button value="button-item-details" class="zd btn-link">Expand <i class="icon-chevron-down"></i></button>                         </blockquote>                    </div>                 </div>             </div>         '),_.template('            <div data-role="item-holder" class="media">                <a class="zd pull-left thumbnail" target="_blank" href="https://twitter.com/<%=attributes.user_screen_name%>" class="pull-left">                    <img title="<%=attributes.user_name%>" class="media-object" src="<%=attributes.profile_image_url%>">                </a>                <div class="media-body">                    <h4 class="media-heading">                        <a title="<%=attributes.user_name%>" target="_blank" href="https://twitter.com/<%=attributes.user_screen_name%>">                        <%=attributes.user_name%>                        </a>                        <small class="pull-right"><%=new Date(attributes.created).toLocaleString()%></small>                        <div class="clearfix"></div>                     </h4>                    <blockquote>                        <a                             title="<%=attributes.user_name%>"                            target="_blank"                            href="https://twitter.com/<%=attributes.user_screen_name%>/status/<%=attributes.id%>"                        >                        <%=attributes.text%>                        </a>                         <small>                            <a title="<%=attributes.user_name%>" target="_blank" href="https://twitter.com/<%=attributes.user_screen_name%>">                                @<%=attributes.user_screen_name%>                            </a>                        </small>                    </blockquote>                </div>            </div>        '));b.Views=b.Views||{},b.Views.DataDetails=b.MVC.View.extend({className:"zd-data-item-details",defaults:{template:i,itemTemplate:j,filter:function(){return!0},search:!1,count:15,offset:0},events:{"click button[value='button-more']":"_onMoreClick","click button[value='button-item-details']":"_onItemDetailsClick"},initialize:function(a){a.state&&(this.state=a.state,delete a.state),a.fields&&(this.fields=a.fields,delete a.fields),a.data?(this.data=a.data,delete a.data):this.data={},b.MVC.View.prototype.initialize.apply(this,arguments),this.collection=this.collection||new e([],{fields:this.fields}),this.list=new c({collection:this.collection,filter:this.options.filter,search:this.options.search,template:this.options.itemTemplate}),this.childViews.push(this.list),this.$progressBar=$(h({value:100})),this.$moreButton=$(g());var d=this.state.config.get("streamType"),f=this.state.get("streamSourceId"),i=this.state.groupBy.getAttributes(),l=i[0],m=i.length>1,n=this.data.group,o=this.data.key,p=this.data.current.count,q=this.state.filters,r=a.fromTime,s=a.toTime,t=q.toJSON(),u={streamSourceId:f,fromTime:r,toTime:s,restrictions:t,itemTemplate:j,title:p+" Total Record"+(p>1?"s":"")};switch(l!==this.state.get("timestampField")&&(m?(t.push({path:i[1],operation:"EQUALS",value:n}),t.push({path:i[0],operation:"EQUALS",value:o})):t.push({path:l,operation:"EQUALS",value:n})),d){case"TWEET":u.itemTemplate=k,u.title=p+" Total Tweet"+(p>1?"s":"")}return this.setOptions(u),this.fields=b.sources.get(f).objectFields,this},setOptions:function(a){return a=a||{},this.options=$.extend({},this.options,a),this.options.itemTemplate?this.list.options.template=this.options.itemTemplate:null,this},render:function(){return this.$el.html(this.options.template({title:this.options.title})),this.$el.append(this.list.render().el),this.renderDetails(),this.delegateEvents(),this},renderDetails:function(a){var b=this;this.setOptions(a),this.forbidMore(),this.showLoader(),this.getDetails().done(function(a){var c=a.documents;_.each(c,function(a){var c,d,e;for(d in a)c=b.fields.findWhere({name:d}),e=c&&c.get("type"),!c||"MONEY"!==e&&"TIME"!==e&&"NUMBER"!==e||(a[d]=f(c.get("type")).format(a[d]))}),b.hideLoader(),b.allowMore(),b.collection.add(c,{silent:!0}),b.collection.forEach(function(a,b){a.index=b+1}),b.list.render(),a.hasNext?b.allowMore():b.forbidMore()}).fail(function(a){b.$el.append($('<div class="alert alert-error">Failed to fetch documents: '+a.statusText+"</div> "))})},getDetails:function(){var a=$.Deferred(),b={},c=0,d=this.state.get("timestampField"),e=this.state.get("timeWindowScale");this.fields.bootstrap().done(function(){c++,2==c?a.resolve(b):null}).fail(function(b){a.reject(b)});var f={count:this.options.count,offset:this.options.offset,streamSourceId:this.options.streamSourceId},g=this.options.restrictions.filter(function(a){return a.path!==d});return f.restrictions=g,"ALL"===e&&-1!==["IMPALA","SQL"].indexOf(this.options.sourceType)||(f.toTime=this.options.toTime,this.options.fromTime&&(f.fromTime=this.options.fromTime)),d?f.timestampField=d:null,$.ajax({type:"POST",url:"service/stream/preview",data:JSON.stringify(f),contentType:"application/json"}).done(function(d){b=d,c++,2==c?a.resolve(b):null}).fail(function(b){a.reject(b)}),a.promise()},allowMore:function(){var a=this;return this.$el.on("scroll",function(){var b=a.$el.prop("scrollHeight"),c=a.$el.scrollTop(),d=a.$el.height();d>=b-c&&a.renderDetails({offset:a.collection.length})}),this},forbidMore:function(){return this.$el.off("scroll"),this},showLoader:function(){this.$el.append(this.$progressBar)},hideLoader:function(){this.$progressBar.remove()},toggleItemDetails:function(a){var b=this;a=a||this.$('[data-role="item-holder"]'),a.each(function(){var a=$(this),c=a.find('button[value="button-item-details"]'),d=a.find('[data-role="details-holder"]');a.hasClass("open")?(a.removeClass("open"),a.addClass("minimized"),c.html('Expand <i class="icon-chevron-down"></i>'),b.hideDetails(d)):(a.addClass("open"),a.removeClass("minimized"),c.html('Collapse <i class="icon-chevron-up"></i> '),b.showDetails(d))})},showDetails:function(){return this},hideDetails:function(){return this},_onItemDetailsClick:function(a){var b=$(a.currentTarget),c=b.parents('[data-role="item-holder"]');this.toggleItemDetails(c,b)}})}(window,Zoomdata),function(a,b){"use strict";function c(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];return"-"+b+"-"}var d='            <div class="color-key">                 <div class="color-key-content">                     <div class="color-key-metric-label"><b><%= metricLabel %></b></div>                     <div class="color-key-linear-view">                         <div class="color-key-scale"></div>                         <div class="color-key-labels"></div>                     </div>                     <ul class="color-key-list-view unstyled" style="display: none;"></ul>                 </div>	            </div>	        ',e='<div class="color-item" style="background: <%= color %>;"></div>',f='<li class="color-list-item"><div class="color-item" style="background: <%= color %>;"></div></li>';b.Views=b.Views||{},b.Views.ColorKey=b.MVC.View.extend({defaults:{isDraggable:!0},initialize:function(a){if(_.bindAll(this,"render","remove"),!a.controller)throw new Error("controller must be defined");this.controller=a.controller,delete a.controller,this.controller.state.colorMetric&&(this.colorMetricLabel=this.controller.state.colorMetric.get("label")),this.autoShow=a.autoShow,a.type?(this.type=a.type,delete a.type):this.type="gradient",b.MVC.View.prototype.initialize.apply(this,arguments),this.options.isDraggable&&"undefined"!=typeof $.fn.draggable&&(this.$el.draggable({start:function(){$(this).css({bottom:"auto",right:"auto"})},cursor:"move",containment:this.$el.parent()}),this.$el.on("drag",function(a){a.stopPropagation()}))},render:function(){var a,b;return this.colorMetricLabel?(this.colorMetric=this.controller._controller.metrics[this.colorMetricLabel],this.colorMetric&&this.colorMetric[0]&&(this.colorMetric=this.colorMetric[0],this.multiMetric=!0),this.colorMetric?(this.multiMetric?a=this.colorMetric.metric.label:(a=this.colorMetric.get("label"),b=this.colorMetric.metric.func,b&&"none"!==this.colorMetric.metric.name&&(a+=" ("+b+")")),this.$el.empty().append(_.template(d,{metricLabel:a})),this.initScale(),this.initLabels(),this.autoShow&&this.show(),this.delegateEvents(),this):(this.hide(),this)):this},fixPosition:function(){var a=this.$el.parent().width()-this.$el.width()-5,b=this.$el.parent().height()-this.$el.height()-5,c=this.$el.position();c.top>b&&this.$el.css("top",b),c.left>a&&this.$el.css("left",a)},cloneTo:function(a){var b=this.$el.find(".color-key").clone().show();a.append(b)},initScale:function(){var a=c(),b=this.$el.find(".color-key-scale").empty(),d=this.$el.find(".color-key-list-view").empty(),g=this.colorMetric.colorRange()||[];g.length&&("none"===this.colorMetric.metric.name&&(g=[g[0],g[0]]),this.multiMetric||"gradient"!==this.controller.state.divergingColorRange&&"none"!==this.colorMetric.metric.name?!this.multiMetric&&g.length<=3?(this.$el.find(".color-key").css("width",""),d.hide(),b.show().css("width","85%").css("background","transparent"),$.each(g,function(a,c){b.append(_.template(e,{color:c}))}),b.find(".color-item").css("width",100/g.length+"%")):(this.$el.find(".color-key").css("width","auto"),b.hide(),d.show(),$.each(g,function(a,b){d.append(_.template(f,{color:b}))})):(this.$el.find(".color-key").css("width",""),d.hide(),b.show().css("width",null).css("background",a+"linear-gradient(left, "+g.join(",")+")").css("background","linear-gradient(to right, "+g.join(",")+")")))},initLabels:function(){var a=this.colorMetric.domain()||[],b=this.$el.find(".color-key-list-view li"),c=this.$el.find(".color-key-labels").empty();"gradient"===this.controller.state.divergingColorRange&&(a=[a[0],a[a.length-1]]),"none"===this.colorMetric.metric.name&&(a=[]),!this.multiMetric&&a&&"undefined"!=typeof a[0]?($.each(a,function(b,d){d>10?a[b]=d=d.toFixed(0):(100*d).toFixed(0)!==(100*d).toString()&&(a[b]=d=d.toFixed(2)),a.length<=4&&c.append('<span class="color-key-label">'+d+"</span>")}),a.length>4&&b.each(function(b,c){var d=a[b];d+=a[b+1]?" - "+a[b+1]:" +",c.innerHTML+=d})):this.multiMetric&&b.each(function(b,c){c.innerHTML+=a[b]}),"gradient"!==this.controller.state.divergingColorRange&&a.length<=4&&c.find(".color-key-label").css("width",100/a.length+"%")},show:function(){this.$el.show(),this.fixPosition()},hide:function(){this.$el.hide(),this.autoShow=!1},isVisible:function(){return this.$el.is(":visible")}})}(window,Zoomdata),function(a,b){"use strict";b.Components=b.Components||{};var c=b.Views.SmallObjectFieldItem,d=b.Views.GroupedListView,e=b.Views.MetricPalette,f=b.Views.TimeScaleControl,g=b.Views.DataItem,h=b.Views.DataDetails,i=b.eventDispatcher,j=b.Utilities.time.getEndTimeWithinStep;b.Components.InteractiveElementsMethods=function(){this.registerInteractiveElements=function(a,k,l,m){function n(a){J.push({name:"info",group:E(),label:"Info",type:"icon",action:function(c,d){function e(){D.on("thread:message",i),D.on("thread:timeline",k);var a=new b.Controls.InfoPopup({containment:b.main.$section,customClass:y?"":"zd-infopopup-hide-details"}),c=null;y&&(c=[{label:"Details",type:"success",callback:function(){a.hide(),f()}}]),a.setActions(c).render(x.render().el,C.state.isTimeTrends()?u:(l.key?l.key+", ":"")+l.group).position({of:d,my:"left top-30",at:"center center",collision:"flipfit flipfit"}),a.onHide=function(){D.off("thread:message",i),D.off("thread:timeline",k),x.remove()}}function f(){var a=new b.Controls.DetailsPopup({containment:b.main.$section,modal:!0,wide:!0}),c=o?m[1]:m[0];a.onHide=function(){y.remove()},a.render(y.render().el,C.state.isTimeTrends()?u:p.findWhere({name:c}).get("label")+": "+l.group).position({of:b.main.$section,my:"center top",at:"center top",collision:"flip flip"})}function i(a){x.update(a)}function k(){x.render()}var l=E(),m=C.state.groupBy.getAttributes(),n=m[0],o=m.length>1,p=(C.state.get("volume"),C.fields),q=C.state.time.get("fromTime"),r=C.state.time.get("time"),s=C.state.get("timeTrendStep"),t=C.source.get("type"),u="";if(C.state.isTimeTrends()){var v=C._controller.fields.findWhere({name:n}).get("timestampGranularity"),w="DAY"===v;q=l.group,r=j(l.group,s,w),u=new b.Components.MetricFormatter(s,v).format(l.group)}var x=new g({state:C.state,fields:p,data:l}),y=null;a.hideDetails||(y=new h({state:C.state,fields:p,data:l,sourceType:t,fromTime:q,toTime:r})),e()}})}function o(){J.push({name:"trend",group:E(),label:"Trend",disabled:function(){return void 0===C.config.attributes.source.date},action:function(){var a=function(a){var c=E(),d=C.state.groupBy.getAttributes(),e=C.state.filters,f={editable:!0,operation:"IN",path:d[0],value:[c.group]},g=e.findWhere({path:d});C.state.groupBy.length>1&&(f=[{editable:!0,operation:"IN",path:d[1],value:[c.group]},{editable:!0,operation:"IN",path:d[0],value:[c.key]}]),a.bootstrap().done(function(){C.setVisualization(a),g?g.hasAttribute(c.group)?g.set(f,{silent:!0}):g.addAttribute(c.group,{silent:!0}):$.isArray(f)?_.each(f,function(a){C.state.filters.add(a,{silent:!0})}):C.state.filters.add(f,{silent:!0})}).fail(function(){var a=new b.Controls.Notification({type:"error"});a.render("Couldn't configure Time Trends visualization.")})};G.visualizations.bootstrap().done(function(){if(C._controller.trends){var b=C._controller.trends(G.visualizations.toJSON());b&&a(G.visualizations.findWhere({visId:b.visId}))}else a(G.visualizations.findWhere({type:"TRENDS"}))})}})}function p(){J.push({name:"filter_all",group:E(),disabled:function(){return b.Utilities.isSingleVizualization()},label:"Filter <br> all",action:function(){var a=E(),b=C.state.config.sourceId,c=C.state.groupBy.getAttributes(),d={editable:!0,operation:"IN",path:a.attr||c[0],value:[a.group]};C.state.groupBy.length>1&&(d=[{editable:!0,operation:"IN",path:c[1],value:[a.group]},{editable:!0,operation:"IN",path:c[0],value:[a.key]}]),i.trigger("visualization:filterAll",b,C.UUID,d,{timestampField:C.state.get("timestampField"),timeTrendStep:C.state.get("timeTrendStep")})}})}function q(){J.push({name:"un_filter_all",group:E(),disabled:function(){return b.Utilities.isSingleVizualization()},label:"Un<br>Filter <br> all",action:function(){var a=E(),b=C.state.config.sourceId,c=C.state.groupBy.getAttributes(),d={editable:!0,operation:"NOTIN",path:c[0],value:[a.group]};C.state.groupBy.length>1&&(d=[{editable:!0,operation:"IN",path:c[1],value:[a.group]},{editable:!0,operation:"IN",path:c[0],value:[a.key]}]),i.trigger("visualization:unfilterAll",b,C.UUID,d)}})}function r(){J.push({name:"filter",group:E(),label:"Filter",action:function(a,b){var c=E(),d=C.state.config.sourceId,e=C.state.groupBy.getAttributes(),f={editable:!0,operation:"IN",path:c.attr||e[0],value:[c.group]};C.state.groupBy.length>1&&(f=[{editable:!0,operation:"IN",path:e[1],value:[c.group]},{editable:!0,operation:"IN",path:e[0],value:[c.key]}]),i.trigger("visualization:filter",d,C.UUID,f,b,{timestampField:C.state.get("timestampField"),timeTrendStep:C.state.get("timeTrendStep")})}})}function s(){J.push({name:"attribute",group:E(),label:"Attribute",action:function(e){var f=E();if(C.state.isTimeTrends()){var g=C.state.get("timeTrendStep"),h=new Date(f.group),i=new Date(b.Utilities.time.getEndTimeWithinStep(h,g)),j=b.Utilities.time.getRoundedDateRange(h,i),k=C.state.config.get("source").dataResolution;if(k&&g===k||"MINUTE"===g)return;return C.state.time.set({time:i.getTime()},{silent:!0}),C.state.set({timeTrendStep:j.step,limit:j.amount+1},{silent:!0}),void C.state.trigger("change")}var l=new b.Controls.PalettePopup({containment:b.main.$section,customClass:"attributePalette",pointerWidth:14}),n=new d({className:"nav nav-tabs nav-stacked",ItemView:c,collection:C.fields,groupBy:"type",filter:function(b){var c=!!b.get("visible"),d="ATTRIBUTE"==b.get("type"),e=["SIDE_BY_SIDE_BARS","HORIZONTAL_SIDE_BY_SIDE_BARS","STACKED_BARS","VERTICAL_100PCT_STACKED_BARS","VERTICAL_STACKED_BARS"],g=C.config.get("type");if(b.get("label")===f?b.set({selected:!0},{silent:!0}):b.set({selected:!1},{silent:!0}),-1!=e.indexOf(g)){var h="";a.hasClass("groupBy1")?h=C._controller.variables["Second Group By"]:a.hasClass("groupBy2")&&(h=C._controller.variables["First Group By"]),b.get("name")===h?b.set({disabled:!0},{silent:!0}):b.set({disabled:!1},{silent:!0})}return c&&d},comparator:function(a){return a.get("label")}});l.render(n.render().el,m),l.position({of:e,my:"left+20 top-30",at:"right center",collision:"flipfit flipfit"}),C.listenToOnce(n,"select",function(b){if(!b.get("disabled")){var c=C.config.get("type"),d=C.config.get("templateType"),e=["SIDE_BY_SIDE_BARS","STACKED_BARS"];-1!=e.indexOf(c)||-1!=e.indexOf(d)?(a.hasClass("groupBy1")&&C.state.groupBy.at(0).setAttribute(b.get("name")),a.hasClass("groupBy2")&&C.state.groupBy.at(1).setAttribute(b.get("name"))):C.state.groupBy.setAttribute(b.get("name")),l.remove(),n.remove()}})}})}function t(){var f=(l.pivot(),l.callbacks()),g=E(),h=g.get&&"ATTRIBUTE"===g.get("type")||"ATTRIBUTE"===g.type?"attribute":"metric";J.push("attribute"===h?{name:"attribute",group:E(),label:"Attribute",action:function(a){var e=a.closest('[data-zd-interactive-type="pivotLabel"]');a.is('[data-zd-interactive-type="pivotLabel"]')&&(e=a),e.addClass("active");var h=new b.Controls.PalettePopup({containment:b.main.$section,customClass:"attributePalette",pointerWidth:14,handlers:f&&f.attribute&&f.attribute.onRemove?f.attribute.onRemove(g,"attributePalette"):null}),i=new d({className:"nav nav-tabs nav-stacked",ItemView:c,collection:C.fields,groupBy:"type",filter:f&&f.attribute&&f.attribute.filter?function(a){return f.attribute.filter(a,g)}:function(){return!0},comparator:function(a){return a.get("label")}});h.onHide=function(){e.removeClass("active")},h.render(i.render().el,m),h.position({of:a,my:"left+20 top-30",at:"right center",collision:"flipfit flipfit"}),C.listenToOnce(i,"select",function(a){f&&f.attribute&&f.attribute.onClick?f.attribute.onClick(g,h,a):function(){return!0}})}}:{name:"metric",group:E(),label:"Metric",action:function(a,c){var d=a.closest('[data-zd-interactive-type="pivotLabel"]');a.is('[data-zd-interactive-type="pivotLabel"]')&&(d=a),d.addClass("active");var h=new b.Controls.PalettePopup({containment:b.main.$section,customClass:"metricPalette",pointerWidth:14,handlers:f&&f.metric&&f.metric.onRemove?f.metric.onRemove(g,"attributePalette"):null}),i=new e({collection:C.fields,currentItem:g.attributes,filter:f&&f.metric&&f.metric.filter?function(a){return f.metric.filter(a,g)
}:function(){return!0}});h.onHide=function(){d.removeClass("active")},h.render(i.render().el,m),h.position({of:c,my:"left+5 center",at:"center center",collision:"flipfit flipfit"}),C.listenTo(i,"select:metric",function(a){f&&f.metric&&f.metric.onClick?f.metric.onClick(g,h,a):function(){return!0}})}}),C.elementsManager.register(a,{actions:J})}function u(){J.push({name:"timeScale",group:E(),label:"Time Scale",action:function(a){var c=(E(),new b.Controls.PalettePopup({containment:b.main.$section,customClass:"timeScalePaletteContainer",pointerWidth:14})),d=new f({className:"timeScalePalette",currentItem:E()});c.render(d.render().el,m),c.position({of:a,my:"left+20 top-30",at:"right center",collision:"flipfit flipfit"}),C.listenToOnce(d,"select",function(a){var e=[{name:"MINUTE",title:"Minutes",limit:60,time:60},{name:"HOUR",title:"Hours",limit:24,time:3600},{name:"DAY",title:"Days",limit:7,time:86400},{name:"WEEK",title:"Weeks",limit:5,time:604800},{name:"MONTH",title:"Months",limit:12,time:2678400},{name:"YEAR",title:"Years",limit:4,time:31536e3}],f=e.filter(function(b){return a.toUpperCase()===b.name})[0],g=this._controller.state.get("timeTrendStep"),h=this._controller.state.get("limit"),i=new Date(this._controller.state.time.get("min")),j=new Date(this._controller.state.time.get("max")),k={MINUTE:b.Utilities.time.getRoundedDateRange(i,j,"MINUTE"),HOUR:b.Utilities.time.getRoundedDateRange(i,j,"HOUR"),DAY:b.Utilities.time.getRoundedDateRange(i,j,"DAY"),WEEK:b.Utilities.time.getRoundedDateRange(i,j,"WEEK"),MONTH:b.Utilities.time.getRoundedDateRange(i,j,"MONTH"),YEAR:b.Utilities.time.getRoundedDateRange(i,j,"YEAR")},l=k[f.name].amount+1;f.limit=b.Utilities.time.recalculateLimit(g,h,f.name),f.limit=f.limit>l?l:f.limit,this._controller.state.set({timeTrendStep:f.name,limit:f.limit},{silent:!0}),this._controller.state.trigger("change"),c.remove(),d.remove()})}})}function v(){J.push({name:"metric",group:E().label,label:"Metric",action:function(a,c){var d=(E(),new b.Controls.PalettePopup({autohide:!1,containment:b.main.$section,customClass:"metricPalette",pointerWidth:14})),f=new e({collection:C.visualizationController.fields,currentItem:$.extend({},C.field.toJSON(),C.metric.toJSON())});C.childViews.push(d),C.childViews.push(f),d.render(f.render().el,C.options.popoverTitle).position({of:c,my:"left+5 center",at:"center center",collision:"flipfit flipfit"}),d.onHide=function(){f.trigger("hide"),C.childViews.splice(C.childViews.indexOf(d),1),C.childViews.splice(C.childViews.indexOf(f),1)},C.listenTo(f,"select:metric",function(a){C.state.metrics.at(0).set(a)})}})}function w(){J.push({name:"radius",group:E().label,label:"Radius",action:function(a,c){var d=E(),f=new b.Controls.PalettePopup({containment:b.main.$section,customClass:"metricPalette",pointerWidth:14}),g=new e({collection:C.fields,currentItem:d});f.render(g.render().el,m),f.position({of:c,my:"left top-30",at:"center center",collision:"flipfit flipfit"}),f.onHide=function(){g.trigger("hide")},C.listenTo(g,"select:metric",function(a){C.state.config.get("source").variables["_metric-radius"]=a.name+":"+a.func,C.state.trigger("change")})}})}function x(){J.push({name:"zoom",group:E(),label:"Zoom",action:function(a,e){function f(a){var b=C.state.groupBy.getAttributes(),c=[{editable:!0,operation:"IN",path:b[1],value:[g.group]},{editable:!0,operation:"IN",path:b[0],value:[g.key]}];G.visualizations.bootstrap().done(function(){var b=G.visualizations.findWhere({type:"VERTICAL_BARS"});b.bootstrap().done(function(){b.get("source").variables.Comparison="Off",C.setVisualization(b),C.state.groupBy.setAttribute(a.get("name"),{silent:!0}),_.each(c,function(a){C.state.filters.add(a,{silent:!0})})})})}var g=E(),h=C.state.groupBy.getAttributes(),i=h[0],j=h.length>1;if(C.state.isTimeTrends()){var k=C.state.get("timeTrendStep"),l=new Date(g.group),m=new Date(b.Utilities.time.getEndTimeWithinStep(l,k)),n=b.Utilities.time.getRoundedDateRange(l,m),o=C.state.config.get("source").dataResolution;if(o&&k===o||"MINUTE"===k)return;return C.state.time.set({time:m.getTime()},{silent:!0}),C.state.set({timeTrendStep:n.step,limit:n.amount+1},{silent:!0}),void C.state.trigger("change")}var p={editable:!0,operation:"IN",path:i,value:[g.group]},q=new b.Controls.PalettePopup({containment:b.main.$section,customClass:"attributePalette"}),r=new d({className:"nav nav-tabs nav-stacked",ItemView:c,itemOption:{checkbox:!1},collection:C.fields,groupBy:"type",filter:function(a){var b=!!a.get("visible"),c="ATTRIBUTE"==a.get("type"),d=a.get("name")==i;return b&&c&&!d},comparator:function(a){return a.get("label")}});q.render(r.render().el,"Zoom Into"),q.position({of:e,my:"left+20 top-30",at:"center center",collision:"flipfit flipfit"}),C.listenToOnce(r,"select",function(a){j?f(a):(C.state.addFilter(p,{silent:!0}),C.state.groupBy.setAttribute(a.get("name"))),q.remove(),r.remove(),b.eventDispatcher.trigger("zoomItem:select")})}})}function y(){J.push({name:"search_details",group:E(),label:"Details",action:function(a,c){function d(){var a=new b.Controls.InfoPopup({containment:b.main.$section,customClass:"searchResultsDetails"}),d=null,f=C.fields,g={};f.each(function(a){g[a.get("name")]=a.get("label")});var h=b.MVC.View.extend({itemTemplate:"<tr>\n                                    <td><%= name %></td>\n                                    <td><%= value %></td>\n                                </tr>",tagName:"table",initialize:function(a){b.MVC.View.prototype.initialize.call(this,a),_.bindAll(this,"render"),this.data=a.data||{},this.query=a.query||""},preg_quote:function(a){return(a+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")},highlightMatchedWords:function(a){var b=a;return"string"==typeof b&&this.query&&""!==this.query&&(b=a.replace(new RegExp("("+this.preg_quote(this.query).replace(" ","|")+")","gi"),"<span class='selected-result'>$1</span>")),b},render:function(){var a="";for(var b in this.data)if(this.data.hasOwnProperty(b)){var c=g[b],d=this.highlightMatchedWords(this.data[b]);a+=_.template(this.itemTemplate,{name:c,value:d})}return this.$el.html(a),this}}),i=new h({data:e.metadata,query:e.query});a.setActions(d).render(i.render().el,"Search Result Detail").position({of:c,my:"left top-30",at:"center center",collision:"flipfit flipfit"}),a.onHide=function(){i.remove()}}var e=E();d()}})}function z(){J.push({name:"exclude",group:E(),label:"Exclude",type:"icon",action:function(){var a=E(),b=C.config.get("type"),c=C.state.groupBy.getAttributes(),d=Array.isArray(c)?c[0]:c,e=a.group;"STACKED_BARS"===b?e=a.key:"SIDE_BY_SIDE_BARS"===b&&(d=Array.isArray(c)?c[1]:c);var f={editable:!0,operation:"NOTIN",path:d,value:[e]},g=C.state.filters.findWhere({path:d,operation:"NOTIN"});if(g){var h=g.get("value");if(-1!==h.indexOf(e))return;f.value=h.concat([e])}C.state.addFilter(f)}})}function A(c){K={scope:c,over:function(){},drop:function(c){var d=$(a),e=d.attr("data-zd-interactive-type"),f=E();if(e)switch(e){case"group":case"multi-group":case"attribute":"ATTRIBUTE"==c.get("type")&&null!==C.fields.findWhere({name:c.get("name")})&&C.state.groupBy.setAttribute(c.get("name"));break;case"metric":if(b.Utilities.isNumericAttributeType(c.get("type"))&&null!==C.fields.findWhere({name:c.get("name")})){var g=new b.Components.Metric({name:c.get("name"),func:c.get("func")?c.get("func").toLowerCase():"avg",type:c.get("type"),label:c.get("label")});C.state.set("volume",g)}}else if("ATTRIBUTE"==c.get("type")&&null!==C.fields.findWhere({name:c.get("name")})){if("TRENDS"===C.config.get("type"))return void b.eventDispatcher.trigger("TimeTrendsZoomIn",f.group);var h=C.state.groupBy.getAttribute(),i={editable:!0,operation:"IN",path:h,value:[f.group]};C.state.addFilter(i,{silent:!0}),C.state.groupBy.setAttribute(c.get("name"))}},out:function(){}}}function B(){K={scope:"objectField",over:function(){},drop:function(a){l.droppable.drop(a)},out:function(){}}}"object"==typeof k?l=k:$(a).attr("data-zd-interactive-type",k);var C=this,D=this.thread,E=l.data,F=this.config.get("source"),G=this.source,H="undefined"!==F.date,I=this.state.isTimeTrends(),J=[],K=null;if("function"==typeof E)switch(k){case"searchDetails":y(),A("search");break;case"search":y(),p(),q(),r(),A("search");break;case"timeScale":u(),A("timeScale");break;case"attribute":s(),A("objectField");break;case"metric":v(),A("metric");break;case"groupBy1":s(),A("objectField");break;case"groupBy2":s(),A("objectField");break;case"radius":w(),A("metric");break;case"objectFieldAcceptor":B();break;case"pivotLabel":t(),B();break;default:n(l),p(),q(),r(),x(),H&&!I&&o(),I||z(),A("objectField")}C.elementsManager.register(a,{actions:J,droppable:K,data:E})},this.releaseInteractiveElement=function(a,b){return this.isRemote?null:void this.elementsManager.release(a,b)}}}(window,Zoomdata),function(a,b){function c(){return!1}function d(a){var b=this._manager,c=this.options.droppable=$.extend({},this.defaults.droppable,a);return c.over=function(){var d=b.getElementInAction("drag");d&&c.scope&&c.scope==d.options.draggable.scope&&(console.log("hover options",c.scope),$(this).css({opacity:.7}),"function"==typeof a.over?a.over.apply(this,d.$el.data(c.scope)):null)},c.drop=function(){var d=b.getElementInAction("drag");d&&c.scope&&c.scope==d.options.draggable.scope&&($(this).css({opacity:1}),"function"==typeof a.drop?a.drop.apply(this,d.$el.data(c.scope)):null)},c.out=function(){var d=b.getElementInAction("drag");d&&c.scope&&c.scope==d.options.draggable.scope&&($(this).css({opacity:1}),"function"==typeof a.out?a.out.apply(this,d.$el.data(c.scope)):null)},this.$el.droppable(c),this.$el.data("droppable")}function e(){this.droppable?this.droppable.destroy():null}function f(a){var b=this._manager,d=this.options.droppable=$.extend({},this.defaults.droppable,a);this.$el.on("mouseenter",function(){var c=b.getElementInAction("drag");if(c&&d.scope&&d.scope==c.options.draggable.scope){var e=this.getAttribute("data-zd-interactive-type");"attribute"===e||"metric"===e?$(this).addClass("over"):$(this).css({opacity:.7}),"function"==typeof a.over?a.over.apply(this,c.$el.data(d.scope)):null}}),this.$el.on("mouseup",function(){var e=b.getElementInAction("drag");if(e&&d.scope&&d.scope==e.options.draggable.scope){var f=this.getAttribute("data-zd-interactive-type");"attribute"===f||"metric"===f?$(this).removeClass("over"):$(this).css({opacity:1}),e.$el.draggable("option","revert",c),"function"==typeof a.drop?a.drop.call(this,e.$el.data(d.scope)):null}}),this.$el.on("mouseleave",function(){var c=b.getElementInAction("drag");if(c&&d.scope&&d.scope==c.options.draggable.scope){var e=this.getAttribute("data-zd-interactive-type");"attribute"===e||"metric"===e?$(this).removeClass("over"):$(this).css({opacity:1}),"function"==typeof a.out?a.out.apply(this,c.$el.data(d.scope)):null}})}function g(){}function h(){var a;return a=-1!=navigator.appVersion.indexOf("MSIE 10.")?b.Utilities.detectTouchDevice()?"MSPointerDown click":"MSPointerUp click":"click"}b.eventDispatcher,b.Components=b.Components||{},b.Components.InteractiveElementController=function(a,b,c){var d="function"==typeof c.data,e=!!c.actions,h=!!c.draggable,i=!!c.droppable;if(_.bindAll(this,"_onInteractionStart","_onInteraction","_onInteractionEnd"),"undefined"!=typeof $(b).data("interactiveElement")&&null!==$(b).data("interactiveElement"))throw new Error("An element already is an instance of interactiveElement");this._manager=a,this.element=b,this.$el=$(this.element),this.gestureTimeOut=null,this.isSVG()&&(this._createDroppable=f,this._destroyDroppable=g),c.actionList&&(this.actionList=c.actionList,delete c.actionList),this.options={},this.options.interactions=$.extend({},this.defaults.interactions,c.interactions),this.data=d?c.data:null,e?this.options.actions=c.actions:null,this.droppable=i?this._createDroppable(c.droppable):null,this.draggable=h?this._createDraggable(c.draggable):null,this._allowed=[],this._prevented=[],this._allow(this.options.interactions.start),this._allow(this.options.interactions.action),this._allow(this.options.interactions.end),this.$el.data("interactiveElement",this)},b.Components.InteractiveElementController.prototype={defaults:{interactions:{start:"mousedown",action:h(),end:"mouseup"},draggable:{containment:"body",appendTo:"body",helper:"clone",revert:"invalid",addClasses:!1,dragClass:"zd-interactive-draggable",cursor:"pointer",cursorAt:{left:25,top:25},zIndex:2e3,scope:"default"},droppable:{addClasses:!1,tolerance:"pointer",activeClass:"zd-interactive-droppable-accepts",scope:"default"}},get:function(){var a=[];if(0==arguments.length)a=this.options;else if(1==arguments.length)a=this.options[arguments[0]]||null;else for(var b=0;b<arguments.length;b++)a[arguments[b]]=this.options[arguments[b]]||null;return a},set:function(){},showActionsList:function(a){var b=this;return null!==this.gestureTimeOut?this:("undefined"!=typeof this.actionList&&(a=a||{},a.left="number"!=typeof a.left?this.$el.offset().left+this.$el.width()/2:a.left,a.top="number"!=typeof a.top?this.$el.offset().top+this.$el.height()/2:a.top,-1!=navigator.appVersion.indexOf("MSIE 10.")?(setTimeout(function(){b.actionList.close()},100),setTimeout(function(){b.actionList.reset(b.options.actions)},200),setTimeout(function(){b.actionList.render(a)},300),this.gestureTimeOut=setTimeout(function(){b.gestureTimeOut=null},600)):this.actionList.close().reset(this.options.actions).render(a)),this)},isSVG:function(){return!("svg"!=this.element.tagName&&null===this.element.ownerSVGElement)},_notify:function(a,b){this._manager._notify(a,this,b)},_createDroppable:d,_destroyDroppable:e,_createDraggable:function(a){var b=this,c=this.options.draggable=$.extend({},this.defaults.draggable,a);return c.start=function(d,e){var f=e.helper;b._dragHelper=f,b._notify("drag:start"),f.css("pointer-events","none"),f.hasClass(c.dragClass)?null:f.addClass(c.dragClass),"function"==typeof a.start?a.start.apply(this,arguments):null},c.drag=function(){"function"==typeof a.drag?a.drag.apply(this,arguments):null},c.stop=function(d,e){var f=e.helper;b._notify("drag:stop"),b.$el.draggable("option","revert",c.revert),f.css("pointer-events","all"),f.hasClass(c.dragClass)?f.removeClass(c.dragClass):null,"function"==typeof a.stop?a.stop.apply(this,arguments):null},this.$el.on("touchend",function(a){var b=document.elementFromPoint(a.originalEvent.changedTouches[0].pageX,a.originalEvent.changedTouches[0].pageY);$(b).trigger("mouseup")}),this.$el.draggable(c),this.$el.data("draggable")},_destroyDraggable:function(){this.draggable?this.draggable.destroy():null,this._dragHelper instanceof jQuery?this._dragHelper.remove():null},_isAllowed:function(a){return-1!==this._allowed.indexOf(a)},_allow:function(a){function b(){f.$el.on(e.start,f._onInteractionStart)}function c(){f.$el.on(e.action,f._onInteraction)}function d(){f.$el.on(e.end,f._onInteractionEnd)}var e=this.options.interactions,f=this;if(!this._isAllowed(a))switch(this._allowed.push(a),a){case e.start:b();break;case e.action:c();break;case e.end:d()}},_restrict:function(a){function b(){f.$el.off(e.start,f._onInteractionStart)}function c(){f.$el.off(e.action,f._onInteraction)}function d(){f.$el.off(e.end,f._onInteractionEnd)}var e=this.options.interactions,f=this;if(this._isAllowed(a))switch(this._allowed.splice(this._allowed.indexOf(a),1),a){case e.start:b();break;case e.action:c();break;case e.end:d()}},_isPrevented:function(a){return-1!==this._prevented.indexOf(a)},_prevent:function(a){var b=this.options.interactions;if(!this._isPrevented(a))switch(this._prevented.push(a),a){case b.start:this.$el.on(b.start,c);break;case b.action:this.$el.on(b.action,c);break;case b.end:this.$el.on(b.end,c)}},_release:function(a){var b=this.options.interactions;if(this._isPrevented(a))switch(this._prevented.splice(this._allowed.indexOf(a),1),a){case b.start:this.$el.off(b.start,c);break;case b.action:this.$el.off(b.action,c);break;case b.end:this.$el.off(b.end,c)}},_onInteractionStart:function(){return this.options,this.options.interactions,this._notify("interaction:start"),null},_onInteraction:function(a){if($(a.target).hasClass("prevent-click-element")||$(a.target).closest(".prevent-click").get(0))return null;var b,c=this.options;if(this._notify("interaction"),c.actions&&c.actions.length){if(1!==c.actions.length)return b=d3.select(this.element).data()[0]||{},this.showActionsList({left:a.pageX||a.originalEvent.pageX,top:a.pageY||a.originalEvent.pageY,group:b.group}),!1;c.actions[0].action($(a.target),a)}return null},_onInteractionEnd:function(){return this._notify("interaction:stop"),null},destroy:function(){var a=this.options.interactions;this._destroyDroppable(),this._destroyDraggable(),this._restrict(a.action),this._restrict(a.start),this._restrict(a.end),this.$el.data("interactiveElement",null)}}}(window,Zoomdata),function(a,b){var c=b.Components.InteractiveElementController,d=_.clone(b.MVC.Events);b.Components=b.Components||{},b.Components.InteractiveElementsManager=function(a){a||(a={}),a.actionList&&(this.actionList=a.actionList,delete a.actionList),this.options=$.extend({},this.defaults,a),this.elements=[],this._interactions={}},b.Components.InteractiveElementsManager.prototype=_.extend({defaults:{},register:function(a,b){function c(a,b){b.actionList=d.actionList,d.registered(a)?d.updateElement(a,b):d._addToRegistry(a,b)}var d=this;a instanceof Array?_.each(a,function(a){c(a,b)}):c(a,b)},release:function(a,b){function c(a){var b=d.getInteractiveElementFor(a);b?d._removeFromRegistry(b):null}var d=this;a instanceof Array?_.each(a,function(a){c(a,b)}):c(a,b)},getInteractiveElementFor:function(a){return _.find(this.elements,function(b){return b.element==a})},registered:function(a){return!!this.getInteractiveElementFor(a)},updateElement:function(a,b){var c=this.getInteractiveElementFor(a);c&&c.set(b)},inProgress:function(a){return!!this._interactions[a]},getElementInAction:function(a){var b;return b=this.inProgress(a)?this._interactions[a]:null},_notify:function(a,b,c){c||(c={});var d=a.split(":")[0],e=a.split(":")[1]||"action";switch(e){case"start":this.inProgress(d)?this._stop(d,c):null,this._start(d,b,c);break;case"stop":this._stop(d,c);break;case"action":this._trigger(d,b,c)}},_start:function(a,b){this._interactions[a]=b},_stop:function(a){delete this._interactions[a]},_trigger:function(a,b,c){var d=!!c.silent;d||this.trigger(a,b)},_removeFromRegistry:function(a){var b=this;_.each(_.keys(this._interactions),function(c){a==b.getElementInAction(c)?b._stop(c):null}),a.destroy(),this.elements.splice(this.elements.indexOf(a),1)},_addToRegistry:function(a,b){this.elements.push(new c(this,a,b))},destroy:function(){for(;this.elements.length>0;)this._removeFromRegistry(this.elements[0])}},d)}(window,Zoomdata),function(a,b){b.Components=b.Components||{};var c=b.eventDispatcher,d=b.Components.Thread=function(a){if(a=a||{},_.bindAll(this,"_onStreamError","_onViewport","_onMessage","_onTimeLine","_onStartFromTimeDone","_onStartVisDone","_onNoDataFound","_onDirtyData","_onNotDirtyData"),!a.dataStream)throw new Error("dataStream must be defined");this.dataStream=a.dataStream,this.tuneTo(a),this._progress=0,this.status("idle"),this.onStreamError=$.noop,this.onMessage=$.noop,this.onTimeLine=$.noop,this.onStartFromTimeDone=$.noop,this.onStartVisDone=$.noop,this.onNoDataFound=$.noop,this.onPauseDone=$.noop,this.onSpeedUpdatedDone=$.noop,this.onDirtyData=$.noop,this.onNotDirtyData=$.noop,this.onPagination=$.noop,this.onPivotPaging=$.noop,this.onViewport=$.noop,this.onExeption=$.noop,this.listenTo(c,"stream:error",this._onStreamError),this.listenTo(c,"stream:message",this._onMessage),this.listenTo(c,"stream:TIME_LINE",this._onTimeLine),this.listenTo(c,"stream:START_FROM_TIME_DONE",this._onStartFromTimeDone),this.listenTo(c,"stream:START_VIS_DONE",this._onStartVisDone),this.listenTo(c,"stream:STOP_VIS_DONE",this._onStopVisDone),this.listenTo(c,"stream:NO_DATA_FOUND",this._onNoDataFound),this.listenTo(c,"stream:PAUSE_DONE",this._onPauseDone),this.listenTo(c,"stream:UPDATE_SPEED_DONE",this._onSpeedUpdatedDone),this.listenTo(c,"stream:DIRTY_DATA",this._onDirtyData),this.listenTo(c,"stream:NOT_DIRTY_DATA",this._onNotDirtyData),this.listenTo(c,"stream:PAGINATION",this._onPagination),this.listenTo(c,"stream:PAGING",this._onPivotPaging),this.listenTo(c,"stream:VIEWPORT",this._onViewport),this.listenTo(c,"stream:EXCEPTION",this._onExeption)};_.extend(d.prototype,b.MVC.Events,{tuneTo:function(a){if(this.stopListening(this.time),a.state)this.state=a.state,this.time=this.state.time;else{if(!a.config)throw new Error("state or config must be defined");this.state=new b.Models.State({streamSourceId:config.source.sourceId},{config:new b.MVC.Model(config)}),this.time=this.state.time}this.state.config.options={},this.listenTo(this.time,"change:time",this._onTimeChange),this.listenTo(this.time,"change:speed",this._onSpeedChange),this.listenTo(this.time,"change:paused",this._onPausedChange)},resetProgress:function(){this.progress(0)},progress:function(a){function b(a){return d._progress=a,d}function c(){return d._progress}var d=this;return"undefined"==typeof a?c():b(a)},destroy:function(){this.stop(),this.stopListening()},setUUID:function(){return this.UUID=b.Utilities.generateUUID(),this.UUID},getUUID:function(){return this.UUID},status:function(a){return"string"==typeof a?(this._status=a,this.trigger("status:change",a,this),this):this._status},start:function(a){var c=this.state.toRequest(a),d=JSON.stringify({type:"START_VIS",cid:this.UUID,request:c});"idle"!==this.status()?this.stop():null,console.log("Thread: start ",JSON.parse(d)),this.dataStream.send(d),this.resetProgress(),this.status("start"),this.trigger("thread:start",JSON.parse(d)),b.eventDispatcher.trigger("thread:start",JSON.parse(d))},stop:function(){var a=JSON.stringify({type:"STOP_VIS",cid:this.UUID});this.dataStream.send(a),this.resetProgress(),this.trigger("thread:stop",JSON.parse(a)),console.log("Thread: stop",JSON.parse(a)),this.status("idle")},pause:function(){var a=JSON.stringify({type:"PAUSE",cid:this.UUID});this.dataStream.send(a),console.log("Thread: pause",JSON.parse(a)),this.switchOffLiveMode()},unpause:function(){var a=JSON.stringify({type:"UNPAUSE",cid:this.UUID});this.dataStream.send(a),console.log("Thread: unpause",JSON.parse(a))},request_data:function(a){var a=a||{records:1e3},b=JSON.stringify({type:"REQUEST_DATA",cid:this.UUID,request:a});this.dataStream.send(b),console.log("Thread: request_data",JSON.parse(b))},togglePause:function(){var a=this.time.get("paused");a?this.unpause():this.pause()},switchOffLiveMode:function(){this.time.get("live")&&(this.time.set("live",!1),b.eventDispatcher.trigger("live:mode",{on:!1}))},switchOnLiveMode:function(){this.time.get("live")||(this.time.set("live",!0),b.eventDispatcher.trigger("live:mode",{on:!0,label:"LIVE"}))},startFromTime:function(a){var c,d,e=(new Date).getTime(),f=this.time;a>e&&"LIVE"===this.config.get("source").startFrom&&(a=null),c={speed:f.get("speed"),time:a,pauseAfterRead:f.get("paused")},d={type:"START_FROM_TIME",cid:this.UUID,request:c},console.log("Thread: startFromTime",d),this.dataStream.send(JSON.stringify(d)),this.resetProgress(),this.trigger("thread:time",d),b.eventDispatcher.trigger("thread:time",d)},startFromTimeTo:function(a){var b=(new Date).getTime(),c=this.time,d={},e=c.get("time");a>b&&(a=null),d={speed:c.get("speed"),timeWindow:a,pauseAfterRead:c.get("paused")},e&&null!==e&&(d.time=e);var f={type:"START_FROM_TIME",cid:this.UUID,request:d};this.dataStream.send(JSON.stringify(f)),this.resetProgress()},updateSpeed:function(a){var b=JSON.stringify({type:"UPDATE_SPEED",cid:this.UUID,request:{speed:a|this.time.get("speed")}});this.dataStream.send(b),console.log("Thread: updateSpeed",b)},_onTimeChange:function(a,b){this.startFromTime(b)},_onSpeedChange:function(a,b){this.updateSpeed(b)},_onPausedChange:function(a,b){b?this.pause():this.unpause()},_onStreamError:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.status("error"),"function"==typeof this.onStreamError?this.onStreamError(b.data):null,this.trigger("thread:error",a))},_onDirtyData:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.status("dirtydata"),"function"==typeof this.onDirtyData?this.onDirtyData(b.data):null,"number"==typeof b.progress?this.progress(b.progress):this.resetProgress(),this.trigger("thread:dirtyData",b))},_onNotDirtyData:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.status("running"),"function"==typeof this.onNotDirtyData?this.onNotDirtyData(b.data):null,this.progress(100),this.trigger("thread:notDirtyData",b))},_onMessage:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.status("progress"),"function"==typeof this.onMessage?this.onMessage(b.data):null,this.trigger("thread:message",b.data))},_onTimeLine:function(a){var b=JSON.parse(a.data);if(b.cid==this.UUID){if("HISTORICAL"===b.source)return void this.time.set({historicalFrom:b.fromTime,historicalTo:b.toTime});this.stopListening(this.time,"change:time",this._onTimeChange);var c={fromTime:b.fromTime,time:b.toTime,min:b.minTime&&"-1"!==b.minTime?b.minTime:void 0,max:b.maxTime&&"-1"!==b.maxTime?b.maxTime:void 0,live:b.live,speed:b.speed};this.time.set(c),this.listenTo(this.time,"change:time",this._onTimeChange),this.status("progress"),"function"==typeof this.onTimeLine?this.onTimeLine(b.data):null,this.trigger("thread:timeline",b.data)}},_onStartFromTimeDone:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.status("progress"),"function"==typeof this.onStartFromTimeDone?this.onStartFromTimeDone(b.data):null,this.trigger("thread:startFromTimeDone",b.data))},_onStartVisDone:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.status("progress"),"function"==typeof this.onStartVisDone?this.onStartVisDone(b.data):null,this.trigger("thread:startVisDone",b.data))},_onStopVisDone:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&("function"==typeof this.onStopVisDone?this.onStopVisDone(b.data):null,this.trigger("thread:stopVisDone",b.data))},_onNoDataFound:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.status("nodata"),"function"==typeof this.onNoDataFound?this.onNoDataFound(b.data):null,this.trigger("thread:noData",b.data))},_onPauseDone:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&(this.time.set("paused",!0),"function"==typeof this.onPauseDone?this.onPauseDone(b):null,this.trigger("thread:pauseDone",b))},_onSpeedUpdatedDone:function(a){var b=JSON.parse(a.data);b.cid==this.UUID&&("function"==typeof this.onSpeedUpdatedDone?this.onSpeedUpdatedDone(b.data):null,this.trigger("thread:updateSpeedDone",b.data))},_onPagination:function(a){var b=JSON.parse(a.data);b.cid===this.UUID&&(this.state.set("nextPageAvailable",b.nextPageAvailable,{silent:!0}),this.state.set("pages",b.pages,{silent:!0}),this.state.set("precise",b.precise,{silent:!0}),this.state.trigger("pages"),"function"==typeof this.onPagination?this.onPagination(b):null,this.trigger("thread:pagination",b))},_onPivotPaging:function(a){var b=JSON.parse(a.data);b.cid===this.UUID&&(this.state.pagesCount=b.pagesCount,this.state.precise=b.precise,this.state.set("pageIndex",b.pageIndex,{silent:!0}),"function"==typeof this.onPivotPaging?this.onPivotPaging(b):null,this.trigger("thread:pivotPaging",b))},_onViewport:function(a){var b=JSON.parse(a.data);b.cid===this.UUID&&("function"==typeof this.onViewport?this.onViewport(b):null,this.trigger("thread:viewport",b))},_onExeption:function(a){var b=JSON.parse(a.data);this.trigger("thread:exeption",b)}})}(window,Zoomdata),function(a,b){var c=_.clone(b.MVC.Events),d=["TRENDS","MULTI_METRIC_TREND"],e="PIVOT_TABLE";b.Components=b.Components||{},b.Components.StateInheritanceManager=function(a){if(a||(a={}),this.options=$.extend({},this.defaults,a),!this.options.controller)throw new Error("Controller must be defined");this.controller=this.options.controller,delete this.options.controller,this.history=[],this.addToHistory(this.controller.state,this.controller.config)},b.Components.StateInheritanceManager.prototype=_.extend({defaults:{},merge:function(a){var b=this.controller.config,c=(this.controller.state,a.oldConfig),d=a.oldState;return this.addToHistory(d,c),this.mergeTime(d,c),this.mergeFilters(d,c),this.isType(b,e)?(this.mergeToPivot(d,c),this):this.isType(c,e)?(this.mergeFromPivot(d,c),this):(this.mergeMetrics(d,c),this.mergeGroupBy(d,c),this.mergeClientSort(d),this)},mergeFilters:function(a){var b=(this.controller.config,this.controller.state);return a.filters.length>0&&b.filters.set(a.filters.toJSON(),{silent:!0}),this},mergeToPivot:function(a,b){var c,e,f,g=this.controller.config,h=this.controller.state,i="Columns"===g.attributes.source.variables["Metric Direction"],j={};i?(c="Column Attributes",e="Row Attributes"):(c="Row Attributes",e="Column Attributes"),f=a.metrics.toJSON().filter(function(a){var b=a.name,c=a.func,d=b+c,e=!1;return"none"===b&&(e=!0),j[d]===!0&&(e=!0),e?!1:(j[d]=!0,!0)}).map(function(a,b){return{name:a.name,func:a.func,label:"Metrics",id:"Metrics-"+b}}),h.metrics.reset(f,{silent:!0});var k=this.getOriginalType(b);return _.contains(d,k)||0===a.groupBy.length?this:(a.groupBy.length>0&&(g.attributes.source.variables[e]=[a.groupBy.getAttribute()],g.attributes.source.variables[c]=a.groupBy.getAttributes().slice(1)),this)},mergeFromPivot:function(a,c){var d,e,f=(this.controller.config,this.controller.state,"Columns"===c.attributes.source.variables["Metric Direction"]);f?(d="Column Attributes",e="Row Attributes"):(d="Row Attributes",e="Column Attributes"),this.mergeMetrics(a,c);var g=new b.Collections.GroupBy(c.attributes.source.variables[e].concat(c.attributes.source.variables[d]).map(function(a){return{name:a}}));this.mergeGroupBy(a,c,g)},mergeTime:function(a,b){var c=this.controller.config,e=this.controller.state,f=this.getOriginalType(b),g=this.getOriginalType(c);return f!==g&&(_.contains(d,g)||_.contains(d,f))?this:(e.time&&a.time&&e.time.get("timeWindow")===a.time.get("timeWindow")&&e.time.set(a.time.toJSON(),{silent:!0}),this)},mergeClientSort:function(a){var b=this.controller.state;return b.set({clientSort:a.get("clientSort")},{silent:!0}),this},mergeGroupBy:function(a,b,c){var e=this.controller.config,f=this.controller.state;c&&(a.groupBy=c);var g=a.groupBy.models,h=f.groupBy.models,i=a.groupBy.toJSON(),j=f.groupBy.toJSON(),k=this.getOriginalType(b),l=this.getOriginalType(e);if(k!==l&&(_.contains(d,l)||_.contains(d,k)))return this;if(j.length>i.length){var m=a.groupBy.getAttributes(),n=f.groupBy.getAttributes(),o=(j.slice(i.length),n.slice(i.length)),p=_.difference(n,m);i.forEach(function(a,b){var c=h[b];c.setAttribute(a.name,{silent:!0}),c.setSort(a.sort,{silent:!0})});var q=0;_.intersection(o,m).length>0&&o.forEach(function(a,b){var c=b+i.length;if(_.contains(m,a)){var d=h[c],e=_.findWhere(j,{name:p[q]});e&&(d.setAttribute(e.name,{silent:!0}),d.setSort(e.sort,{silent:!0})),q++}})}else h.forEach(function(a,b){var c=g[b];if(c){var d=c.toJSON();a.setAttribute(d.name,{silent:!0}),a.setSort(d.sort,{silent:!0})}});return this},mergeMetrics:function(a){function b(a,b){var c=[];return c=b?a.metrics.models.filter(function(a){return a.get("label")!==b.name}):a.metrics.models}function c(a){return _.findWhere(a.config.attributes.variables,{metricType:"color"})}var d=this.controller.state;if(0!==d.metrics.length&&0!==a.metrics.length){var e=c(d),f=c(a),g=b(d,e),h=b(a,f);if(g.forEach(function(a,b){var c,d,e=h[b];e&&(c=e.get("name"),d="count"===c?null:e.get("func"),"none"!==c&&a.set({name:c,func:d},{silent:!0}))}),e&&f){var i=d.metrics.findWhere({id:e.name}),j=a.metrics.findWhere({id:f.name}),k=j.get("name"),l="count"===k?null:j.get("func");"none"!==k&&i.set({name:k,func:l},{silent:!0})}return this}},addToHistory:function(a,b){return this.history.push({state:a,config:b}),this},getPrev:function(){var a=this.history.pop();return a},getOriginalType:function(a){var b=a.get("type");return b="CUSTOM"===b?a.get("templateType"):b},isType:function(a,b){var c=Array.isArray(b)?b:[b],d=!1,e=this.getOriginalType(a);return _.contains(c,e)&&(d=!0),d}},c)}(window,Zoomdata),function(a,b){"use strict";
b.Components=b.Components||{};var c=b.Collections.ComponentSources,d=b.Collections.LibrariesSources,e=b.Views.AxisLabel,f=b.Views.ColorKey,g=b.eventDispatcher,h=b.Components.Thread,i=b.Components.InteractiveElementsMethods,j=b.Components.MetricAccessor,k=b.Components.StateInheritanceManager,l="$Source";b.Components.VisualizationController=b.MVC.View.extend({defaults:{},remove:function(){this.stopVisualization(),this.removeVisualization(),this.worker&&this.worker.terminate(),b.MVC.View.prototype.remove.apply(this,arguments)},initialize:function(a){var e;if(this.dfd=null,this.axisLabels=[],this.metrics={},this.progress=0,this.setClearData(),"undefined"==typeof a.interactiveElements)throw new Error("interactiveElements must be defined");if(this.elementsManager=a.interactiveElements,delete a.interactiveElements,"object"!=typeof a.config)throw new Error("config must be defined");if(this.config=a.config,delete a.config,"object"!=typeof a.source)throw new Error("source must be defined");this.source=a.source,delete a.source,e=this.source,this.isRemote="object"==typeof a.host?!0:!1,this.worker=window.Worker&&this.isRemote===!1?new Worker("/zoomdata/js/components/Zoomdata.Workers.ProcessSocketData.js"):null,this._assemblyMethods(),b.MVC.View.prototype.initialize.apply(this,arguments),this.state=new b.Models.State({streamSourceId:this.config.get("source").sourceId},{config:this.config,objectFields:this.source.objectFields}),this.thread=new h({state:this.state,dataStream:b.dataStream}),this.fields=e.objectFields,this.formulas=e.formulaList,this._configureMetricAccessors(),this.time=this.state.time,this.$el.attr("data-visid",this.config.get("visId")).removeAttr("id"),this.components=new c(this.config.get("components"),{visId:this.config.get("visId"),name:this.config.get("name"),remote:this.isRemote&&this.options.host.remote,secure:this.isRemote&&this.options.host.secure,apiKey:this.isRemote&&this.options.host.apiKey}),this.libraries=new d(this.config.get("libs"),{remote:this.isRemote&&this.options.host.remote,secure:this.isRemote&&this.options.host.secure,apiKey:this.isRemote&&this.options.host.apiKey}),this.inheritanceManager=new k({controller:this}),this.resetIndicators()},_configureMetricAccessors:function(){var a,b,c,d=this,e=d.config.get("variables"),f=[],g=this.metrics={},h=this.fields;$(e).each(function(e,g){if("metric"===g.type||"multi-metric"===g.type)switch(g.metricType){case"color":a=g,d.autoShowColorLegend=g.autoShowColorLegend,"string"==typeof g.colors&&(g.colors=JSON.parse(g.colors)),g.savedColors&&"string"==typeof g.savedColors&&(g.savedColors=JSON.parse(g.savedColors)),c=g.colors?g.colors.length:0,g.colors&&$.each(g.colors,function(b,c){f.push(a.savedColors&&"string"==typeof a.savedColors[b]?a.savedColors[b]:c.color||c)});break;case"general":b=g}}),this.state.divergingColorRange="gradient",this.state.metrics.each(function(i){var k,l=i.get("name"),m=i.get("label"),n=_.where(e,{name:m})[0],o=n?n.type:"metric",p=i.isNone()?h.noneField:i.isCount()?h.volumeField:h.findWhere({name:l});"multi-metric"==o?g[m]instanceof Array?g[m].push(new j(i.toJSON(),p.toJSON())):g[m]=[new j(i.toJSON(),p.toJSON())]:g[m]=new j(i.toJSON(),p.toJSON()),a&&m===a.name?(d.state.colorMetric&&d.state.colorMetric.get("label")===m||(d.state.colorMetric=i),d.state.colorNumb=c,k=d.metrics[a.name][0]||d.metrics[a.name],k.metric.colors&&"string"!=typeof k.metric.colors||(d.state.legendType=a.legendType||"range",d.state.divergingColorRange=a.divergingColorRange||"gradient",k.setColorRangeType(d.state.divergingColorRange),k.metric.colors=f,k.domainValue=a.domain),d.metrics[a.name][0]&&(d.state.divergingColorRange=null,k.objectFields=[],d.source.objectFields.forEach(function(b){var c=b.get("type");("FORMULA"===c||-1!==a.attributeType.indexOf(c))&&k.objectFields.push(b),k.objectFields.length>k.metric.colors&&k.metric.colors.push("#ffffff")}),k.metric.colors.splice(k.objectFields.length,k.metric.colors.length),d.state.colorNumb=k.metric.colors.length),k.metric.colorsData=a.colors):b&&m===b.name&&(d.state.generalMetric=i)}),this._controller&&(this._controller.metrics=this.metrics)},_onGroupByChange:function(){this.clearVisualization(),this.restartVisualization()},_onMetricChange:function(a){function b(a,b){var c=_.find(a,function(a){var c=a.metric.name==("undefined"!=typeof b.changed.name?b.previous("name"):b.get("name"))&&a.metric.func==("undefined"!=typeof b.changed.func?b.previous("func"):b.get("func"));return c});c.setAccessTo(b.toJSON(),f.toJSON())}var c=a.get("label"),d=a.get("name"),e=this.metrics[c],f=a.isNone()?this.fields.noneField:a.isCount()?this.fields.volumeField:this.fields.findWhere({name:d});e instanceof Array?b(e,a):e.setAccessTo(a.toJSON(),f.toJSON()),this.restartVisualization()},_onMetricReset:function(){this.restartVisualization()},_onMetricAdd:function(a){var b=a.get("label"),c=a.get("name"),d=this.metrics[b],e=a.isCount()?this.fields.volumeField:this.fields.findWhere({name:c});d instanceof Array?null:d=[].concat(d),d.push(new j(a.toJSON(),e.toJSON())),this.restartVisualization()},_onMetricRemove:function(a){var b=a.get("label"),c=a.get("func"),d=a.get("name"),e=this.metrics[b]instanceof Array?this.metrics[b]:[].concat(this.metrics[b]),f=_.find(e,function(a){return a.metric.name==d&&a.metric.func==c});f&&e.splice(e.indexOf(f),1),this.restartVisualization()},_onMessage:function(a){"function"==typeof this._controller.processData?this._controller.processData(a,this.thread.progress()):this.processSocketData(a)},_onNoDataFound:function(){this.clearVisualization(),this._controller.onNoDataFound()},_onStartFromTimeDone:function(){this.setClearData()},_assemblyMethods:function(){_.extend(this,new i)},_createAxisLabel:function(a){if(this.isRemote)return null;var b=new e($.extend({},a,{controller:this})),c=b.render().$el,d=$(this.el.parentElement),f=$(this.el);switch(a.position){case"left":var g=d.find(".widgetLabel.left").eq(0);g&&0!==g.length||(g=$('<div class="widgetLabel left"/>'),d.prepend(g)),f.css({left:"50px"}),g.append(c);break;case"right":var h=d.find(".widgetLabel.right").eq(0);h&&0!==h.length||(h=$('<div class="widgetLabel right"/>'),d.prepend(h)),f.css({right:"50px"}),h.append(c);break;case"top":var i=d.find(".widgetLabel.top").eq(0);i&&0!==i.length||(i=$('<div class="widgetLabel top"/>'),d.prepend(i)),f.css({top:"50px"}),i.append(c);break;case"bottom":var j=d.find(".widgetLabel.bottom").eq(0);j&&0!==j.length||(j=$('<div class="widgetLabel bottom"/>'),d.prepend(j)),f.css({bottom:"50px"}),j.append(c)}return b.position(),c.hide().show(0),this.axisLabels.push(b),c},resetIndicators:function(){},setVisualization:function(a,c,d){var e=this,f=this.state,g=c&&d?d:new b.Models.State({streamSourceId:a.get("source").sourceId},{config:a,objectFields:this.source.objectFields,oldTimeWindowScale:this.state.time.get("timeWindow")}),h=this.config;a&&(this.config=a,this.config.sourceId=h.sourceId),this.stopVisualization(),this.removeVisualization(),this.state=g,this.thread.tuneTo({state:this.state,config:this.config}),this.time=this.state.time,this.$el.attr("data-visid",this.config.get("visId")).removeAttr("id"),this.libraries.reset(this.config.get("libs")),this.components.reset(this.config.get("components")),this.components.setVisId(this.config.get("visId")),this.components.setVisName(this.config.get("name")),c||this.inheritanceManager.merge({oldState:f,oldConfig:h}),this._configureMetricAccessors(),this.loadVisualization().done(function(){e.initVisualization(),e.startVisualization()}),this.trigger("visualization:change")},applyEvents:function(){var a=this;this.listenTo(g,"visualization:showpopup",a.showPopup),this.listenTo(this.thread,"thread:message",this._onMessage),this.listenTo(this.thread,"thread:start",this._onStart),this.listenTo(this.thread,"thread:error",this._onStreamError),this.listenTo(this.thread,"thread:notDirtyData",this._onNotDirtyData),this.listenTo(this.thread,"thread:noData",this._onNoDataFound),this.listenTo(this.thread,"thread:startFromTimeDone",this._onStartFromTimeDone),this.listenTo(this.thread,"thread:viewport",this._onViewport),this.listenTo(this.thread,"thread:stop",this._onStop),this.listenTo(this.thread,"thread:exeption",this._onExeption),this.listenTo(this.state,"change",this.restartVisualization),this.listenTo(this.state,"change:clientSort",this.refreshVisualization),this.listenTo(this.state.filters,"add remove change reset",this.restartVisualization),this.listenTo(this.state.metrics,"change",this._onMetricChange),this.listenTo(this.state.metrics,"add",this._onMetricAdd),this.listenTo(this.state.metrics,"remove",this._onMetricRemove),this.listenTo(this.state.metrics,"reset",this._onMetricReset),this.listenTo(this.state.groupBy,"change reset",this._onGroupByChange),this.listenTo(b.eventDispatcher,"restart",function(){a.startVisualization()}),this.on("resize",this._onResize)},muteEvents:function(){this.stopListening(g,"visualization:showpopup",this.showPopup),this.stopListening(this.thread,"thread:message",this._onMessage),this.stopListening(this.thread,"thread:start",this._onStart),this.stopListening(this.thread,"thread:error",this._onStreamError),this.stopListening(this.thread,"thread:notDirtyData",this._onNotDirtyData),this.stopListening(this.thread,"thread:noData",this._onNoDataFound),this.stopListening(this.thread,"thread:startFromTimeDone",this._onStartFromTimeDone),this.stopListening(this.thread,"thread:viewport",this._onViewport),this.stopListening(this.thread,"thread:stop",this._onStop),this.stopListening(this.thread,"thread:exeption",this._onExeption),this.stopListening(this.state,"change",this.restartVisualization),this.stopListening(this.state,"change:clientSort",this.refreshVisualization),this.stopListening(this.state.filters,"add remove change reset",this.restartVisualization),this.stopListening(this.state.metrics,"change",this._onMetricChange),this.stopListening(this.state.metrics,"add",this._onMetricAdd),this.stopListening(this.state.metrics,"remove",this._onMetricRemove),this.stopListening(this.state.metrics,"reset",this._onMetricReset),this.stopListening(this.state.groupBy,"change reset",this._onGroupByChange),this.off("resize",this._onResize),this._controller&&($(this._controller.element).off("resize"),this._controller.element.resize=null)},initVisualization:function(){var a=this,c=this.components.getComponentsNamespace(),d=b.Utilities.MODE.WIDGET===b.Utilities.mode();this._controller&&this._controller.toolbar().remove(),this.axisLabels=[],this._controller={element:this.el,state:this.getVisualizationState(),config:this.getSourceConfiguration(),scope:{},labels:this.axisLabels,metrics:this.metrics,fields:this.fields,onAdd:$.noop,onRemove:$.noop,onChange:$.noop,update:$.noop,onNoDataFound:$.noop,resize:$.noop,onStreamError:$.noop,onViewport:$.noop,onExeption:$.noop,onNotDirtyData:$.noop,onStart:$.noop,onStop:$.noop,registerInteractiveElements:function(b,c,d,e){a.registerInteractiveElements(b,c,d,e)},releaseInteractiveElement:function(b,c){a.releaseInteractiveElement(b,c)},registered:function(b){return a.elementsManager.registered(b)},requestData:function(){return a.thread.request_data.bind(a.thread)},customReadyStatusDelay:!1,setVisualization:function(b,c){a.setVisualization(b,c)},createAxisLabel:function(b){var c=a.state.config.get("variables"),d=c.filter(function(a){return a.name===b.picks})[0];return!d||"multi-group"!==d.type&&"group"!==d.type?a._createAxisLabel(b):a.state.groupBy.map(function(c,d){var e;return b.popoverTitle?(e=b.popoverTitle,a.state.groupBy.length>1&&(e+=" "+(d+1))):e=c.getLabel()||"Group "+(d+1),a._createAxisLabel($.extend({},b,{picks:c,popoverTitle:e}))})},toolbar:function(){var c=a._controller.toolbar;if(!c.$_toolbar){c.$_toolbar=$('                            <div class="zd-visualization-toolbar navbar">                                 <div class="navbar-inner">                                      <div class="container">                                         <ul class="nav pull-left"/>                                          <ul class="nav pull-right"/>                                     </div>                                  </div>                            </div>').prependTo($(a._controller.element).parent());var e=function(){return c.$_toolbar.find(".nav.pull-left")},f=function(){return c.$_toolbar.find(".nav.pull-right")};c.append=function(g,h){if(g.item&&void 0!==g.item.availableForMode&&"function"==typeof g.item.availableForMode){var i=g.item.availableForMode(b.Utilities.mode());if(!i)return}var j=g.side||g.item&&g.item.side||"left",k=g.el||g.item&&g.item.render().el;if(!k){var l=new b.VisualizationControls.ToolbarItem(g);k=l.render().el}"left"===j?h?e().prepend(k):e().append(k):h?f().prepend(k):f().append(k),g.item&&g.name&&(c._items||(c._items={}),c._items[g.name]=g.item);var m=a.$el.parent().find(".zd-visualization-toolbar");return d&&"list"!==g.item.icon?$(k).remove():m.length>0?$(a._controller.element).css({height:"87%"}):$(a._controller.element).css("height","calc(100% - 42px)"),c},c.get=function(a){return c._items&&c._items[a]||null},c.remove=function(){c._items=null,c.$_toolbar.remove(),c.$_toolbar=null}}return c}},$.each(this.metrics,function(b,c){return c.colorMetric?(a._controller.colorMetric=c,!1):void 0});var e=_.filter(this.config.get("controls"),function(a){return a.indexOf("ToolbarItem")>=0?a:null});if(e.length>0){var f=[];e.forEach(function(c){if(b.VisualizationToolbar[c]){var d=new b.VisualizationToolbar[c]({controller:a._controller});d.name=c,f.push(d)}}),f=_.sortBy(f,function(a){return a.order||Number.MAX_VALUE}),f.forEach(function(b){a._controller.toolbar().append({item:b,name:b.name})})}this._controller.variables=this.config.get("source").variables,this.components.where({type:"text/javascript"}).forEach(function(d){var e=d.getConstructorName();b.Visualizations[c][e](a._controller,b)}),this._controller.update=this._controller.update||$.noop,this._controller.onAdd=this._controller.onAdd||$.noop,this._controller.onRemove=this._controller.onRemove||$.noop,this._controller.onChange=this._controller.onChange||$.noop,this._controller.clear=this._controller.clear||$.noop,this._controller.resize=this._controller.resize||$.noop,this._controller.onStreamError=this._controller.onStreamError||$.noop,this._controller.onNotDirtyData=this._controller.onNotDirtyData||$.noop,this._controller.onStart=this._controller.onStart||$.noop,this._controller.onViewport=this._controller.onViewport||$.noop,this._controller.onExeption=this._controller.onExeption||$.noop;var g=this.config.get("type");d&&"PIVOT_TABLE"!==g&&this._controller.toolbar().remove(),this.initColorKey(),this.applyEvents()},removeVisualization:function(){var a=this.config.get("visId"),b={},c=$("script"),d=this.$el.parents(".widgetBody, .fullScreenContainer").eq(0);this.$el.appendTo(d),this.components.each(function(d){if("text/javascript"===d.get("type")){var e=d.get("id");c.each(function(c,d){d.getAttribute("src")&&d.getAttribute("src").indexOf(a)>-1&&d.getAttribute("src").indexOf(e)>-1&&(b[e]=$(d))})}}),d.children().not(".widgetContent").remove(),d.removeAttr("id"),this.clearVisualization(!0),this.setClearData(),this._controller&&($(this._controller.element).children().not(".zd-legend").remove(),this._controller.labels.length>0&&this._controller.labels.forEach(function(a){a.remove(),a=null})),this.$el.removeAttr("style data-visid"),this.muteEvents(),this.trigger("visualization:removed");for(var e in b)b.hasOwnProperty(e)&&b[e].remove()},initColorKey:function(){this.colorKey=new f({el:this.$el.find(".zd-legend"),controller:this,isDraggable:!0,autoShow:this.autoShowColorLegend})},loadVisualization:function(){var a=this,c=this.components.getComponentsNamespace();return this.dfd=$.Deferred(),b.Visualizations instanceof Array?(a.trigger("visualization:loaded"),this.dfd.resolve()):(b.Visualizations[c]||(b.Visualizations[c]={}),this.trigger("visualization:loading"),this.$el.attr("data-visid",this.config.get("visId")).removeAttr("id"),this.libraries.load().done(function(){a.components.load().done(function(){a.trigger("visualization:loaded"),a.dfd.resolve()}).fail(function(a){throw a.message})}).fail(function(a){throw a.message})),this.dfd.promise()},setUUID:function(){this.thread.setUUID(),this.UUID=this.thread.getUUID(),this.config.set("id",this.UUID),this._controller.UUID=this.UUID},applyScope:function(){var a,b=this,c=this._controller.state.config.attributes.components,d=document.styleSheets,e=null,f="uuid_",g=document.createElement("style"),h=b.config.attributes.visId;if(document.body.appendChild(g),a=g.scoped+"",g.parentNode.removeChild(g),a){var i=$('style[data-visid="'+h+'"]');return i.appendTo(b.$el),i.attr("scoped",""),void i.scopedPolyFill()}c.map(function(a){try{if("text/css"===a.type){for(var c=0,g=d.length;g>c;c++){var i=d[c],j=a.id;if(h&&i.ownerNode.attributes["data-visid"]&&h===i.ownerNode.attributes["data-visid"].value&&j&&i.ownerNode.attributes["data-componentid"]&&j===i.ownerNode.attributes["data-componentid"].value&&void 0===i.UUID){e=i;break}}if(e){var k=b._controller.UUID;for(b.$el.attr("id",f+k),c=0,g=e.cssRules.length;g>c;c++){var l=e.cssRules?e.cssRules[c].selectorText.split(","):e.rules[c].selectorText.split(","),m="";if(l.forEach(function(a,b){m+="#"+f+k+" "+a+(b!==l.length-1?",":"")}),e.cssRules){e.cssRules[c].selectorText=m;var n=_.extend({},e.cssRules[c]);e.removeRule?e.removeRule(c):e.deleteRule(c)}else{e.rules[c].selectorText=m;var n=_.extend({},e.rules[c]);e.removeRule?e.removeRule(c):e.deleteRule(c)}e.insertRule?e.insertRule(n.cssText,c):e.addRule(m,n.style.cssText,c)}}}}catch(o){throw console.log("Scoped error",o),o}})},startVisualization:function(){return this.setUUID(),this._controller.delayedStart&&this._controller.delayedStart===!0?void 0:(this.thread.start(),this)},stopVisualization:function(){return this.thread.stop(),this.trigger("visualization:stop",this),g.trigger("visualization:stop",this),this},restartVisualization:function(){this.setClearData(),this.stopVisualization(),this.startVisualization(!0)},refreshVisualization:function(){var a=this.state.get("clientSort"),b=this.state.metrics.at(0);b&&a&&this.state.config.set("clientSort",a);var c=this.data;"function"==typeof this._controller.processData&&this._controller.processData(c,this.progress),this._updateMetricsDomain(c),this.processSocketData(c,this.progress),this.colorKey.render()},clearVisualization:function(a){a||(this.setClearData(),this.refreshVisualization()),this._controller?"function"==typeof this._controller.clear?this._controller.clear():null:this.dfd&&this.dfd.reject()},getControlsList:function(){return this.getSourceConfiguration().controls||[]},getSourceConfiguration:function(){return this.config.toJSON()},getVisualizationState:function(){return this.state},updateVisualizationState:function(a){return this.state.set(a),this},setClearData:function(){this.data=[],this.worker&&this.worker.postMessage("data:clear")},processSocketData:function(a){var b=this,c=this.worker,d=this._controller.state.groupBy.at(0),e=d&&d.get?d.get("sort").name:"count";if("count"===e&&this.state.metrics.length>0){var f=this.config.get("variables").filter(function(a){return"metric"===a.type&&"color"!==a.metricType})[0],g=f&&f.name?f.name:!1;e=this.metrics&&this.metrics[g]?this.metrics[g].metric.name:"count"}if(c)c.onmessage=function(c){if(c.data.data){b.data=c.data.data;var d=JSON.parse(JSON.stringify(b.data));b._updateMetricsDomain(d),b._controller.update(d,b.thread.progress(),{original_data:a}),b.colorKey.render()}},c.postMessage({data:a,oldData:this.data,clientSort:this.state.get("clientSort"),sortAttribute:e});else{if(a instanceof Array&&a.length>0){var h=[],i={},j={},k=this.data,l=a;if(0===k.length)h=l;else if(0===l.length)h=k;else{k.forEach(function(a){var b=Array.isArray(a.group)?a.group.join():a.group;i[b]=a}),l.forEach(function(a){var b=Array.isArray(a.group)?a.group.join():a.group;j[b]=a});for(var m in j)j.hasOwnProperty(m)&&(-1===j[m].current.count?i[m]&&delete i[m]:i[m]=j[m]);for(var m in i)i.hasOwnProperty(m)&&h.push(i[m])}this.data=this._sortData(h),i=null,j=null}var n=JSON.parse(JSON.stringify(this.data));this._updateMetricsDomain(n),this._controller.update(n,this.thread.progress(),{original_data:a})}},_sortData:function(a){var b=this.state.get("clientSort"),c=[];if(b&&this.state.metrics.size()>0){var d=null,e=this.metrics[this.state.metrics.at(0).get("label")];switch(e instanceof Array?e=e[0]:null,b){case"valueDescending":d=function(a,b){var c=e.raw(b)-e.raw(a);if(0===c){var d=a.group.join?a.group.join(""):a.group,f=b.group.join?b.group.join(""):b.group;return d.localeCompare(f)}return c};break;case"valueAscending":d=function(a,b){var c=e.raw(a)-e.raw(b);if(0===c){var d=a.group.join?a.group.join(""):a.group,f=b.group.join?b.group.join(""):b.group;return f.localeCompare(d)}return c};break;case"alphabetical":d=function(a,b){var c=a.group.join?a.group.join(""):a.group,d=b.group.join?b.group.join(""):b.group;return c.localeCompare(d)};break;case"reverseAlphabetical":d=function(a,b){var c=a.group.join?a.group.join(""):a.group,d=b.group.join?b.group.join(""):b.group;return d.localeCompare(c)};break;default:d=null}c=a.sort(d)}else c=a;return c},_updateMetricsDomain:function(a){function b(d){$.each(d,function(d,e){e instanceof Array?b(e):(e._updateDomain(a,c.state.colorNumb),c.state.colorMetricDomain=e.domain())})}var c=this;b(this.metrics)},_updateMetricsDivergingColorRange:function(a){function b(c){$.each(c,function(c,d){d instanceof Array?b(d):d.setColorRangeType(a)})}this.state.divergingColorRange=a,b(this.metrics)},calculateBottomMargin:function(a){var b;switch(a){case"large":b=10;break;case"medium":b=40;break;case"small":b=50}return b},_onResize:function(){var a=$(this._controller.element),c=a.parents(".widget, .fullScreenContainer").eq(0),d=c.width(),e=c.height(),f=a.width(),g=a.height(),h=b.Utilities.getWidgetSizeClass(d,e),i=this.$el.parent().find(".zd-visualization-toolbar"),j=0;i.length>0&&(j=this.calculateBottomMargin(h)),a.trigger("resize",[f,g]),f=a.width(),g=a.height()-j,this.colorKey.fixPosition(),this._controller.resize(f,g,h)},_onStreamError:function(a){this._controller.onStreamError(a)},_onStart:function(a){this._controller.onStart(a),this.trigger("visualization:start")},_onNotDirtyData:function(a){this._controller.onNotDirtyData(a)},_onViewport:function(a){this._controller.onViewport(a)},_onExeption:function(a){this._controller.onExeption(a)},_onStop:function(a){this._controller.onStop(a)},startFromTime:function(a,b){this.thread.startFromTime(b)},startFromTimeTo:function(a,b){this.thread.startFromTimeTo(b)},updateSpeed:function(a,b){this.thread.updateSpeed(b)},togglePause:function(a){var b=this.thread;void 0!==a?a?b.unpause():b.pause():this.thread.togglePause()},getRestrictions:function(a){var b=a.restrictions,c=_.map(b,function(a){return{path:a.path,operation:a.operation,value:a.value}});return _.filter(c,function(b){return b.path!=a.tsField})},getDefaultTemplate:function(){return l},getVisualizationName:function(){var a=this.state.metrics,b=a.at(0),c=(b?this.metrics[b.get("label")]:null,this.config.get("source")),d=this.config.get("type"),e=(this.config.get("name"),this.state.groupBy.getAttribute()),f=this.fields.findWhere({name:e}),g=(f?f.get("label"):e,c.sourceName),h=c.variables["Visualization Name"]||this.getDefaultTemplate(d),i=h||g;return h&&(i=i.replace(l,g)),i}})}(window,Zoomdata),function(a,b){function c(a,c,d){var e="/websocket/";return a&&(e=a+e+"?key="+c,e=d?"wss://"+e:"ws://"+e),b.dataStream=b.DataStreamProvider.getStream(e,b.eventDispatcher),b.dataStream}function d(b){function c(a,b){var c={remote:l.host,secure:l.secure,apiKey:l.apiKey},d=g(a,b,k,c);l.visualizations.push(d),d.controller.loadVisualization().done(function(){d.controller.initVisualization(),d.controller.startVisualization(),m.resolve(d)})}function d(a,b){var c="string"==typeof a?a:null;console.warn(c||b+": "+a.statusText),m.reject(a,b)}function e(a){console.log(a),m.notify(a)}b=b||{};var h,i,j,k,l=this,m=$.Deferred(),n=this.sources;if("string"!=typeof b.visualization||!b.visualization)throw new Error("Invalid visualization name");if(h=b.visualization,"string"!=typeof b.source||!b.source)throw new Error("Invalid source name");if(i=b.source,!(b.element instanceof a.HTMLElement))throw new Error("Invalid element");return k=b.element,j=n.findWhere({name:i}),j?f(h,j).then(c,d,e):(m.notify("Loading Source"),n.fetch({data:{name:i}}).then(function(a){var b,g;a[0]?(b=a[0].id,g=n.get(b),f(h,g).then(c,d,e)):m.reject("source doesn't exist")})),m.promise()}function e(a){a=a||{};var b,c,d,e=$.Deferred();if("string"!=typeof a.visualization||!a.visualization)throw new Error("Invalid visualization name");if(b=a.visualization,"string"!=typeof a.source||!a.source)throw new Error("Invalid source name");return c=a.source,d=_.where(this.visualizations,{name:b,source:c})[0],d?(e.notify("Closing visualization "+b),d.controller.remove(),d.controller.elementsManager.destroy(),$(d.root).remove(),this.visualizations.splice(this.visualizations.indexOf(d),1),e.resolve()):e.reject("Visualization doesn't exist"),e.promise()}function f(a,b){var c=b.visualizations.findWhere({name:a}),d=$.Deferred();return c?(d.notify("fetching visualization config for "+a),c.fetch().done(function(){d.resolve(c,b)}).fail(function(a,b){d.reject(a,b)})):(d.notify("fetching visualizations for "+b.get("name")),b.visualizations.fetch().done(function(){var c=b.visualizations.findWhere({name:a});c?(d.notify("fetching visualization config for "+a),c.fetch().done(function(){d.resolve(c,b)}).fail(function(a,b){d.reject(a,b)})):d.reject("visualization doesn't exist")}).fail(function(a,b){d.reject(a,b)})),d}function g(a,b,c,d){var e=$('<div style="position: relative; height: 100%;"></div>').appendTo(c),f=$('<div class="widgetContent" style="position: relative; height: 100%;"></div>').append('<div class="zd-legend" style="display: none;"></div>').appendTo(e)[0],g=new k,h=new j({config:a,source:b,interactiveElements:g,el:f,host:d}),i={name:a.get("name"),source:b.get("name"),root:e[0],controller:h};return console.log(i),i}b.Components=b.Components||{};var h={secureHost:!1},i=b.Collections.Sources,j=b.Components.VisualizationController,k=b.Components.InteractiveElementsManager,l=function(a){if(this.visualizations=[],"undefined"==typeof a.apiKey)throw new Error("An apiKey must be defined");if(this.apiKey=a.apiKey,this.secure="undefined"!=typeof a.secure?a.secure:h.secure,"undefined"==typeof a.host)throw new Error("An url must be defined");this.host=a.host,this.sources=new i([],{secure:this.secure,remote:this.host,apiKey:this.apiKey}),this.stream=c(this.host,this.apiKey,this.secure)};l.prototype={visualize:d,stop:e},b.Components.StandaloneClient=l,a.ZoomdataClient=l}(window,Zoomdata);